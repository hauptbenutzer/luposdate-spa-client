this.App={},App.loadEditors=function(){return App.cm={},App.cm.sparql=CodeMirror.fromTextArea(document.getElementById("codemirror"),{mode:"sparql",lineNumbers:!0}),App.loadQuery("sparql",0),App.cm.rdf=CodeMirror.fromTextArea(document.getElementById("codemirror_rdf"),{lineNumbers:!0,mode:"ntriples"}),App.loadQuery("rdf",0),App.cm.rif=CodeMirror.fromTextArea(document.getElementById("codemirror_rif"),{lineNumbers:!0,mode:"rif"}),App.loadQuery("rif",0)},App.loadQuery=function(e,r){return $.ajax({url:App.config.defaultData[e][r],dataType:"text"}).done(function(r){return App.cm[e].getDoc().setValue(r)})},App.init=function(){return $.getJSON("scripts/config.json",function(e){return App.config=e,App.play()})},App.bindEvents=function(){return $(".query .evaluate").click(function(){var e,r;return App.cm.sparql.save(),r=""+App.config.endpoints[0].url+"sparql",e=$(this).parents(".query").find(".editor").val(),$.ajax({url:r,method:"GET",data:{query:e},success:function(e){return App.processResults(e)}})}),$(document).foundation({tab:{callback:function(e){var r;return r=$(e.children("a").attr("href")),r.find(".CodeMirror").length?r.find(".CodeMirror")[0].CodeMirror.refresh():void 0}}}),$(".error-log button").click(function(){return $(this).next().toggleClass("visible")}),$(".query-select").change(function(){var e,r;return r=$(this).data("lang"),e=$(this).find("option:selected").index(),console.log(e),App.loadQuery(r,e)}),$(".fullscreen-toggle").click(function(){return $(".main-section").toggleClass("full")}),$(".right-side-toggle").click(function(){return $(".left-side .right-side-tab").length?($(".right-side-tab-content").appendTo($(".right-side .tabs-content")),$(".right-side-tab").appendTo($(".right-side .tabs")),$(".right-side").show(),$(".right-side .tabs a").get(0).click()):($(".right-side-tab-content").appendTo($(".left-side .tabs-content")),$(".right-side-tab").appendTo($(".left-side .tabs")),$(".right-side").hide()),$(this).toggleClass("active"),$(".left-side").toggleClass("medium-6 medium-12"),$(".left-side .tabs a").get(0).click()})},App.play=function(){return App.loadEditors(),App.bindEvents(),App.insertQueryPicker(),pleaseWait.finish(),console.log("ready"),App.cm.sparql.refresh()},App.insertQueryPicker=function(){var e;for(e in{sparql:"sparql",rdf:"rdf",rif:"rif"})console.log(e),$("#query-select-"+e).html(JST.query_picker({options:App.config.defaultData[e]}));return console.log($("#rule_radios input[value="+App.config.defaultOntology+"]").click())},App.processResults=function(e){var r;return $.isXMLDoc(e)?(r="",$("#panel10").append(JST.results({results:r.result}))):$(".error-log .list").append("<li>"+e+"</li>")},App.baseName=function(e){var r;return r=new String(e).substring(e.lastIndexOf("/")+1),-1!==r.lastIndexOf(".")&&(r=r.substring(0,r.lastIndexOf("."))),r},$(document).ready(function(){return App.init()});