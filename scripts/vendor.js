function X2JS(t){"use strict";function e(){void 0===t.escapeMode&&(t.escapeMode=!0),t.attributeArray=t.attributeArray||!1,t.attributePrefix=t.attributePrefix||"_",t.arrayAccessForm=t.arrayAccessForm||"none",t.emptyNodeForm=t.emptyNodeForm||"text",void 0===t.enableToStringFunc&&(t.enableToStringFunc=!0),t.arrayAccessFormPaths=t.arrayAccessFormPaths||[],void 0===t.skipEmptyTextNodesForObj&&(t.skipEmptyTextNodesForObj=!0),void 0===t.stripWhitespaces&&(t.stripWhitespaces=!0),t.datetimeAccessFormPaths=t.datetimeAccessFormPaths||[],void 0===t.useDoubleQuotes&&(t.useDoubleQuotes=!1)}function n(){function t(t){var e=String(t);return 1===e.length&&(e="0"+e),e}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}function r(t){var e=t.localName;return null==e&&(e=t.baseName),(null==e||""==e)&&(e=t.nodeName),e}function i(t){return t.prefix}function o(t){return"string"==typeof t?t.replace(/&/g,"&").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):t}function a(e,n,r){switch(t.arrayAccessForm){case"property":e[n+"_asArray"]=e[n]instanceof Array?e[n]:[e[n]]}if(!(e[n]instanceof Array)&&t.arrayAccessFormPaths.length>0){for(var i=0;i<t.arrayAccessFormPaths.length;i++){var o=t.arrayAccessFormPaths[i];if("string"==typeof o){if(o==r)break}else if(o instanceof RegExp){if(o.test(r))break}else if("function"==typeof o&&o(e,n,r))break}i!=t.arrayAccessFormPaths.length&&(e[n]=[e[n]])}}function s(t){var e=t.split(/[-T:+Z]/g),n=new Date(e[0],e[1]-1,e[2]),r=e[5].split(".");if(n.setHours(e[3],e[4],r[0]),r.length>1&&n.setMilliseconds(r[1]),e[6]&&e[7]){var i=60*e[6]+Number(e[7]),o=/\d\d-\d\d:\d\d$/.test(t)?"-":"+";i=0+("-"==o?-1*i:i),n.setMinutes(n.getMinutes()-i-n.getTimezoneOffset())}else-1!==t.indexOf("Z",t.length-1)&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));return n}function u(e,n,r){if(t.datetimeAccessFormPaths.length>0){for(var i=r.split(".#")[0],o=0;o<t.datetimeAccessFormPaths.length;o++){var a=t.datetimeAccessFormPaths[o];if("string"==typeof a){if(a==i)break}else if(a instanceof RegExp){if(a.test(i))break}else if("function"==typeof a&&a(obj,n,i))break}return o!=t.datetimeAccessFormPaths.length?s(e):e}return e}function l(e,n){if(e.nodeType==x.DOCUMENT_NODE){for(var o=new Object,s=e.childNodes,c=0;c<s.length;c++){var h=s.item(c);if(h.nodeType==x.ELEMENT_NODE){var f=r(h);o[f]=l(h,f)}}return o}if(e.nodeType==x.ELEMENT_NODE){var o=new Object;o.__cnt=0;for(var s=e.childNodes,c=0;c<s.length;c++){var h=s.item(c),f=r(h);h.nodeType!=x.COMMENT_NODE&&(o.__cnt++,null==o[f]?(o[f]=l(h,n+"."+f),a(o,f,n+"."+f)):(null!=o[f]&&(o[f]instanceof Array||(o[f]=[o[f]],a(o,f,n+"."+f))),o[f][o[f].length]=l(h,n+"."+f)))}t.attributeArray&&(o[t.attributeArray]={});for(var d=0;d<e.attributes.length;d++){var p=e.attributes.item(d);o.__cnt++,t.attributeArray?o[t.attributeArray][p.name]=p.value:o[t.attributePrefix+p.name]=p.value}var g=i(e);return null!=g&&""!=g&&(o.__cnt++,o.__prefix=g),null!=o["#text"]&&(o.__text=o["#text"],o.__text instanceof Array&&(o.__text=o.__text.join("\n")),t.stripWhitespaces&&(o.__text=o.__text.trim()),delete o["#text"],"property"==t.arrayAccessForm&&delete o["#text_asArray"],o.__text=u(o.__text,f,n+"."+f)),null!=o["#cdata-section"]&&(o.__cdata=o["#cdata-section"],delete o["#cdata-section"],"property"==t.arrayAccessForm&&delete o["#cdata-section_asArray"]),1==o.__cnt&&null!=o.__text?o=o.__text:0==o.__cnt&&"text"==t.emptyNodeForm?o="":o.__cnt>1&&null!=o.__text&&t.skipEmptyTextNodesForObj&&(t.stripWhitespaces&&""==o.__text||""==o.__text.trim())&&delete o.__text,delete o.__cnt,!t.enableToStringFunc||null==o.__text&&null==o.__cdata||(o.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),o}return e.nodeType==x.TEXT_NODE||e.nodeType==x.CDATA_SECTION_NODE?e.nodeValue:void 0}function c(e,n,r,i){var a="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+n;if(null!=r)for(var s=0;s<r.length;s++){var u=r[s],l=e[u];t.escapeMode&&(l=o(l)),a+=" "+u.substr(t.attributePrefix.length)+"=",a+=t.useDoubleQuotes?'"'+l+'"':"'"+l+"'"}return a+=i?"/>":">"}function h(t,e){return"</"+(null!=t.__prefix?t.__prefix+":":"")+e+">"}function f(t,e){return-1!==t.indexOf(e,t.length-e.length)}function d(e,n){return"property"==t.arrayAccessForm&&f(n.toString(),"_asArray")||0==n.toString().indexOf(t.attributePrefix)||0==n.toString().indexOf("__")||e[n]instanceof Function?!0:!1}function p(t){var e=0;if(t instanceof Object)for(var n in t)d(t,n)||e++;return e}function g(e){var n=[];if(e instanceof Object)for(var r in e)-1==r.toString().indexOf("__")&&0==r.toString().indexOf(t.attributePrefix)&&n.push(r);return n}function m(e){var n="";return null!=e.__cdata&&(n+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(n+=t.escapeMode?o(e.__text):e.__text),n}function v(e){var n="";return e instanceof Object?n+=m(e):null!=e&&(n+=t.escapeMode?o(e):e),n}function y(t,e,n){var r="";if(0==t.length)r+=c(t,e,n,!0);else for(var i=0;i<t.length;i++)r+=c(t[i],e,g(t[i]),!1),r+=b(t[i]),r+=h(t[i],e);return r}function b(t){var e="",n=p(t);if(n>0)for(var r in t)if(!d(t,r)){var i=t[r],o=g(i);if(null==i||void 0==i)e+=c(i,r,o,!0);else if(i instanceof Object)if(i instanceof Array)e+=y(i,r,o);else if(i instanceof Date)e+=c(i,r,o,!1),e+=i.toISOString(),e+=h(i,r);else{var a=p(i);a>0||null!=i.__text||null!=i.__cdata?(e+=c(i,r,o,!1),e+=b(i),e+=h(i,r)):e+=c(i,r,o,!0)}else e+=c(i,r,o,!1),e+=v(i),e+=h(i,r)}return e+=v(t)}var _="1.2.0";t=t||{},e(),n();var x={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};this.parseXmlString=function(t){var e=window.ActiveXObject||"ActiveXObject"in window;if(void 0===t)return null;var n;if(window.DOMParser){var r=new window.DOMParser,i=null;if(!e)try{i=r.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch(o){i=null}try{n=r.parseFromString(t,"text/xml"),null!=i&&n.getElementsByTagNameNS(i,"parsererror").length>0&&(n=null)}catch(o){n=null}}else 0==t.indexOf("<?")&&(t=t.substr(t.indexOf("?>")+2)),n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t);return n},this.asArray=function(t){return void 0===t||null==t?[]:t instanceof Array?t:[t]},this.toXmlDateTime=function(t){return t instanceof Date?t.toISOString():"number"==typeof t?new Date(t).toISOString():null},this.asDateTime=function(t){return"string"==typeof t?s(t):t},this.xml2json=function(t){return l(t)},this.xml_str2json=function(t){var e=this.parseXmlString(t);return null!=e?this.xml2json(e):null},this.json2xml_str=function(t){return b(t)},this.json2xml=function(t){var e=this.json2xml_str(t);return this.parseXmlString(e)},this.getVersion=function(){return _}}window.Modernizr=function(t,e,n){function r(t){b.cssText=t}function i(t,e){return r(k.join(t+";")+(e||""))}function o(t,e){return typeof t===e}function a(t,e){return!!~(""+t).indexOf(e)}function s(t,e){for(var r in t){var i=t[r];if(!a(i,"-")&&b[i]!==n)return"pfx"==e?i:!0}return!1}function u(t,e,r){for(var i in t){var a=e[t[i]];if(a!==n)return r===!1?t[i]:o(a,"function")?a.bind(r||e):a}return!1}function l(t,e,n){var r=t.charAt(0).toUpperCase()+t.slice(1),i=(t+" "+S.join(r+" ")+r).split(" ");return o(e,"string")||o(e,"undefined")?s(i,e):(i=(t+" "+M.join(r+" ")+r).split(" "),u(i,e,n))}function c(){p.input=function(n){for(var r=0,i=n.length;i>r;r++)L[n[r]]=!!(n[r]in _);return L.list&&(L.list=!(!e.createElement("datalist")||!t.HTMLDataListElement)),L}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),p.inputtypes=function(t){for(var r,i,o,a=0,s=t.length;s>a;a++)_.setAttribute("type",i=t[a]),r="text"!==_.type,r&&(_.value=x,_.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(i)&&_.style.WebkitAppearance!==n?(m.appendChild(_),o=e.defaultView,r=o.getComputedStyle&&"textfield"!==o.getComputedStyle(_,null).WebkitAppearance&&0!==_.offsetHeight,m.removeChild(_)):/^(search|tel)$/.test(i)||(r=/^(url|email)$/.test(i)?_.checkValidity&&_.checkValidity()===!1:_.value!=x)),E[t[a]]=!!r;return E}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var h,f,d="2.8.3",p={},g=!0,m=e.documentElement,v="modernizr",y=e.createElement(v),b=y.style,_=e.createElement("input"),x=":)",w={}.toString,k=" -webkit- -moz- -o- -ms- ".split(" "),C="Webkit Moz O ms",S=C.split(" "),M=C.toLowerCase().split(" "),T={svg:"http://www.w3.org/2000/svg"},A={},E={},L={},N=[],F=N.slice,z=function(t,n,r,i){var o,a,s,u,l=e.createElement("div"),c=e.body,h=c||e.createElement("body");if(parseInt(r,10))for(;r--;)s=e.createElement("div"),s.id=i?i[r]:v+(r+1),l.appendChild(s);return o=["&#173;",'<style id="s',v,'">',t,"</style>"].join(""),l.id=v,(c?l:h).innerHTML+=o,h.appendChild(l),c||(h.style.background="",h.style.overflow="hidden",u=m.style.overflow,m.style.overflow="hidden",m.appendChild(h)),a=n(l,t),c?l.parentNode.removeChild(l):(h.parentNode.removeChild(h),m.style.overflow=u),!!a},D=function(e){var n=t.matchMedia||t.msMatchMedia;if(n)return n(e)&&n(e).matches||!1;var r;return z("@media "+e+" { #"+v+" { position: absolute; } }",function(e){r="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),r},j=function(){function t(t,i){i=i||e.createElement(r[t]||"div"),t="on"+t;var a=t in i;return a||(i.setAttribute||(i=e.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(t,""),a=o(i[t],"function"),o(i[t],"undefined")||(i[t]=n),i.removeAttribute(t))),i=null,a}var r={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),P={}.hasOwnProperty;f=o(P,"undefined")||o(P.call,"undefined")?function(t,e){return e in t&&o(t.constructor.prototype[e],"undefined")}:function(t,e){return P.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=F.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=e.prototype;var o=new i,a=e.apply(o,n.concat(F.call(arguments)));return Object(a)===a?a:o}return e.apply(t,n.concat(F.call(arguments)))};return r}),A.flexbox=function(){return l("flexWrap")},A.flexboxlegacy=function(){return l("boxDirection")},A.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},A.canvastext=function(){return!(!p.canvas||!o(e.createElement("canvas").getContext("2d").fillText,"function"))},A.webgl=function(){return!!t.WebGLRenderingContext},A.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:z(["@media (",k.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},A.geolocation=function(){return"geolocation"in navigator},A.postmessage=function(){return!!t.postMessage},A.websqldatabase=function(){return!!t.openDatabase},A.indexedDB=function(){return!!l("indexedDB",t)},A.hashchange=function(){return j("hashchange",t)&&(e.documentMode===n||e.documentMode>7)},A.history=function(){return!(!t.history||!history.pushState)},A.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},A.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},A.rgba=function(){return r("background-color:rgba(150,255,150,.5)"),a(b.backgroundColor,"rgba")},A.hsla=function(){return r("background-color:hsla(120,40%,100%,.5)"),a(b.backgroundColor,"rgba")||a(b.backgroundColor,"hsla")},A.multiplebgs=function(){return r("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},A.backgroundsize=function(){return l("backgroundSize")},A.borderimage=function(){return l("borderImage")},A.borderradius=function(){return l("borderRadius")},A.boxshadow=function(){return l("boxShadow")},A.textshadow=function(){return""===e.createElement("div").style.textShadow},A.opacity=function(){return i("opacity:.55"),/^0.55$/.test(b.opacity)},A.cssanimations=function(){return l("animationName")},A.csscolumns=function(){return l("columnCount")},A.cssgradients=function(){var t="background-image:",e="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return r((t+"-webkit- ".split(" ").join(e+t)+k.join(n+t)).slice(0,-t.length)),a(b.backgroundImage,"gradient")},A.cssreflections=function(){return l("boxReflect")},A.csstransforms=function(){return!!l("transform")},A.csstransforms3d=function(){var t=!!l("perspective");return t&&"webkitPerspective"in m.style&&z("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e){t=9===e.offsetLeft&&3===e.offsetHeight}),t},A.csstransitions=function(){return l("transition")},A.fontface=function(){var t;return z('@font-face {font-family:"font";src:url("https://")}',function(n,r){var i=e.getElementById("smodernizr"),o=i.sheet||i.styleSheet,a=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";t=/src/i.test(a)&&0===a.indexOf(r.split(" ")[0])}),t},A.generatedcontent=function(){var t;return z(["#",v,"{font:0/0 a}#",v,':after{content:"',x,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=e.offsetHeight>=3}),t},A.video=function(){var t=e.createElement("video"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(r){}return n},A.audio=function(){var t=e.createElement("audio"),n=!1;try{(n=!!t.canPlayType)&&(n=new Boolean(n),n.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(r){}return n},A.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(t){return!1}},A.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(t){return!1}},A.webworkers=function(){return!!t.Worker},A.applicationcache=function(){return!!t.applicationCache},A.svg=function(){return!!e.createElementNS&&!!e.createElementNS(T.svg,"svg").createSVGRect},A.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==T.svg},A.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(w.call(e.createElementNS(T.svg,"animate")))},A.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(w.call(e.createElementNS(T.svg,"clipPath")))};for(var O in A)f(A,O)&&(h=O.toLowerCase(),p[h]=A[O](),N.push((p[h]?"":"no-")+h));return p.input||c(),p.addTest=function(t,e){if("object"==typeof t)for(var r in t)f(t,r)&&p.addTest(r,t[r]);else{if(t=t.toLowerCase(),p[t]!==n)return p;e="function"==typeof e?e():e,"undefined"!=typeof g&&g&&(m.className+=" "+(e?"":"no-")+t),p[t]=e}return p},r(""),y=_=null,function(t,e){function n(t,e){var n=t.createElement("p"),r=t.getElementsByTagName("head")[0]||t.documentElement;return n.innerHTML="x<style>"+e+"</style>",r.insertBefore(n.lastChild,r.firstChild)}function r(){var t=y.elements;return"string"==typeof t?t.split(" "):t}function i(t){var e=v[t[g]];return e||(e={},m++,t[g]=m,v[m]=e),e}function o(t,n,r){if(n||(n=e),c)return n.createElement(t);r||(r=i(n));var o;return o=r.cache[t]?r.cache[t].cloneNode():p.test(t)?(r.cache[t]=r.createElem(t)).cloneNode():r.createElem(t),!o.canHaveChildren||d.test(t)||o.tagUrn?o:r.frag.appendChild(o)}function a(t,n){if(t||(t=e),c)return t.createDocumentFragment();n=n||i(t);for(var o=n.frag.cloneNode(),a=0,s=r(),u=s.length;u>a;a++)o.createElement(s[a]);return o}function s(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(n){return y.shivMethods?o(n,t,e):e.createElem(n)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+r().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(y,e.frag)}function u(t){t||(t=e);var r=i(t);return!y.shivCSS||l||r.hasCSS||(r.hasCSS=!!n(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||s(t,r),t}var l,c,h="3.7.0",f=t.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",m=0,v={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",l="hidden"in t,c=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(n){l=!0,c=!0}}();var y={elements:f.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:h,shivCSS:f.shivCSS!==!1,supportsUnknownElements:c,shivMethods:f.shivMethods!==!1,type:"default",shivDocument:u,createElement:o,createDocumentFragment:a};t.html5=y,u(e)}(this,e),p._version=d,p._prefixes=k,p._domPrefixes=M,p._cssomPrefixes=S,p.mq=D,p.hasEvent=j,p.testProp=function(t){return s([t])},p.testAllProps=l,p.testStyles=z,p.prefixed=function(t,e,n){return e?l(t,e,n):l(t,"pfx")},m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+N.join(" "):""),p}(this,this.document),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=J.type(t);return"function"===n||J.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function r(t,e,n){if(J.isFunction(e))return J.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return J.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(se.test(e))return J.filter(e,t,n);e=J.filter(e,t)}return J.grep(t,function(t){return Q.call(e,t)>=0!==n})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=pe[t]={};return J.each(t.match(de)||[],function(t,n){e[n]=!0}),e}function a(){G.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),J.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=J.expando+s.uid++}function u(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(_e,"-$1").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:be.test(n)?J.parseJSON(n):n}catch(i){}ye.set(t,e,n)}else n=void 0;return n}function l(){return!0}function c(){return!1}function h(){try{return G.activeElement}catch(t){}}function f(t,e){return J.nodeName(t,"table")&&J.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Pe.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,r=t.length;r>n;n++)ve.set(t[n],"globalEval",!e||ve.get(e[n],"globalEval"))}function m(t,e){var n,r,i,o,a,s,u,l;if(1===e.nodeType){if(ve.hasData(t)&&(o=ve.access(t),a=ve.set(e,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)J.event.add(e,i,l[i][n])}ye.hasData(t)&&(s=ye.access(t),u=J.extend({},s),ye.set(e,u))}}function v(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&J.nodeName(t,e)?J.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Ce.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function b(e,n){var r,i=J(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:J.css(i[0],"display");return i.detach(),o}function _(t){var e=G,n=Re[t];return n||(n=b(t,e),"none"!==n&&n||(He=(He||J("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=He[0].contentDocument,e.write(),e.close(),n=b(t,e),He.detach()),Re[t]=n),n}function x(t,e,n){var r,i,o,a,s=t.style;return n=n||We(t),n&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||J.contains(t.ownerDocument,t)||(a=J.style(t,e)),$e.test(a)&&qe.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function w(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function k(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Ye.length;i--;)if(e=Ye[i]+n,e in t)return e;return r}function C(t,e,n){var r=Be.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function S(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=J.css(t,n+we[o],!0,i)),r?("content"===n&&(a-=J.css(t,"padding"+we[o],!0,i)),"margin"!==n&&(a-=J.css(t,"border"+we[o]+"Width",!0,i))):(a+=J.css(t,"padding"+we[o],!0,i),"padding"!==n&&(a+=J.css(t,"border"+we[o]+"Width",!0,i)));return a}function M(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=We(t),a="border-box"===J.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=x(t,e,o),(0>i||null==i)&&(i=t.style[e]),$e.test(i))return i;r=a&&(Z.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+S(t,e,n||(a?"border":"content"),r,o)+"px"}function T(t,e){for(var n,r,i,o=[],a=0,s=t.length;s>a;a++)r=t[a],r.style&&(o[a]=ve.get(r,"olddisplay"),n=r.style.display,e?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&ke(r)&&(o[a]=ve.access(r,"olddisplay",_(r.nodeName)))):(i=ke(r),"none"===n&&i||ve.set(r,"olddisplay",i?n:J.css(r,"display"))));for(a=0;s>a;a++)r=t[a],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[a]||"":"none"));return t}function A(t,e,n,r,i){return new A.prototype.init(t,e,n,r,i)}function E(){return setTimeout(function(){Ze=void 0}),Ze=J.now()}function L(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=we[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function N(t,e,n){for(var r,i=(nn[e]||[]).concat(nn["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,e,t))return r}function F(t,e,n){var r,i,o,a,s,u,l,c,h=this,f={},d=t.style,p=t.nodeType&&ke(t),g=ve.get(t,"fxshow");n.queue||(s=J._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,J.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=J.css(t,"display"),c="none"===l?ve.get(t,"olddisplay")||_(t.nodeName):l,"inline"===c&&"none"===J.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],Ke.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}f[r]=g&&g[r]||J.style(t,r)}else l=void 0;if(J.isEmptyObject(f))"inline"===("none"===l?_(t.nodeName):l)&&(d.display=l);else{g?"hidden"in g&&(p=g.hidden):g=ve.access(t,"fxshow",{}),o&&(g.hidden=!p),p?J(t).show():h.done(function(){J(t).hide()}),h.done(function(){var e;ve.remove(t,"fxshow");for(e in f)J.style(t,e,f[e])});for(r in f)a=N(p?g[r]:0,r,h),r in g||(g[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function z(t,e){var n,r,i,o,a;for(n in t)if(r=J.camelCase(n),i=e[r],o=t[n],J.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),a=J.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function D(t,e,n){var r,i,o=0,a=en.length,s=J.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=Ze||E(),n=Math.max(0,l.startTime+l.duration-e),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;u>a;a++)l.tweens[a].run(o);return s.notifyWith(t,[l,o,n]),1>o&&u?n:(s.resolveWith(t,[l]),!1)},l=s.promise({elem:t,props:J.extend({},e),opts:J.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Ze||E(),duration:n.duration,tweens:[],createTween:function(e,n){var r=J.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return e?s.resolveWith(t,[l,e]):s.rejectWith(t,[l,e]),this}}),c=l.props;for(z(c,l.opts.specialEasing);a>o;o++)if(r=en[o].call(l,t,c,l.opts))return r;return J.map(c,N,l),J.isFunction(l.opts.start)&&l.opts.start.call(t,l),J.fx.timer(J.extend(u,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function j(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(de)||[];if(J.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function P(t,e,n,r){function i(s){var u;return o[s]=!0,J.each(t[s]||[],function(t,s){var l=s(e,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(e.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=t===_n;return i(e.dataTypes[0])||!o["*"]&&i("*")}function O(t,e){var n,r,i=J.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&J.extend(!0,t,r),t}function I(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function H(t,e,n,r){var i,o,a,s,u,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function R(t,e,n,r){var i;if(J.isArray(e))J.each(e,function(e,i){n||Sn.test(t)?r(t,i):R(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==J.type(e))r(t,e);else for(i in e)R(t+"["+i+"]",e[i],n,r)}function q(t){return J.isWindow(t)?t:9===t.nodeType&&t.defaultView}var $=[],W=$.slice,U=$.concat,B=$.push,Q=$.indexOf,X={},V=X.toString,Y=X.hasOwnProperty,Z={},G=t.document,K="2.1.3",J=function(t,e){return new J.fn.init(t,e)},te=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ee=/^-ms-/,ne=/-([\da-z])/gi,re=function(t,e){return e.toUpperCase()};J.fn=J.prototype={jquery:K,constructor:J,selector:"",length:0,toArray:function(){return W.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:W.call(this)},pushStack:function(t){var e=J.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return J.each(this,t,e)},map:function(t){return this.pushStack(J.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:B,sort:$.sort,splice:$.splice},J.extend=J.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||J.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],r=t[e],a!==r&&(l&&r&&(J.isPlainObject(r)||(i=J.isArray(r)))?(i?(i=!1,o=n&&J.isArray(n)?n:[]):o=n&&J.isPlainObject(n)?n:{},a[e]=J.extend(l,o,r)):void 0!==r&&(a[e]=r));return a},J.extend({expando:"jQuery"+(K+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===J.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!J.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==J.type(t)||t.nodeType||J.isWindow(t)?!1:t.constructor&&!Y.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?X[V.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=J.trim(t),t&&(1===t.indexOf("use strict")?(e=G.createElement("script"),e.text=t,G.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ee,"ms-").replace(ne,re)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,a=t.length,s=n(t);if(r){if(s)for(;a>o&&(i=e.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],r),i===!1)break}else if(s)for(;a>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(te,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?J.merge(r,"string"==typeof t?[t]:t):B.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:Q.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,a=t.length,s=!n;a>o;o++)r=!e(t[o],o),r!==s&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,a=t.length,s=n(t),u=[];if(s)for(;a>o;o++)i=e(t[o],o,r),null!=i&&u.push(i);else for(o in t)i=e(t[o],o,r),null!=i&&u.push(i);return U.apply([],u)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),J.isFunction(t)?(r=W.call(arguments,2),i=function(){return t.apply(e||this,r.concat(W.call(arguments)))},i.guid=t.guid=t.guid||J.guid++,i):void 0},now:Date.now,support:Z}),J.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){X["[object "+e+"]"]=e.toLowerCase()});var ie=function(t){function e(t,e,n,r){var i,o,a,s,u,l,h,d,p,g;if((e?e.ownerDocument||e:R)!==F&&N(e),e=e||F,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!r&&D){if(11!==s&&(i=ye.exec(t)))if(a=i[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&I(e,o)&&o.id===a)return n.push(o),n}else{if(i[2])return K.apply(n,e.getElementsByTagName(t)),n;if((a=i[3])&&x.getElementsByClassName)return K.apply(n,e.getElementsByClassName(a)),n}if(x.qsa&&(!j||!j.test(t))){if(d=h=H,p=e,g=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(l=S(t),(h=e.getAttribute("id"))?d=h.replace(_e,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+f(l[u]);
p=be.test(t)&&c(e.parentNode)||e,g=l.join(",")}if(g)try{return K.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{h||e.removeAttribute("id")}}}return T(t.replace(ue,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>w.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[H]=!0,t}function i(t){var e=F.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)w.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function f(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function d(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=$++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,a){var s,u,l=[q,o];if(a){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(u=e[H]||(e[H]={}),(s=u[r])&&s[0]===q&&s[1]===o)return l[2]=s[2];if(u[r]=l,l[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function g(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function m(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,l=null!=e;u>s;s++)(o=t[s])&&(!n||n(o,r,i))&&(a.push(o),l&&e.push(s));return a}function v(t,e,n,i,o,a){return i&&!i[H]&&(i=v(i)),o&&!o[H]&&(o=v(o,a)),r(function(r,a,s,u){var l,c,h,f=[],d=[],p=a.length,v=r||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?v:m(v,f,t,s,u),b=n?o||(r?t:p||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=m(b,d),i(l,[],s,u),c=l.length;c--;)(h=l[c])&&(b[d[c]]=!(y[d[c]]=h));if(r){if(o||t){if(o){for(l=[],c=b.length;c--;)(h=b[c])&&l.push(y[c]=h);o(null,b=[],l,u)}for(c=b.length;c--;)(h=b[c])&&(l=o?te(r,h):f[c])>-1&&(r[l]=!(a[l]=h))}}else b=m(b===a?b.splice(p,b.length):b),o?o(null,a,b,u):K.apply(a,b)})}function y(t){for(var e,n,r,i=t.length,o=w.relative[t[0].type],a=o||w.relative[" "],s=o?1:0,u=d(function(t){return t===e},a,!0),l=d(function(t){return te(e,t)>-1},a,!0),c=[function(t,n,r){var i=!o&&(r||n!==A)||((e=n).nodeType?u(t,n,r):l(t,n,r));return e=null,i}];i>s;s++)if(n=w.relative[t[s].type])c=[d(p(c),n)];else{if(n=w.filter[t[s].type].apply(null,t[s].matches),n[H]){for(r=++s;i>r&&!w.relative[t[r].type];r++);return v(s>1&&p(c),s>1&&f(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ue,"$1"),n,r>s&&y(t.slice(s,r)),i>r&&y(t=t.slice(r)),i>r&&f(t))}c.push(n)}return p(c)}function b(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,u,l){var c,h,f,d=0,p="0",g=r&&[],v=[],y=A,b=r||o&&w.find.TAG("*",l),_=q+=null==y?1:Math.random()||.1,x=b.length;for(l&&(A=a!==F&&a);p!==x&&null!=(c=b[p]);p++){if(o&&c){for(h=0;f=t[h++];)if(f(c,a,s)){u.push(c);break}l&&(q=_)}i&&((c=!f&&c)&&d--,r&&g.push(c))}if(d+=p,i&&p!==d){for(h=0;f=n[h++];)f(g,v,a,s);if(r){if(d>0)for(;p--;)g[p]||v[p]||(v[p]=Z.call(u));v=m(v)}K.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&e.uniqueSort(u)}return l&&(q=_,A=y),g};return i?r(a):a}var _,x,w,k,C,S,M,T,A,E,L,N,F,z,D,j,P,O,I,H="sizzle"+1*new Date,R=t.document,q=0,$=0,W=n(),U=n(),B=n(),Q=function(t,e){return t===e&&(L=!0),0},X=1<<31,V={}.hasOwnProperty,Y=[],Z=Y.pop,G=Y.push,K=Y.push,J=Y.slice,te=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},ee="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie=re.replace("w","w#"),oe="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",ae=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),ue=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),he=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ae),de=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+ee+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,_e=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ke=function(){N()};try{K.apply(Y=J.call(R.childNodes),R.childNodes),Y[R.childNodes.length].nodeType}catch(Ce){K={apply:Y.length?function(t,e){G.apply(t,J.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}x=e.support={},C=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},N=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:R;return r!==F&&9===r.nodeType&&r.documentElement?(F=r,z=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",ke,!1):n.attachEvent&&n.attachEvent("onunload",ke)),D=!C(r),x.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=i(function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=ve.test(r.getElementsByClassName),x.getById=i(function(t){return z.appendChild(t).id=H,!r.getElementsByName||!r.getElementsByName(H).length}),x.getById?(w.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&D){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(t){var e=t.replace(xe,we);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(xe,we);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),w.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},w.find.CLASS=x.getElementsByClassName&&function(t,e){return D?e.getElementsByClassName(t):void 0},P=[],j=[],(x.qsa=ve.test(r.querySelectorAll))&&(i(function(t){z.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&j.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||j.push("\\["+ne+"*(?:value|"+ee+")"),t.querySelectorAll("[id~="+H+"-]").length||j.push("~="),t.querySelectorAll(":checked").length||j.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||j.push(".#.+[+~]")}),i(function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&j.push("name"+ne+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),j.push(",.*:")})),(x.matchesSelector=ve.test(O=z.matches||z.webkitMatchesSelector||z.mozMatchesSelector||z.oMatchesSelector||z.msMatchesSelector))&&i(function(t){x.disconnectedMatch=O.call(t,"div"),O.call(t,"[s!='']:x"),P.push("!=",ae)}),j=j.length&&new RegExp(j.join("|")),P=P.length&&new RegExp(P.join("|")),e=ve.test(z.compareDocumentPosition),I=e||ve.test(z.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Q=e?function(t,e){if(t===e)return L=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===R&&I(R,t)?-1:e===r||e.ownerDocument===R&&I(R,e)?1:E?te(E,t)-te(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return L=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,u=[t],l=[e];if(!o||!s)return t===r?-1:e===r?1:o?-1:s?1:E?te(E,t)-te(E,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;u[i]===l[i];)i++;return i?a(u[i],l[i]):u[i]===R?-1:l[i]===R?1:0},r):F},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==F&&N(t),n=n.replace(he,"='$1']"),!(!x.matchesSelector||!D||P&&P.test(n)||j&&j.test(n)))try{var r=O.call(t,n);if(r||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,F,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==F&&N(t),I(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==F&&N(t);var n=w.attrHandle[e.toLowerCase()],r=n&&V.call(w.attrHandle,e.toLowerCase())?n(t,e,!D):void 0;return void 0!==r?r:x.attributes||!D?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(L=!x.detectDuplicates,E=!x.sortStable&&t.slice(0),t.sort(Q),L){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return E=null,t},k=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=k(e);return n},w=e.selectors={cacheLength:50,createPseudo:r,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xe,we),t[3]=(t[3]||t[4]||t[5]||"").replace(xe,we),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&fe.test(n)&&(e=S(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xe,we).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var l,c,h,f,d,p,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(c=m[H]||(m[H]={}),l=c[t]||[],d=l[0]===q&&l[1],f=l[0]===q&&l[2],h=d&&m.childNodes[d];h=++d&&h&&h[g]||(f=d=0)||p.pop();)if(1===h.nodeType&&++f&&h===e){c[t]=[q,d,f];break}}else if(y&&(l=(e[H]||(e[H]={}))[t])&&l[0]===q)f=l[1];else for(;(h=++d&&h&&h[g]||(f=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++f||(y&&((h[H]||(h[H]={}))[t]=[q,f]),h!==e)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(t,n){var i,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[H]?o(n):o.length>1?(i=[t,t,"",n],w.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)r=te(t,i[a]),t[r]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=M(t.replace(ue,"$1"));return i[H]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(xe,we),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:r(function(t){return de.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xe,we).toLowerCase(),function(e){var n;do if(n=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===z},focus:function(t){return t===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return me.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:l(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},w.pseudos.nth=w.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})w.pseudos[_]=u(_);return h.prototype=w.filters=w.pseudos,w.setFilters=new h,S=e.tokenize=function(t,n){var r,i,o,a,s,u,l,c=U[t+" "];if(c)return n?0:c.slice(0);for(s=t,u=[],l=w.preFilter;s;){(!r||(i=le.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));for(a in w.filter)!(i=pe[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):U(t,u).slice(0)},M=e.compile=function(t,e){var n,r=[],i=[],o=B[t+" "];if(!o){for(e||(e=S(t)),n=e.length;n--;)o=y(e[n]),o[H]?r.push(o):i.push(o);o=B(t,b(i,r)),o.selector=t}return o},T=e.select=function(t,e,n,r){var i,o,a,s,u,l="function"==typeof t&&t,h=!r&&S(t=l.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===e.nodeType&&D&&w.relative[o[1].type]){if(e=(w.find.ID(a.matches[0].replace(xe,we),e)||[])[0],!e)return n;l&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=pe.needsContext.test(t)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((u=w.find[s])&&(r=u(a.matches[0].replace(xe,we),be.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&f(o),!t)return K.apply(n,r),n;break}}return(l||M(t,h))(r,e,!D,n,be.test(t)&&c(e.parentNode)||e),n},x.sortStable=H.split("").sort(Q).join("")===H,x.detectDuplicates=!!L,N(),x.sortDetached=i(function(t){return 1&t.compareDocumentPosition(F.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(ee,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);J.find=ie,J.expr=ie.selectors,J.expr[":"]=J.expr.pseudos,J.unique=ie.uniqueSort,J.text=ie.getText,J.isXMLDoc=ie.isXML,J.contains=ie.contains;var oe=J.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;J.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?J.find.matchesSelector(r,t)?[r]:[]:J.find.matches(t,J.grep(e,function(t){return 1===t.nodeType}))},J.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(J(t).filter(function(){for(e=0;n>e;e++)if(J.contains(i[e],this))return!0}));for(e=0;n>e;e++)J.find(t,i[e],r);return r=this.pushStack(n>1?J.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&oe.test(t)?J(t):t||[],!1).length}});var ue,le=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=J.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:le.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ue).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof J?e[0]:e,J.merge(this,J.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:G,!0)),ae.test(n[1])&&J.isPlainObject(e))for(n in e)J.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=G.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=G,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):J.isFunction(t)?"undefined"!=typeof ue.ready?ue.ready(t):t(J):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),J.makeArray(t,this))};ce.prototype=J.fn,ue=J(G);var he=/^(?:parents|prev(?:Until|All))/,fe={children:!0,contents:!0,next:!0,prev:!0};J.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&J(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),J.fn.extend({has:function(t){var e=J(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(J.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],a=oe.test(t)||"string"!=typeof t?J(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&J.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?J.unique(o):o)},index:function(t){return t?"string"==typeof t?Q.call(J(t),this[0]):Q.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(J.unique(J.merge(this.get(),J(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),J.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return J.dir(t,"parentNode")},parentsUntil:function(t,e,n){return J.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return J.dir(t,"nextSibling")},prevAll:function(t){return J.dir(t,"previousSibling")},nextUntil:function(t,e,n){return J.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return J.dir(t,"previousSibling",n)},siblings:function(t){return J.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return J.sibling(t.firstChild)},contents:function(t){return t.contentDocument||J.merge([],t.childNodes)}},function(t,e){J.fn[t]=function(n,r){var i=J.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=J.filter(r,i)),this.length>1&&(fe[t]||J.unique(i),he.test(t)&&i.reverse()),this.pushStack(i)}});var de=/\S+/g,pe={};J.Callbacks=function(t){t="string"==typeof t?pe[t]||o(t):J.extend({},t);var e,n,r,i,a,s,u=[],l=!t.once&&[],c=function(o){for(e=t.memory&&o,n=!0,s=i||0,i=0,a=u.length,r=!0;u&&a>s;s++)if(u[s].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}r=!1,u&&(l?l.length&&c(l.shift()):e?u=[]:h.disable())},h={add:function(){if(u){var n=u.length;!function o(e){J.each(e,function(e,n){var r=J.type(n);"function"===r?t.unique&&h.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?a=u.length:e&&(i=n,c(e))}return this},remove:function(){return u&&J.each(arguments,function(t,e){for(var n;(n=J.inArray(e,u,n))>-1;)u.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)}),this},has:function(t){return t?J.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=l=e=void 0,this},disabled:function(){return!u},lock:function(){return l=void 0,e||h.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!u||n&&!l||(e=e||[],e=[t,e.slice?e.slice():e],r?l.push(e):c(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},J.extend({Deferred:function(t){var e=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return J.Deferred(function(n){J.each(e,function(e,o){var a=J.isFunction(t[e])&&t[e];i[o[1]](function(){var t=a&&a.apply(this,arguments);t&&J.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?J.extend(t,r):r}},i={};return r.pipe=r.then,J.each(e,function(t,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=W.call(arguments),a=o.length,s=1!==a||t&&J.isFunction(t.promise)?a:0,u=1===s?t:J.Deferred(),l=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?W.call(arguments):i,r===e?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(a>1)for(e=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&J.isFunction(o[i].promise)?o[i].promise().done(l(i,r,o)).fail(u.reject).progress(l(i,n,e)):--s;return s||u.resolveWith(r,o),u.promise()}});var ge;J.fn.ready=function(t){return J.ready.promise().done(t),this},J.extend({isReady:!1,readyWait:1,holdReady:function(t){t?J.readyWait++:J.ready(!0)},ready:function(t){(t===!0?--J.readyWait:J.isReady)||(J.isReady=!0,t!==!0&&--J.readyWait>0||(ge.resolveWith(G,[J]),J.fn.triggerHandler&&(J(G).triggerHandler("ready"),J(G).off("ready"))))}}),J.ready.promise=function(e){return ge||(ge=J.Deferred(),"complete"===G.readyState?setTimeout(J.ready):(G.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),ge.promise(e)},J.ready.promise();var me=J.access=function(t,e,n,r,i,o,a){var s=0,u=t.length,l=null==n;if("object"===J.type(n)){i=!0;for(s in n)J.access(t,e,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,J.isFunction(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(J(t),n)})),e))for(;u>s;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:l?e.call(t):u?e(t[0],n):o};J.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=J.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=s.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,J.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(J.isEmptyObject(o))J.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,J.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=this.key(t),a=this.cache[o];if(void 0===e)this.cache[o]={};else{J.isArray(e)?r=e.concat(e.map(J.camelCase)):(i=J.camelCase(e),e in a?r=[e,i]:(r=i,r=r in a?[r]:r.match(de)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(t){return!J.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var ve=new s,ye=new s,be=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_e=/([A-Z])/g;J.extend({hasData:function(t){return ye.hasData(t)||ve.hasData(t)},data:function(t,e,n){return ye.access(t,e,n)},removeData:function(t,e){ye.remove(t,e)},_data:function(t,e,n){return ve.access(t,e,n)},_removeData:function(t,e){ve.remove(t,e)}}),J.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=ye.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=J.camelCase(r.slice(5)),u(o,r,i[r])));ve.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){ye.set(this,t)}):me(this,function(e){var n,r=J.camelCase(t);if(o&&void 0===e){if(n=ye.get(o,t),void 0!==n)return n;if(n=ye.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=ye.get(this,r);ye.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&ye.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){ye.remove(this,t)})}}),J.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=ve.get(t,e),n&&(!r||J.isArray(n)?r=ve.access(t,e,J.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=J.queue(t,e),r=n.length,i=n.shift(),o=J._queueHooks(t,e),a=function(){J.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ve.get(t,n)||ve.access(t,n,{empty:J.Callbacks("once memory").add(function(){ve.remove(t,[e+"queue",n])})})}}),J.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?J.queue(this[0],t):void 0===e?this:this.each(function(){var n=J.queue(this,t,e);J._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&J.dequeue(this,t)})},dequeue:function(t){return this.each(function(){J.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=J.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=ve.get(o[a],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,we=["Top","Right","Bottom","Left"],ke=function(t,e){return t=e||t,"none"===J.css(t,"display")||!J.contains(t.ownerDocument,t)},Ce=/^(?:checkbox|radio)$/i;!function(){var t=G.createDocumentFragment(),e=t.appendChild(G.createElement("div")),n=G.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),Z.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Se="undefined";Z.focusinBubbles="onfocusin"in t;var Me=/^key/,Te=/^(?:mouse|pointer|contextmenu)|click/,Ae=/^(?:focusinfocus|focusoutblur)$/,Ee=/^([^.]*)(?:\.(.+)|)$/;J.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,h,f,d,p,g,m=ve.get(t);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=J.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(e){return typeof J!==Se&&J.event.triggered!==e.type?J.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(de)||[""],l=e.length;l--;)s=Ee.exec(e[l])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d&&(h=J.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=J.event.special[d]||{},c=J.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&J.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=u[d])||(f=u[d]=[],f.delegateCount=0,h.setup&&h.setup.call(t,r,p,a)!==!1||t.addEventListener&&t.addEventListener(d,a,!1)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),J.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,l,c,h,f,d,p,g,m=ve.hasData(t)&&ve.get(t);if(m&&(u=m.events)){for(e=(e||"").match(de)||[""],l=e.length;l--;)if(s=Ee.exec(e[l])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d){for(h=J.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,f=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));a&&!f.length&&(h.teardown&&h.teardown.call(t,p,m.handle)!==!1||J.removeEvent(t,d,m.handle),delete u[d])}else for(d in u)J.event.remove(t,d+e[l],n,r,!0);J.isEmptyObject(u)&&(delete m.handle,ve.remove(t,"events"))}},trigger:function(e,n,r,i){var o,a,s,u,l,c,h,f=[r||G],d=Y.call(e,"type")?e.type:e,p=Y.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||G,3!==r.nodeType&&8!==r.nodeType&&!Ae.test(d+J.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),l=d.indexOf(":")<0&&"on"+d,e=e[J.expando]?e:new J.Event(d,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:J.makeArray(n,[e]),h=J.event.special[d]||{},i||!h.trigger||h.trigger.apply(r,n)!==!1)){if(!i&&!h.noBubble&&!J.isWindow(r)){for(u=h.delegateType||d,Ae.test(u+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(r.ownerDocument||G)&&f.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)e.type=o>1?u:h.bindType||d,c=(ve.get(a,"events")||{})[e.type]&&ve.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&J.acceptData(a)&&(e.result=c.apply(a,n),e.result===!1&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!J.acceptData(r)||l&&J.isFunction(r[d])&&!J.isWindow(r)&&(s=r[l],s&&(r[l]=null),J.event.triggered=d,r[d](),J.event.triggered=void 0,s&&(r[l]=s)),e.result
}},dispatch:function(t){t=J.event.fix(t);var e,n,r,i,o,a=[],s=W.call(arguments),u=(ve.get(this,"events")||{})[t.type]||[],l=J.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(a=J.event.handlers.call(this,t,u),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,r=((J.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,a=[],s=e.delegateCount,u=t.target;if(s&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(r=[],n=0;s>n;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?J(i,this).index(u)>=0:J.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||G,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[J.expando])return t;var e,n,r,i=t.type,o=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=Te.test(i)?this.mouseHooks:Me.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new J.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=G),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&J.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return J.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=J.extend(new J.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?J.event.trigger(i,null,e):J.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},J.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},J.Event=function(t,e){return this instanceof J.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?l:c):this.type=t,e&&J.extend(this,e),this.timeStamp=t&&t.timeStamp||J.now(),void(this[J.expando]=!0)):new J.Event(t,e)},J.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=l,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},J.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){J.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!J.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),Z.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){J.event.simulate(e,t.target,J.event.fix(t),!0)};J.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=ve.access(r,e);i||r.addEventListener(t,n,!0),ve.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=ve.access(r,e)-1;i?ve.access(r,e,i):(r.removeEventListener(t,n,!0),ve.remove(r,e))}}}),J.fn.extend({on:function(t,e,n,r,i){var o,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(t){return J().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=J.guid++)),this.each(function(){J.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,J(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=c),this.each(function(){J.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){J.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?J.event.trigger(t,e,n,!0):void 0}});var Le=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ne=/<([\w:]+)/,Fe=/<|&#?\w+;/,ze=/<(?:script|style|link)/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,je=/^$|\/(?:java|ecma)script/i,Pe=/^true\/(.*)/,Oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ie={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ie.optgroup=Ie.option,Ie.tbody=Ie.tfoot=Ie.colgroup=Ie.caption=Ie.thead,Ie.th=Ie.td,J.extend({clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),u=J.contains(t.ownerDocument,t);if(!(Z.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||J.isXMLDoc(t)))for(a=v(s),o=v(t),r=0,i=o.length;i>r;r++)y(o[r],a[r]);if(e)if(n)for(o=o||v(t),a=a||v(s),r=0,i=o.length;i>r;r++)m(o[r],a[r]);else m(t,s);return a=v(s,"script"),a.length>0&&g(a,!u&&v(t,"script")),s},buildFragment:function(t,e,n,r){for(var i,o,a,s,u,l,c=e.createDocumentFragment(),h=[],f=0,d=t.length;d>f;f++)if(i=t[f],i||0===i)if("object"===J.type(i))J.merge(h,i.nodeType?[i]:i);else if(Fe.test(i)){for(o=o||c.appendChild(e.createElement("div")),a=(Ne.exec(i)||["",""])[1].toLowerCase(),s=Ie[a]||Ie._default,o.innerHTML=s[1]+i.replace(Le,"<$1></$2>")+s[2],l=s[0];l--;)o=o.lastChild;J.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(e.createTextNode(i));for(c.textContent="",f=0;i=h[f++];)if((!r||-1===J.inArray(i,r))&&(u=J.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),u&&g(o),n))for(l=0;i=o[l++];)je.test(i.type||"")&&n.push(i);return c},cleanData:function(t){for(var e,n,r,i,o=J.event.special,a=0;void 0!==(n=t[a]);a++){if(J.acceptData(n)&&(i=n[ve.expando],i&&(e=ve.cache[i]))){if(e.events)for(r in e.events)o[r]?J.event.remove(n,r):J.removeEvent(n,r,e.handle);ve.cache[i]&&delete ve.cache[i]}delete ye.cache[n[ye.expando]]}}}),J.fn.extend({text:function(t){return me(this,function(t){return void 0===t?J.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?J.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||J.cleanData(v(n)),n.parentNode&&(e&&J.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(J.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return J.clone(this,t,e)})},html:function(t){return me(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ze.test(t)&&!Ie[(Ne.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Le,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(J.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,J.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=U.apply([],t);var n,r,i,o,a,s,u=0,l=this.length,c=this,h=l-1,f=t[0],g=J.isFunction(f);if(g||l>1&&"string"==typeof f&&!Z.checkClone&&De.test(f))return this.each(function(n){var r=c.eq(n);g&&(t[0]=f.call(this,n,r.html())),r.domManip(t,e)});if(l&&(n=J.buildFragment(t,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=J.map(v(n,"script"),d),o=i.length;l>u;u++)a=n,u!==h&&(a=J.clone(a,!0,!0),o&&J.merge(i,v(a,"script"))),e.call(this[u],a,u);if(o)for(s=i[i.length-1].ownerDocument,J.map(i,p),u=0;o>u;u++)a=i[u],je.test(a.type||"")&&!ve.access(a,"globalEval")&&J.contains(s,a)&&(a.src?J._evalUrl&&J._evalUrl(a.src):J.globalEval(a.textContent.replace(Oe,"")))}return this}}),J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){J.fn[t]=function(t){for(var n,r=[],i=J(t),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),J(i[a])[e](n),B.apply(r,n.get());return this.pushStack(r)}});var He,Re={},qe=/^margin/,$e=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),We=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var e=t.getComputedStyle(a,null);n="1%"!==e.top,r="4px"===e.width,i.removeChild(o)}var n,r,i=G.documentElement,o=G.createElement("div"),a=G.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),t.getComputedStyle&&J.extend(Z,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,n=a.appendChild(G.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),i.removeChild(o),a.removeChild(n),e}}))}(),J.swap=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i};var Ue=/^(none|table(?!-c[ea]).+)/,Be=new RegExp("^("+xe+")(.*)$","i"),Qe=new RegExp("^([+-])=("+xe+")","i"),Xe={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","O","Moz","ms"];J.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=x(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=J.camelCase(e),u=t.style;return e=J.cssProps[s]||(J.cssProps[s]=k(u,s)),a=J.cssHooks[e]||J.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:u[e]:(o=typeof n,"string"===o&&(i=Qe.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(J.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||J.cssNumber[s]||(n+="px"),Z.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,a,s=J.camelCase(e);return e=J.cssProps[s]||(J.cssProps[s]=k(t.style,s)),a=J.cssHooks[e]||J.cssHooks[s],a&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=x(t,e,r)),"normal"===i&&e in Ve&&(i=Ve[e]),""===n||n?(o=parseFloat(i),n===!0||J.isNumeric(o)?o||0:i):i}}),J.each(["height","width"],function(t,e){J.cssHooks[e]={get:function(t,n,r){return n?Ue.test(J.css(t,"display"))&&0===t.offsetWidth?J.swap(t,Xe,function(){return M(t,e,r)}):M(t,e,r):void 0},set:function(t,n,r){var i=r&&We(t);return C(t,n,r?S(t,e,r,"border-box"===J.css(t,"boxSizing",!1,i),i):0)}}}),J.cssHooks.marginRight=w(Z.reliableMarginRight,function(t,e){return e?J.swap(t,{display:"inline-block"},x,[t,"marginRight"]):void 0}),J.each({margin:"",padding:"",border:"Width"},function(t,e){J.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+we[r]+e]=o[r]||o[r-2]||o[0];return i}},qe.test(t)||(J.cssHooks[t+e].set=C)}),J.fn.extend({css:function(t,e){return me(this,function(t,e,n){var r,i,o={},a=0;if(J.isArray(e)){for(r=We(t),i=e.length;i>a;a++)o[e[a]]=J.css(t,e[a],!1,r);return o}return void 0!==n?J.style(t,e,n):J.css(t,e)},t,e,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ke(this)?J(this).show():J(this).hide()})}}),J.Tween=A,A.prototype={constructor:A,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(J.cssNumber[n]?"":"px")},cur:function(){var t=A.propHooks[this.prop];return t&&t.get?t.get(this):A.propHooks._default.get(this)},run:function(t){var e,n=A.propHooks[this.prop];return this.pos=e=this.options.duration?J.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):A.propHooks._default.set(this),this}},A.prototype.init.prototype=A.prototype,A.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=J.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){J.fx.step[t.prop]?J.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[J.cssProps[t.prop]]||J.cssHooks[t.prop])?J.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},A.propHooks.scrollTop=A.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},J.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},J.fx=A.prototype.init,J.fx.step={};var Ze,Ge,Ke=/^(?:toggle|show|hide)$/,Je=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),tn=/queueHooks$/,en=[F],nn={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=Je.exec(e),o=i&&i[3]||(J.cssNumber[t]?"":"px"),a=(J.cssNumber[t]||"px"!==o&&+r)&&Je.exec(J.css(n.elem,t)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,J.style(n.elem,t,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};J.Animation=J.extend(D,{tweener:function(t,e){J.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],nn[n]=nn[n]||[],nn[n].unshift(e)},prefilter:function(t,e){e?en.unshift(t):en.push(t)}}),J.speed=function(t,e,n){var r=t&&"object"==typeof t?J.extend({},t):{complete:n||!n&&e||J.isFunction(t)&&t,duration:t,easing:n&&e||e&&!J.isFunction(e)&&e};return r.duration=J.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in J.fx.speeds?J.fx.speeds[r.duration]:J.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){J.isFunction(r.old)&&r.old.call(this),r.queue&&J.dequeue(this,r.queue)},r},J.fn.extend({fadeTo:function(t,e,n,r){return this.filter(ke).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=J.isEmptyObject(t),o=J.speed(e,n,r),a=function(){var e=D(this,J.extend({},t),o);(i||ve.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=J.timers,a=ve.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&tn.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&J.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=ve.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=J.timers,a=r?r.length:0;for(n.finish=!0,J.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),J.each(["toggle","show","hide"],function(t,e){var n=J.fn[e];J.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(L(e,!0),t,r,i)}}),J.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){J.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),J.timers=[],J.fx.tick=function(){var t,e=0,n=J.timers;for(Ze=J.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||J.fx.stop(),Ze=void 0},J.fx.timer=function(t){J.timers.push(t),t()?J.fx.start():J.timers.pop()},J.fx.interval=13,J.fx.start=function(){Ge||(Ge=setInterval(J.fx.tick,J.fx.interval))},J.fx.stop=function(){clearInterval(Ge),Ge=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fn.delay=function(t,e){return t=J.fx?J.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t=G.createElement("input"),e=G.createElement("select"),n=e.appendChild(G.createElement("option"));t.type="checkbox",Z.checkOn=""!==t.value,Z.optSelected=n.selected,e.disabled=!0,Z.optDisabled=!n.disabled,t=G.createElement("input"),t.value="t",t.type="radio",Z.radioValue="t"===t.value}();var rn,on,an=J.expr.attrHandle;J.fn.extend({attr:function(t,e){return me(this,J.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){J.removeAttr(this,t)})}}),J.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Se?J.prop(t,e,n):(1===o&&J.isXMLDoc(t)||(e=e.toLowerCase(),r=J.attrHooks[e]||(J.expr.match.bool.test(e)?on:rn)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=J.find.attr(t,e),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void J.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(de);if(o&&1===t.nodeType)for(;n=o[i++];)r=J.propFix[n]||n,J.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!Z.radioValue&&"radio"===e&&J.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),on={set:function(t,e,n){return e===!1?J.removeAttr(t,n):t.setAttribute(n,n),n}},J.each(J.expr.match.bool.source.match(/\w+/g),function(t,e){var n=an[e]||J.find.attr;an[e]=function(t,e,r){var i,o;return r||(o=an[e],an[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,an[e]=o),i}});var sn=/^(?:input|select|textarea|button)$/i;J.fn.extend({prop:function(t,e){return me(this,J.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[J.propFix[t]||t]})}}),J.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,i,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return o=1!==a||!J.isXMLDoc(t),o&&(e=J.propFix[e]||e,i=J.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||sn.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Z.optSelected||(J.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),J.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){J.propFix[this.toLowerCase()]=this});var un=/[\t\r\n\f]/g;J.fn.extend({addClass:function(t){var e,n,r,i,o,a,s="string"==typeof t&&t,u=0,l=this.length;if(J.isFunction(t))return this.each(function(e){J(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(de)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=J.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,r,i,o,a,s=0===arguments.length||"string"==typeof t&&t,u=0,l=this.length;if(J.isFunction(t))return this.each(function(e){J(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(de)||[];l>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(un," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=t?J.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(J.isFunction(t)?function(n){J(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,r=0,i=J(this),o=t.match(de)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===Se||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||t===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(un," ").indexOf(e)>=0)return!0;return!1}});var ln=/\r/g;J.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=J.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,J(this).val()):t,null==i?i="":"number"==typeof i?i+="":J.isArray(i)&&(i=J.map(i,function(t){return null==t?"":t+""})),e=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=J.valHooks[i.type]||J.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ln,""):null==n?"":n)}}}),J.extend({valHooks:{option:{get:function(t){var e=J.find.attr(t,"value");return null!=e?e:J.trim(J.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(Z.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&J.nodeName(n.parentNode,"optgroup"))){if(e=J(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=J.makeArray(e),a=i.length;a--;)r=i[a],(r.selected=J.inArray(r.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]={set:function(t,e){return J.isArray(e)?t.checked=J.inArray(J(t).val(),e)>=0:void 0}},Z.checkOn||(J.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){J.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),J.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var cn=J.now(),hn=/\?/;J.parseJSON=function(t){return JSON.parse(t+"")},J.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(r){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&J.error("Invalid XML: "+t),e};var fn=/#.*$/,dn=/([?&])_=[^&]*/,pn=/^(.*?):[ \t]*([^\r\n]*)$/gm,gn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mn=/^(?:GET|HEAD)$/,vn=/^\/\//,yn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bn={},_n={},xn="*/".concat("*"),wn=t.location.href,kn=yn.exec(wn.toLowerCase())||[];J.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wn,type:"GET",isLocal:gn.test(kn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?O(O(t,J.ajaxSettings),e):O(J.ajaxSettings,t)},ajaxPrefilter:j(bn),ajaxTransport:j(_n),ajax:function(t,e){function n(t,e,n,a){var u,c,v,y,_,w=e;2!==b&&(b=2,s&&clearTimeout(s),r=void 0,o=a||"",x.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(y=I(h,x,n)),y=H(h,y,x,u),u?(h.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(J.lastModified[i]=_),_=x.getResponseHeader("etag"),_&&(J.etag[i]=_)),204===t||"HEAD"===h.type?w="nocontent":304===t?w="notmodified":(w=y.state,c=y.data,v=y.error,u=!v)):(v=w,(t||!w)&&(w="error",0>t&&(t=0))),x.status=t,x.statusText=(e||w)+"",u?p.resolveWith(f,[c,w,x]):p.rejectWith(f,[x,w,v]),x.statusCode(m),m=void 0,l&&d.trigger(u?"ajaxSuccess":"ajaxError",[x,h,u?c:v]),g.fireWith(f,[x,w]),l&&(d.trigger("ajaxComplete",[x,h]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,a,s,u,l,c,h=J.ajaxSetup({},e),f=h.context||h,d=h.context&&(f.nodeType||f.jquery)?J(f):J.event,p=J.Deferred(),g=J.Callbacks("once memory"),m=h.statusCode||{},v={},y={},b=0,_="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!a)for(a={};e=pn.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return b||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)m[e]=[m[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||_;return r&&r.abort(e),n(0,e),this}};if(p.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((t||h.url||wn)+"").replace(fn,"").replace(vn,kn[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=J.trim(h.dataType||"*").toLowerCase().match(de)||[""],null==h.crossDomain&&(u=yn.exec(h.url.toLowerCase()),h.crossDomain=!(!u||u[1]===kn[1]&&u[2]===kn[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(kn[3]||("http:"===kn[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=J.param(h.data,h.traditional)),P(bn,h,e,x),2===b)return x;l=J.event&&h.global,l&&0===J.active++&&J.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!mn.test(h.type),i=h.url,h.hasContent||(h.data&&(i=h.url+=(hn.test(i)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=dn.test(i)?i.replace(dn,"$1_="+cn++):i+(hn.test(i)?"&":"?")+"_="+cn++)),h.ifModified&&(J.lastModified[i]&&x.setRequestHeader("If-Modified-Since",J.lastModified[i]),J.etag[i]&&x.setRequestHeader("If-None-Match",J.etag[i])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+xn+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)x.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(h.beforeSend.call(f,x,h)===!1||2===b))return x.abort();_="abort";for(c in{success:1,error:1,complete:1})x[c](h[c]);if(r=P(_n,h,e,x)){x.readyState=1,l&&d.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,r.send(v,n)}catch(w){if(!(2>b))throw w;n(-1,w)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return J.get(t,e,n,"json")},getScript:function(t,e){return J.get(t,void 0,e,"script")}}),J.each(["get","post"],function(t,e){J[e]=function(t,n,r,i){return J.isFunction(n)&&(i=i||r,r=n,n=void 0),J.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),J._evalUrl=function(t){return J.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},J.fn.extend({wrapAll:function(t){var e;return J.isFunction(t)?this.each(function(e){J(this).wrapAll(t.call(this,e))}):(this[0]&&(e=J(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(J.isFunction(t)?function(e){J(this).wrapInner(t.call(this,e))}:function(){var e=J(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=J.isFunction(t);return this.each(function(n){J(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()}}),J.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},J.expr.filters.visible=function(t){return!J.expr.filters.hidden(t)};var Cn=/%20/g,Sn=/\[\]$/,Mn=/\r?\n/g,Tn=/^(?:submit|button|image|reset|file)$/i,An=/^(?:input|select|textarea|keygen)/i;J.param=function(t,e){var n,r=[],i=function(t,e){e=J.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(t)||t.jquery&&!J.isPlainObject(t))J.each(t,function(){i(this.name,this.value)});else for(n in t)R(n,t[n],e,i);return r.join("&").replace(Cn,"+")},J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=J.prop(this,"elements");return t?J.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!J(this).is(":disabled")&&An.test(this.nodeName)&&!Tn.test(t)&&(this.checked||!Ce.test(t))}).map(function(t,e){var n=J(this).val();return null==n?null:J.isArray(n)?J.map(n,function(t){return{name:e.name,value:t.replace(Mn,"\r\n")}}):{name:e.name,value:n.replace(Mn,"\r\n")}
}).get()}}),J.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var En=0,Ln={},Nn={0:200,1223:204},Fn=J.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Ln)Ln[t]()}),Z.cors=!!Fn&&"withCredentials"in Fn,Z.ajax=Fn=!!Fn,J.ajaxTransport(function(t){var e;return Z.cors||Fn&&!t.crossDomain?{send:function(n,r){var i,o=t.xhr(),a=++En;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete Ln[a],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r(Nn[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Ln[a]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(s){if(e)throw s}},abort:function(){e&&e()}}:void 0}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return J.globalEval(t),t}}}),J.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),J.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=J("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),G.head.appendChild(e[0])},abort:function(){n&&n()}}}});var zn=[],Dn=/(=)\?(?=&|$)|\?\?/;J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=zn.pop()||J.expando+"_"+cn++;return this[t]=!0,t}}),J.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,a,s=e.jsonp!==!1&&(Dn.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dn.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=J.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Dn,"$1"+i):e.jsonp!==!1&&(e.url+=(hn.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||J.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always(function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,zn.push(i)),a&&J.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),J.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||G;var r=ae.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=J.buildFragment([t],e,i),i&&i.length&&J(i).remove(),J.merge([],r.childNodes))};var jn=J.fn.load;J.fn.load=function(t,e,n){if("string"!=typeof t&&jn)return jn.apply(this,arguments);var r,i,o,a=this,s=t.indexOf(" ");return s>=0&&(r=J.trim(t.slice(s)),t=t.slice(0,s)),J.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&J.ajax({url:t,type:i,dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?J("<div>").append(J.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},J.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){J.fn[e]=function(t){return this.on(e,t)}}),J.expr.filters.animated=function(t){return J.grep(J.timers,function(e){return t===e.elem}).length};var Pn=t.document.documentElement;J.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,l,c=J.css(t,"position"),h=J(t),f={};"static"===c&&(t.style.position="relative"),s=h.offset(),o=J.css(t,"top"),u=J.css(t,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=h.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),J.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+i),"using"in e?e.using.call(t,f):h.css(f)}},J.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){J.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return e=o.documentElement,J.contains(e,r)?(typeof r.getBoundingClientRect!==Se&&(i=r.getBoundingClientRect()),n=q(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===J.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),J.nodeName(t[0],"html")||(r=t.offset()),r.top+=J.css(t[0],"borderTopWidth",!0),r.left+=J.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-J.css(n,"marginTop",!0),left:e.left-r.left-J.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Pn;t&&!J.nodeName(t,"html")&&"static"===J.css(t,"position");)t=t.offsetParent;return t||Pn})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r="pageYOffset"===n;J.fn[e]=function(i){return me(this,function(e,i,o){var a=q(e);return void 0===o?a?a[n]:e[i]:void(a?a.scrollTo(r?t.pageXOffset:o,r?o:t.pageYOffset):e[i]=o)},e,i,arguments.length,null)}}),J.each(["top","left"],function(t,e){J.cssHooks[e]=w(Z.pixelPosition,function(t,n){return n?(n=x(t,e),$e.test(n)?J(t).position()[e]+"px":n):void 0})}),J.each({Height:"height",Width:"width"},function(t,e){J.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){J.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return me(this,function(e,n,r){var i;return J.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?J.css(e,n,a):J.style(e,n,r,a)},e,o?r:void 0,o,null)}})}),J.fn.size=function(){return this.length},J.fn.andSelf=J.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return J});var On=t.jQuery,In=t.$;return J.noConflict=function(e){return t.$===J&&(t.$=In),e&&t.jQuery===J&&(t.jQuery=On),J},typeof e===Se&&(t.jQuery=t.$=J),J}),function(){"use strict";function t(e,r){function i(t,e){return function(){return t.apply(e,arguments)}}var o;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=e,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!t.notNeeded(e)){for(var a=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],s=this,u=0,l=a.length;l>u;u++)s[a[u]]=i(s[a[u]],s);n&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;"click"===t?i.call(e,t,n.hijacked||n,r):i.call(e,t,n,r)},e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;"click"===t?i.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),r):i.call(e,t,n,r)}),"function"==typeof e.onclick&&(o=e.onclick,e.addEventListener("click",function(t){o(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!e,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,i=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=r&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(r&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,r;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),r=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;r&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,o;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],r){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!i){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n?!0:!1},t.prototype.onTouchMove=function(t){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,a,s,u,l,c=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,a=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(l=t.changedTouches[0],c=document.elementFromPoint(l.pageX-window.pageXOffset,l.pageY-window.pageYOffset)||c,c.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=c.tagName.toLowerCase(),"label"===s){if(e=this.findControl(c)){if(this.focus(c),n)return!1;c=e}}else if(this.needsFocus(c))return t.timeStamp-a>100||r&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(c),this.sendClick(c,t),r&&"select"===s||(this.targetElement=null,t.preventDefault()),!1);return r&&!i&&(u=c.fastClickScrollParent,u&&u.fastClickLastScrollTop!==u.scrollTop)?!0:(this.needsClick(c)||(t.preventDefault(),this.sendClick(c,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,r,i,o;if("undefined"==typeof window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(r>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(a&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction?!0:(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],o>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===t.style.touchAction||"manipulation"===t.style.touchAction?!0:!1)},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return s.raw?t:encodeURIComponent(t)}function n(t){return s.raw?t:decodeURIComponent(t)}function r(t){return e(s.json?JSON.stringify(t):String(t))}function i(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(a," ")),s.json?JSON.parse(t):t}catch(e){}}function o(e,n){var r=s.raw?e:i(e);return t.isFunction(n)?n(r):r}var a=/\+/g,s=t.cookie=function(i,a,u){if(void 0!==a&&!t.isFunction(a)){if(u=t.extend({},s.defaults,u),"number"==typeof u.expires){var l=u.expires,c=u.expires=new Date;c.setTime(+c+864e5*l)}return document.cookie=[e(i),"=",r(a),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")}for(var h=i?void 0:{},f=document.cookie?document.cookie.split("; "):[],d=0,p=f.length;p>d;d++){var g=f[d].split("="),m=n(g.shift()),v=g.join("=");if(i&&i===m){h=o(v,a);break}i||void 0===(v=o(v))||(h[m]=v)}return h};s.defaults={},t.removeCookie=function(e,n){return void 0===t.cookie(e)?!1:(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(e){var n={},r=/^jQuery\d+$/;return t.each(e.attributes,function(t,e){e.specified&&!r.test(e.name)&&(n[e.name]=e.value)}),n}function n(e,n){var r=this,o=t(r);if(r.value==o.attr("placeholder")&&o.hasClass("placeholder"))if(o.data("placeholder-password")){if(o=o.hide().nextAll('input[type="password"]:first').show().attr("id",o.removeAttr("id").data("placeholder-id")),e===!0)return o[0].value=n;o.focus()}else r.value="",o.removeClass("placeholder"),r==i()&&r.select()}function r(){var r,i=this,o=t(i),a=this.id;if(""===i.value){if("password"===i.type){if(!o.data("placeholder-textinput")){try{r=o.clone().attr({type:"text"})}catch(s){r=t("<input>").attr(t.extend(e(this),{type:"text"}))}r.removeAttr("name").data({"placeholder-password":o,"placeholder-id":a}).bind("focus.placeholder",n),o.data({"placeholder-textinput":r,"placeholder-id":a}).before(r)}o=o.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",a).show()}o.addClass("placeholder"),o[0].value=o.attr("placeholder")}else o.removeClass("placeholder")}function i(){try{return document.activeElement}catch(t){}}var o,a,s="[object OperaMini]"==Object.prototype.toString.call(window.operamini),u="placeholder"in document.createElement("input")&&!s,l="placeholder"in document.createElement("textarea")&&!s,c=t.valHooks,h=t.propHooks;u&&l?(a=t.fn.placeholder=function(){return this},a.input=a.textarea=!0):(a=t.fn.placeholder=function(){var t=this;return t.filter((u?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":n,"blur.placeholder":r}).data("placeholder-enabled",!0).trigger("blur.placeholder"),t},a.input=u,a.textarea=l,o={get:function(e){var n=t(e),r=n.data("placeholder-password");return r?r[0].value:n.data("placeholder-enabled")&&n.hasClass("placeholder")?"":e.value},set:function(e,o){var a=t(e),s=a.data("placeholder-password");return s?s[0].value=o:a.data("placeholder-enabled")?(""===o?(e.value=o,e!=i()&&r.call(e)):a.hasClass("placeholder")?n.call(e,!0,o)||(e.value=o):e.value=o,a):e.value=o}},u||(c.input=o,h.value=o),l||(c.textarea=o,h.value=o),t(function(){t(document).delegate("form","submit.placeholder",function(){var e=t(".placeholder",this).each(n);setTimeout(function(){e.each(r)},10)})}),t(window).bind("beforeunload.placeholder",function(){t(".placeholder").each(function(){this.value=""})}))}),function(t,e,n,r){"use strict";function i(t){return("string"==typeof t||t instanceof String)&&(t=t.replace(/^['\\/"]+|(;\s?})+|['\\/"]+$/g,"")),t}var o=function(e){for(var n=e.length,r=t("head");n--;)0===r.has("."+e[n]).length&&r.append('<meta class="'+e[n]+'" />')};o(["foundation-mq-small","foundation-mq-small-only","foundation-mq-medium","foundation-mq-medium-only","foundation-mq-large","foundation-mq-large-only","foundation-mq-xlarge","foundation-mq-xlarge-only","foundation-mq-xxlarge","foundation-data-attribute-namespace"]),t(function(){"undefined"!=typeof FastClick&&"undefined"!=typeof n.body&&FastClick.attach(n.body)});var a=function(e,r){if("string"==typeof e){if(r){var i;if(r.jquery){if(i=r[0],!i)return r}else i=r;return t(i.querySelectorAll(e))}return t(n.querySelectorAll(e))}return t(e,r)},s=function(t){var e=[];return t||e.push("data"),this.namespace.length>0&&e.push(this.namespace),e.push(this.name),e.join("-")},u=function(t){for(var e=t.split("-"),n=e.length,r=[];n--;)0!==n?r.push(e[n]):this.namespace.length>0?r.push(this.namespace,e[n]):r.push(e[n]);return r.reverse().join("-")},l=function(e,n){var r=this,i=!a(this).data(this.attr_name(!0));return a(this.scope).is("["+this.attr_name()+"]")?(a(this.scope).data(this.attr_name(!0)+"-init",t.extend({},this.settings,n||e,this.data_options(a(this.scope)))),i&&this.events(this.scope)):a("["+this.attr_name()+"]",this.scope).each(function(){var i=!a(this).data(r.attr_name(!0)+"-init");a(this).data(r.attr_name(!0)+"-init",t.extend({},r.settings,n||e,r.data_options(a(this)))),i&&r.events(this)}),"string"==typeof e?this[e].call(this,n):void 0},c=function(t,e){function n(){e(t[0])}function r(){if(this.one("load",n),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var t=this.attr("src"),e=t.match(/\?/)?"&":"?";e+="random="+(new Date).getTime(),this.attr("src",t+e)}}return t.attr("src")?void(t[0].complete||4===t[0].readyState?n():r.call(t)):void n()};e.matchMedia=e.matchMedia||function(t){var e,n=t.documentElement,r=n.firstElementChild||n.firstChild,i=t.createElement("body"),o=t.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",i.style.background="none",i.appendChild(o),function(t){return o.innerHTML='&shy;<style media="'+t+'"> #mq-test-1 { width: 42px; }</style>',n.insertBefore(i,r),e=42===o.offsetWidth,n.removeChild(i),{matches:e,media:t}}}(n),function(t){function n(){r&&(a(n),u&&t.fx.tick())}for(var r,i=0,o=["webkit","moz"],a=e.requestAnimationFrame,s=e.cancelAnimationFrame,u="undefined"!=typeof t.fx;i<o.length&&!a;i++)a=e[o[i]+"RequestAnimationFrame"],s=s||e[o[i]+"CancelAnimationFrame"]||e[o[i]+"CancelRequestAnimationFrame"];a?(e.requestAnimationFrame=a,e.cancelAnimationFrame=s,u&&(t.fx.timer=function(e){e()&&t.timers.push(e)&&!r&&(r=!0,n())},t.fx.stop=function(){r=!1})):(e.requestAnimationFrame=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-i)),o=e.setTimeout(function(){t(n+r)},r);return i=n+r,o},e.cancelAnimationFrame=function(t){clearTimeout(t)})}(t),e.Foundation={name:"Foundation",version:"5.5.0",media_queries:{small:a(".foundation-mq-small").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"small-only":a(".foundation-mq-small-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),medium:a(".foundation-mq-medium").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"medium-only":a(".foundation-mq-medium-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),large:a(".foundation-mq-large").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"large-only":a(".foundation-mq-large-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xlarge:a(".foundation-mq-xlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),"xlarge-only":a(".foundation-mq-xlarge-only").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,""),xxlarge:a(".foundation-mq-xxlarge").css("font-family").replace(/^[\/\\'"]+|(;\s?})+|[\/\\'"]+$/g,"")},stylesheet:t("<style></style>").appendTo("head")[0].sheet,global:{namespace:r},init:function(t,n,r,i,o){var s=[t,r,i,o],u=[];if(this.rtl=/rtl/i.test(a("html").attr("dir")),this.scope=t||this.scope,this.set_namespace(),n&&"string"==typeof n&&!/reflow/i.test(n))this.libs.hasOwnProperty(n)&&u.push(this.init_lib(n,s));else for(var l in this.libs)u.push(this.init_lib(l,n));return a(e).load(function(){a(e).trigger("resize.fndtn.clearing").trigger("resize.fndtn.dropdown").trigger("resize.fndtn.equalizer").trigger("resize.fndtn.interchange").trigger("resize.fndtn.joyride").trigger("resize.fndtn.magellan").trigger("resize.fndtn.topbar").trigger("resize.fndtn.slider")}),t},init_lib:function(e,n){return this.libs.hasOwnProperty(e)?(this.patch(this.libs[e]),n&&n.hasOwnProperty(e)?("undefined"!=typeof this.libs[e].settings?t.extend(!0,this.libs[e].settings,n[e]):"undefined"!=typeof this.libs[e].defaults&&t.extend(!0,this.libs[e].defaults,n[e]),this.libs[e].init.apply(this.libs[e],[this.scope,n[e]])):(n=n instanceof Array?n:new Array(n),this.libs[e].init.apply(this.libs[e],n))):function(){}},patch:function(t){t.scope=this.scope,t.namespace=this.global.namespace,t.rtl=this.rtl,t.data_options=this.utils.data_options,t.attr_name=s,t.add_namespace=u,t.bindings=l,t.S=this.utils.S},inherit:function(t,e){for(var n=e.split(" "),r=n.length;r--;)this.utils.hasOwnProperty(n[r])&&(t[n[r]]=this.utils[n[r]])},set_namespace:function(){var e=this.global.namespace===r?t(".foundation-data-attribute-namespace").css("font-family"):this.global.namespace;this.global.namespace=e===r||/false/i.test(e)?"":e},libs:{},utils:{S:a,throttle:function(t,e){var n=null;return function(){var r=this,i=arguments;null==n&&(n=setTimeout(function(){t.apply(r,i),n=null},e))}},debounce:function(t,e,n){var r,i;return function(){var o=this,a=arguments,s=function(){r=null,n||(i=t.apply(o,a))},u=n&&!r;return clearTimeout(r),r=setTimeout(s,e),u&&(i=t.apply(o,a)),i}},data_options:function(e,n){function r(t){return!isNaN(t-0)&&null!==t&&""!==t&&t!==!1&&t!==!0}function i(e){return"string"==typeof e?t.trim(e):e}n=n||"options";var o,a,s,u={},l=function(t){var e=Foundation.global.namespace;return t.data(e.length>0?e+"-"+n:n)},c=l(e);if("object"==typeof c)return c;for(s=(c||":").split(";"),o=s.length;o--;)a=s[o].split(":"),a=[a[0],a.slice(1).join(":")],/true/i.test(a[1])&&(a[1]=!0),/false/i.test(a[1])&&(a[1]=!1),r(a[1])&&(a[1]=-1===a[1].indexOf(".")?parseInt(a[1],10):parseFloat(a[1])),2===a.length&&a[0].length>0&&(u[i(a[0])]=i(a[1]));return u},register_media:function(e,n){Foundation.media_queries[e]===r&&(t("head").append('<meta class="'+n+'"/>'),Foundation.media_queries[e]=i(t("."+n).css("font-family")))},add_custom_rule:function(t,e){if(e===r&&Foundation.stylesheet)Foundation.stylesheet.insertRule(t,Foundation.stylesheet.cssRules.length);else{var n=Foundation.media_queries[e];n!==r&&Foundation.stylesheet.insertRule("@media "+Foundation.media_queries[e]+"{ "+t+" }")}},image_loaded:function(t,e){var n=this,r=t.length;0===r&&e(t),t.each(function(){c(n.S(this),function(){r-=1,0===r&&e(t)})})},random_str:function(){return this.fidx||(this.fidx=0),this.prefix=this.prefix||[this.name||"F",(+new Date).toString(36)].join("-"),this.prefix+(this.fidx++).toString(36)},match:function(t){return e.matchMedia(t).matches},is_small_up:function(){return this.match(Foundation.media_queries.small)},is_medium_up:function(){return this.match(Foundation.media_queries.medium)},is_large_up:function(){return this.match(Foundation.media_queries.large)},is_xlarge_up:function(){return this.match(Foundation.media_queries.xlarge)},is_xxlarge_up:function(){return this.match(Foundation.media_queries.xxlarge)},is_small_only:function(){return!(this.is_medium_up()||this.is_large_up()||this.is_xlarge_up()||this.is_xxlarge_up())},is_medium_only:function(){return this.is_medium_up()&&!this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_large_only:function(){return this.is_medium_up()&&this.is_large_up()&&!this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&!this.is_xxlarge_up()},is_xxlarge_only:function(){return this.is_medium_up()&&this.is_large_up()&&this.is_xlarge_up()&&this.is_xxlarge_up()}}},t.fn.foundation=function(){var t=Array.prototype.slice.call(arguments,0);return this.each(function(){return Foundation.init.apply(Foundation,[this].concat(t)),this})}}(jQuery,window,window.document),function(t,e,n){"use strict";Foundation.libs.abide={name:"abide",version:"5.5.0",settings:{live_validate:!0,validate_on_blur:!0,focus_on_invalid:!0,error_labels:!0,error_class:"error",timeout:1e3,patterns:{alpha:/^[a-zA-Z]+$/,alpha_numeric:/^[a-zA-Z0-9]+$/,integer:/^[-+]?\d+$/,number:/^[-+]?\d*(?:[\.\,]\d+)?$/,card:/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/,cvv:/^([0-9]){3,4}$/,email:/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$/,url:/^(https?|ftp|file|ssh):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,domain:/^([a-zA-Z0-9]([a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,8}$/,datetime:/^([0-2][0-9]{3})\-([0-1][0-9])\-([0-3][0-9])T([0-5][0-9])\:([0-5][0-9])\:([0-5][0-9])(Z|([\-\+]([0-1][0-9])\:00))$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))$/,time:/^(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]){2}$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,month_day_year:/^(0[1-9]|1[012])[- \/.](0[1-9]|[12][0-9]|3[01])[- \/.]\d{4}$/,day_month_year:/^(0[1-9]|[12][0-9]|3[01])[- \/.](0[1-9]|1[012])[- \/.]\d{4}$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/},validators:{equalTo:function(t){var e=n.getElementById(t.getAttribute(this.add_namespace("data-equalto"))).value,r=t.value,i=e===r;return i}}},timer:null,init:function(t,e,n){this.bindings(e,n)},events:function(e){var n=this,r=n.S(e).attr("novalidate","novalidate"),i=r.data(this.attr_name(!0)+"-init")||{};this.invalid_attr=this.add_namespace("data-invalid"),r.off(".abide").on("submit.fndtn.abide validate.fndtn.abide",function(t){var e=/ajax/i.test(n.S(this).attr(n.attr_name()));return n.validate(n.S(this).find("input, textarea, select").get(),t,e)}).on("reset",function(){return n.reset(t(this))}).find("input, textarea, select").off(".abide").on("blur.fndtn.abide change.fndtn.abide",function(t){i.validate_on_blur===!0&&n.validate([this],t)}).on("keydown.fndtn.abide",function(t){i.live_validate===!0&&9!=t.which&&(clearTimeout(n.timer),n.timer=setTimeout(function(){n.validate([this],t)}.bind(this),i.timeout))})},reset:function(e){e.removeAttr(this.invalid_attr),t(this.invalid_attr,e).removeAttr(this.invalid_attr),t("."+this.settings.error_class,e).not("small").removeClass(this.settings.error_class)},validate:function(t,e,n){for(var r=this.parse_patterns(t),i=r.length,o=this.S(t[0]).closest("form"),a=/submit/.test(e.type),s=0;i>s;s++)if(!r[s]&&(a||n))return this.settings.focus_on_invalid&&t[s].focus(),o.trigger("invalid").trigger("invalid.fndtn.abide"),this.S(t[s]).closest("form").attr(this.invalid_attr,""),!1;return(a||n)&&o.trigger("valid").trigger("valid.fndtn.abide"),o.removeAttr(this.invalid_attr),n?!1:!0},parse_patterns:function(t){for(var e=t.length,n=[];e--;)n.push(this.pattern(t[e]));return this.check_validation_and_apply_styles(n)},pattern:function(t){var e=t.getAttribute("type"),n="string"==typeof t.getAttribute("required"),r=t.getAttribute("pattern")||"";return this.settings.patterns.hasOwnProperty(r)&&r.length>0?[t,this.settings.patterns[r],n]:r.length>0?[t,new RegExp(r),n]:this.settings.patterns.hasOwnProperty(e)?[t,this.settings.patterns[e],n]:(r=/.*/,[t,r,n])},check_validation_and_apply_styles:function(e){var n=e.length,r=[],i=this.S(e[0][0]).closest("[data-"+this.attr_name(!0)+"]");for(i.data(this.attr_name(!0)+"-init")||{};n--;){var o,a,s=e[n][0],u=e[n][2],l=s.value.trim(),c=this.S(s).parent(),h=s.getAttribute(this.add_namespace("data-abide-validator")),f="radio"===s.type,d="checkbox"===s.type,p=this.S('label[for="'+s.getAttribute("id")+'"]'),g=u?s.value.length>0:!0,m=[];if(s.getAttribute(this.add_namespace("data-equalto"))&&(h="equalTo"),o=c.is("label")?c.parent():c,h&&(a=this.settings.validators[h].apply(this,[s,u,o]),m.push(a)),f&&u)m.push(this.valid_radio(s,u));else if(d&&u)m.push(this.valid_checkbox(s,u));else if(m.push(e[n][1].test(l)&&g||!u&&s.value.length<1||t(s).attr("disabled")?!0:!1),m=[m.every(function(t){return t})],m[0])this.S(s).removeAttr(this.invalid_attr),s.setAttribute("aria-invalid","false"),s.removeAttribute("aria-describedby"),o.removeClass(this.settings.error_class),p.length>0&&this.settings.error_labels&&p.removeClass(this.settings.error_class).removeAttr("role"),t(s).triggerHandler("valid");else{this.S(s).attr(this.invalid_attr,""),s.setAttribute("aria-invalid","true");var v=o.find("small."+this.settings.error_class,"span."+this.settings.error_class),y=v.length>0?v[0].id:"";y.length>0&&s.setAttribute("aria-describedby",y),o.addClass(this.settings.error_class),p.length>0&&this.settings.error_labels&&p.addClass(this.settings.error_class).attr("role","alert"),t(s).triggerHandler("invalid")
}r.push(m[0])}return r=[r.every(function(t){return t})]},valid_checkbox:function(t,e){var t=this.S(t),n=t.is(":checked")||!e||t.get(0).getAttribute("disabled");return n?t.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):t.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),n},valid_radio:function(t){for(var e=t.getAttribute("name"),n=this.S(t).closest("[data-"+this.attr_name(!0)+"]").find("[name='"+e+"']"),r=n.length,i=!1,o=!1,a=0;r>a;a++)n[a].getAttribute("disabled")?(o=!0,i=!0):n[a].checked?i=!0:o&&(i=!1);for(var a=0;r>a;a++)i?this.S(n[a]).removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):this.S(n[a]).attr(this.invalid_attr,"").parent().addClass(this.settings.error_class);return i},valid_equal:function(t,e,r){var i=n.getElementById(t.getAttribute(this.add_namespace("data-equalto"))).value,o=t.value,a=i===o;return a?(this.S(t).removeAttr(this.invalid_attr),r.removeClass(this.settings.error_class),label.length>0&&settings.error_labels&&label.removeClass(this.settings.error_class)):(this.S(t).attr(this.invalid_attr,""),r.addClass(this.settings.error_class),label.length>0&&settings.error_labels&&label.addClass(this.settings.error_class)),a},valid_oneof:function(t,e,n,r){var t=this.S(t),i=this.S("["+this.add_namespace("data-oneof")+"]"),o=i.filter(":checked").length>0;if(o?t.removeAttr(this.invalid_attr).parent().removeClass(this.settings.error_class):t.attr(this.invalid_attr,"").parent().addClass(this.settings.error_class),!r){var a=this;i.each(function(){a.valid_oneof.call(a,this,null,null,!0)})}return o}}}(jQuery,window,window.document),function(t){"use strict";Foundation.libs.accordion={name:"accordion",version:"5.5.0",settings:{content_class:"content",active_class:"active",multi_expand:!1,toggleable:!0,callback:function(){}},init:function(t,e,n){this.bindings(e,n)},events:function(){var e=this,n=this.S;n(this.scope).off(".fndtn.accordion").on("click.fndtn.accordion","["+this.attr_name()+"] > .accordion-navigation > a",function(r){var i=n(this).closest("["+e.attr_name()+"]"),o=e.attr_name()+"="+i.attr(e.attr_name()),a=i.data(e.attr_name(!0)+"-init")||e.settings,s=n("#"+this.href.split("#")[1]),u=t("> .accordion-navigation",i),l=u.children("."+a.content_class),c=l.filter("."+a.active_class);return r.preventDefault(),i.attr(e.attr_name())&&(l=l.add("["+o+"] dd > ."+a.content_class),u=u.add("["+o+"] .accordion-navigation")),a.toggleable&&s.is(c)?(s.parent(".accordion-navigation").toggleClass(a.active_class,!1),s.toggleClass(a.active_class,!1),a.callback(s),s.triggerHandler("toggled",[i]),void i.triggerHandler("toggled",[s])):(a.multi_expand||(l.removeClass(a.active_class),u.removeClass(a.active_class)),s.addClass(a.active_class).parent().addClass(a.active_class),a.callback(s),s.triggerHandler("toggled",[i]),void i.triggerHandler("toggled",[s]))})},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(t){"use strict";Foundation.libs.alert={name:"alert",version:"5.5.0",settings:{callback:function(){}},init:function(t,e,n){this.bindings(e,n)},events:function(){var e=this,n=this.S;t(this.scope).off(".alert").on("click.fndtn.alert","["+this.attr_name()+"] .close",function(t){var r=n(this).closest("["+e.attr_name()+"]"),i=r.data(e.attr_name(!0)+"-init")||e.settings;t.preventDefault(),Modernizr.csstransitions?(r.addClass("alert-close"),r.on("transitionend webkitTransitionEnd oTransitionEnd",function(){n(this).trigger("close").trigger("close.fndtn.alert").remove(),i.callback()})):r.fadeOut(300,function(){n(this).trigger("close").trigger("close.fndtn.alert").remove(),i.callback()})})},reflow:function(){}}}(jQuery,window,window.document),function(t,e,n,r){"use strict";Foundation.libs.clearing={name:"clearing",version:"5.5.0",settings:{templates:{viewing:'<a href="#" class="clearing-close">&times;</a><div class="visible-img" style="display: none"><div class="clearing-touch-label"></div><img src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D" alt="" /><p class="clearing-caption"></p><a href="#" class="clearing-main-prev"><span></span></a><a href="#" class="clearing-main-next"><span></span></a></div>'},close_selectors:".clearing-close, div.clearing-blackout",open_selectors:"",skip_selector:"",touch_label:"",init:!1,locked:!1},init:function(t,e,n){var r=this;Foundation.inherit(this,"throttle image_loaded"),this.bindings(e,n),r.S(this.scope).is("["+this.attr_name()+"]")?this.assemble(r.S("li",this.scope)):r.S("["+this.attr_name()+"]",this.scope).each(function(){r.assemble(r.S("li",this))})},events:function(r){var i=this,o=i.S,a=t(".scroll-container");a.length>0&&(this.scope=a),o(this.scope).off(".clearing").on("click.fndtn.clearing","ul["+this.attr_name()+"] li "+this.settings.open_selectors,function(t,e,n){var e=e||o(this),n=n||e,r=e.next("li"),a=e.closest("["+i.attr_name()+"]").data(i.attr_name(!0)+"-init"),s=o(t.target);t.preventDefault(),a||(i.init(),a=e.closest("["+i.attr_name()+"]").data(i.attr_name(!0)+"-init")),n.hasClass("visible")&&e[0]===n[0]&&r.length>0&&i.is_open(e)&&(n=r,s=o("img",n)),i.open(s,e,n),i.update_paddles(n)}).on("click.fndtn.clearing",".clearing-main-next",function(t){i.nav(t,"next")}).on("click.fndtn.clearing",".clearing-main-prev",function(t){i.nav(t,"prev")}).on("click.fndtn.clearing",this.settings.close_selectors,function(t){Foundation.libs.clearing.close(t,this)}),t(n).on("keydown.fndtn.clearing",function(t){i.keydown(t)}),o(e).off(".clearing").on("resize.fndtn.clearing",function(){i.resize()}),this.swipe_events(r)},swipe_events:function(){var t=this,e=t.S;e(this.scope).on("touchstart.fndtn.clearing",".visible-img",function(t){t.touches||(t=t.originalEvent);var n={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:r};e(this).data("swipe-transition",n),t.stopPropagation()}).on("touchmove.fndtn.clearing",".visible-img",function(n){if(n.touches||(n=n.originalEvent),!(n.touches.length>1||n.scale&&1!==n.scale)){var r=e(this).data("swipe-transition");if("undefined"==typeof r&&(r={}),r.delta_x=n.touches[0].pageX-r.start_page_x,Foundation.rtl&&(r.delta_x=-r.delta_x),"undefined"==typeof r.is_scrolling&&(r.is_scrolling=!!(r.is_scrolling||Math.abs(r.delta_x)<Math.abs(n.touches[0].pageY-r.start_page_y))),!r.is_scrolling&&!r.active){n.preventDefault();var i=r.delta_x<0?"next":"prev";r.active=!0,t.nav(n,i)}}}).on("touchend.fndtn.clearing",".visible-img",function(t){e(this).data("swipe-transition",{}),t.stopPropagation()})},assemble:function(e){var n=e.parent();if(!n.parent().hasClass("carousel")){n.after('<div id="foundationClearingHolder"></div>');var r=n.detach(),i="";if(null!=r[0]){i=r[0].outerHTML;var o=this.S("#foundationClearingHolder"),a=n.data(this.attr_name(!0)+"-init"),s={grid:'<div class="carousel">'+i+"</div>",viewing:a.templates.viewing},u='<div class="clearing-assembled"><div>'+s.viewing+s.grid+"</div></div>",l=this.settings.touch_label;Modernizr.touch&&(u=t(u).find(".clearing-touch-label").html(l).end()),o.after(u).remove()}}},open:function(e,r,i){function o(){setTimeout(function(){this.image_loaded(f,function(){1!==f.outerWidth()||p?a.call(this,f):o.call(this)}.bind(this))}.bind(this),100)}function a(e){var n=t(e);n.css("visibility","visible"),u.css("overflow","hidden"),l.addClass("clearing-blackout"),c.addClass("clearing-container"),h.show(),this.fix_height(i).caption(s.S(".clearing-caption",h),s.S("img",i)).center_and_label(e,d).shift(r,i,function(){i.closest("li").siblings().removeClass("visible"),i.closest("li").addClass("visible")}),h.trigger("opened.fndtn.clearing")}var s=this,u=t(n.body),l=i.closest(".clearing-assembled"),c=s.S("div",l).first(),h=s.S(".visible-img",c),f=s.S("img",h).not(e),d=s.S(".clearing-touch-label",c),p=!1;t("body").on("touchmove",function(t){t.preventDefault()}),f.error(function(){p=!0}),this.locked()||(h.trigger("open.fndtn.clearing"),f.attr("src",this.load(e)).css("visibility","hidden"),o.call(this))},close:function(e,r){e.preventDefault();var i,o,a=function(t){return/blackout/.test(t.selector)?t:t.closest(".clearing-blackout")}(t(r)),s=t(n.body);return r===e.target&&a&&(s.css("overflow",""),i=t("div",a).first(),o=t(".visible-img",i),o.trigger("close.fndtn.clearing"),this.settings.prev_index=0,t("ul["+this.attr_name()+"]",a).attr("style","").closest(".clearing-blackout").removeClass("clearing-blackout"),i.removeClass("clearing-container"),o.hide(),o.trigger("closed.fndtn.clearing")),t("body").off("touchmove"),!1},is_open:function(t){return t.parent().prop("style").length>0},keydown:function(e){var n=t(".clearing-blackout ul["+this.attr_name()+"]"),r=this.rtl?37:39,i=this.rtl?39:37,o=27;e.which===r&&this.go(n,"next"),e.which===i&&this.go(n,"prev"),e.which===o&&this.S("a.clearing-close").trigger("click").trigger("click.fndtn.clearing")},nav:function(e,n){var r=t("ul["+this.attr_name()+"]",".clearing-blackout");e.preventDefault(),this.go(r,n)},resize:function(){var e=t("img",".clearing-blackout .visible-img"),n=t(".clearing-touch-label",".clearing-blackout");e.length&&(this.center_and_label(e,n),e.trigger("resized.fndtn.clearing"))},fix_height:function(t){var e=t.parent().children(),n=this;return e.each(function(){var t=n.S(this),e=t.find("img");t.height()>e.outerHeight()&&t.addClass("fix-height")}).closest("ul").width(100*e.length+"%"),this},update_paddles:function(t){t=t.closest("li");var e=t.closest(".carousel").siblings(".visible-img");t.next().length>0?this.S(".clearing-main-next",e).removeClass("disabled"):this.S(".clearing-main-next",e).addClass("disabled"),t.prev().length>0?this.S(".clearing-main-prev",e).removeClass("disabled"):this.S(".clearing-main-prev",e).addClass("disabled")},center_and_label:function(t,e){return e.css(!this.rtl&&e.length>0?{marginLeft:-(e.outerWidth()/2),marginTop:-(t.outerHeight()/2)-e.outerHeight()-10}:{marginRight:-(e.outerWidth()/2),marginTop:-(t.outerHeight()/2)-e.outerHeight()-10,left:"auto",right:"50%"}),this},load:function(t){var e;return e="A"===t[0].nodeName?t.attr("href"):t.closest("a").attr("href"),this.preload(t),e?e:t.attr("src")},preload:function(t){this.img(t.closest("li").next()).img(t.closest("li").prev())},img:function(t){if(t.length){var e=new Image,n=this.S("a",t);e.src=n.length?n.attr("href"):this.S("img",t).attr("src")}return this},caption:function(t,e){var n=e.attr("data-caption");return n?t.html(n).show():t.text("").hide(),this},go:function(t,e){var n=this.S(".visible",t),r=n[e]();this.settings.skip_selector&&0!=r.find(this.settings.skip_selector).length&&(r=r[e]()),r.length&&this.S("img",r).trigger("click",[n,r]).trigger("click.fndtn.clearing",[n,r]).trigger("change.fndtn.clearing")},shift:function(t,e,n){var r,i=e.parent(),o=this.settings.prev_index||e.index(),a=this.direction(i,t,e),s=this.rtl?"right":"left",u=parseInt(i.css("left"),10),l=e.outerWidth(),c={};e.index()===o||/skip/.test(a)?/skip/.test(a)&&(r=e.index()-this.settings.up_count,this.lock(),r>0?(c[s]=-(r*l),i.animate(c,300,this.unlock())):(c[s]=0,i.animate(c,300,this.unlock()))):/left/.test(a)?(this.lock(),c[s]=u+l,i.animate(c,300,this.unlock())):/right/.test(a)&&(this.lock(),c[s]=u-l,i.animate(c,300,this.unlock())),n()},direction:function(t,e,n){var r,i=this.S("li",t),o=i.outerWidth()+i.outerWidth()/4,a=Math.floor(this.S(".clearing-container").outerWidth()/o)-1,s=i.index(n);return this.settings.up_count=a,r=this.adjacent(this.settings.prev_index,s)?s>a&&s>this.settings.prev_index?"right":s>a-1&&s<=this.settings.prev_index?"left":!1:"skip",this.settings.prev_index=s,r},adjacent:function(t,e){for(var n=e+1;n>=e-1;n--)if(n===t)return!0;return!1},lock:function(){this.settings.locked=!0},unlock:function(){this.settings.locked=!1},locked:function(){return this.settings.locked},off:function(){this.S(this.scope).off(".fndtn.clearing"),this.S(e).off(".fndtn.clearing")},reflow:function(){this.init()}}}(jQuery,window,window.document),function(t,e,n){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.5.0",settings:{active_class:"open",disabled_class:"disabled",mega_class:"mega",align:"bottom",is_hover:!1,hover_timeout:150,opened:function(){},closed:function(){}},init:function(e,n,r){Foundation.inherit(this,"throttle"),t.extend(!0,this.settings,n,r),this.bindings(n,r)},events:function(){var r=this,i=r.S;i(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(e){var n=i(this).data(r.attr_name(!0)+"-init")||r.settings;(!n.is_hover||Modernizr.touch)&&(e.preventDefault(),i(this).parent("[data-reveal-id]")&&e.stopPropagation(),r.toggle(t(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(t){var e,n,o=i(this);clearTimeout(r.timeout),o.data(r.data_attr())?(e=i("#"+o.data(r.data_attr())),n=o):(e=o,n=i("["+r.attr_name()+'="'+e.attr("id")+'"]'));var a=n.data(r.attr_name(!0)+"-init")||r.settings;i(t.currentTarget).data(r.data_attr())&&a.is_hover&&r.closeall.call(r),a.is_hover&&r.open.apply(r,[e,n])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(){var t,e=i(this);if(e.data(r.data_attr()))t=e.data(r.data_attr(!0)+"-init")||r.settings;else var n=i("["+r.attr_name()+'="'+i(this).attr("id")+'"]'),t=n.data(r.attr_name(!0)+"-init")||r.settings;r.timeout=setTimeout(function(){e.data(r.data_attr())?t.is_hover&&r.close.call(r,i("#"+e.data(r.data_attr()))):t.is_hover&&r.close.call(r,e)}.bind(this),t.hover_timeout)}).on("click.fndtn.dropdown",function(e){var o=i(e.target).closest("["+r.attr_name()+"-content]"),a=o.find("a");return a.length>0&&"false"!==o.attr("aria-autoclose")&&r.close.call(r,i("["+r.attr_name()+"-content]")),e.target!==n&&!t.contains(n.documentElement,e.target)||i(e.target).closest("["+r.attr_name()+"]").length>0?void 0:!i(e.target).data("revealId")&&o.length>0&&(i(e.target).is("["+r.attr_name()+"-content]")||t.contains(o.first()[0],e.target))?void e.stopPropagation():void r.close.call(r,i("["+r.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+r.attr_name()+"-content]",function(){r.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+r.attr_name()+"-content]",function(){r.settings.closed.call(this)}),i(e).off(".dropdown").on("resize.fndtn.dropdown",r.throttle(function(){r.resize.call(r)},50)),this.resize()},close:function(e){var n=this;e.each(function(){var r=t("["+n.attr_name()+"="+e[0].id+"]")||t("aria-controls="+e[0].id+"]");r.attr("aria-expanded","false"),n.S(this).hasClass(n.settings.active_class)&&(n.S(this).css(Foundation.rtl?"right":"left","-99999px").attr("aria-hidden","true").removeClass(n.settings.active_class).prev("["+n.attr_name()+"]").removeClass(n.settings.active_class).removeData("target"),n.S(this).trigger("closed").trigger("closed.fndtn.dropdown",[e]))}),e.removeClass("f-open-"+this.attr_name(!0))},closeall:function(){var e=this;t.each(e.S(".f-open-"+this.attr_name(!0)),function(){e.close.call(e,e.S(this))})},open:function(t,e){this.css(t.addClass(this.settings.active_class),e),t.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),t.data("target",e.get(0)).trigger("opened").trigger("opened.fndtn.dropdown",[t,e]),t.attr("aria-hidden","false"),e.attr("aria-expanded","true"),t.focus(),t.addClass("f-open-"+this.attr_name(!0))},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(t){if(!t.hasClass(this.settings.disabled_class)){var e=this.S("#"+t.data(this.data_attr()));0!==e.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(e)),e.hasClass(this.settings.active_class)?(this.close.call(this,e),e.data("target")!==t.get(0)&&this.open.call(this,e,t)):this.open.call(this,e,t))}},resize:function(){var t=this.S("["+this.attr_name()+"-content].open"),e=this.S("["+this.attr_name()+'="'+t.attr("id")+'"]');t.length&&e.length&&this.css(t,e)},css:function(t,e){var n=Math.max((e.width()-t.width())/2,8),r=e.data(this.attr_name(!0)+"-init")||this.settings;if(this.clear_idx(),this.small()){var i=this.dirs.bottom.call(t,e,r);t.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:i.top}),t.css(Foundation.rtl?"right":"left",n)}else this.style(t,e,r);return t},style:function(e,n,r){var i=t.extend({position:"absolute"},this.dirs[r.align].call(e,n,r));e.attr("style","").css(i)},dirs:{_base:function(t){var r=this.offsetParent(),i=r.offset(),o=t.offset();o.top-=i.top,o.left-=i.left,o.missRight=!1,o.missTop=!1,o.missLeft=!1,o.leftRightFlag=!1;var a;a=n.getElementsByClassName("row")[0]?n.getElementsByClassName("row")[0].clientWidth:e.outerWidth;var s=(e.outerWidth-a)/2,u=a;return this.hasClass("mega")||(t.offset().top<=this.outerHeight()&&(o.missTop=!0,u=e.outerWidth-s,o.leftRightFlag=!0),t.offset().left+this.outerWidth()>t.offset().left+s&&t.offset().left-s>this.outerWidth()&&(o.missRight=!0,o.missLeft=!1),t.offset().left-this.outerWidth()<=0&&(o.missLeft=!0,o.missRight=!1)),o},top:function(t,e){var n=Foundation.libs.dropdown,r=n.dirs._base.call(this,t);return this.addClass("drop-top"),1==r.missTop&&(r.top=r.top+t.outerHeight()+this.outerHeight(),this.removeClass("drop-top")),1==r.missRight&&(r.left=r.left-this.outerWidth()+t.outerWidth()),(t.outerWidth()<this.outerWidth()||n.small()||this.hasClass(e.mega_menu))&&n.adjust_pip(this,t,e,r),Foundation.rtl?{left:r.left-this.outerWidth()+t.outerWidth(),top:r.top-this.outerHeight()}:{left:r.left,top:r.top-this.outerHeight()}},bottom:function(t,e){var n=Foundation.libs.dropdown,r=n.dirs._base.call(this,t);return 1==r.missRight&&(r.left=r.left-this.outerWidth()+t.outerWidth()),(t.outerWidth()<this.outerWidth()||n.small()||this.hasClass(e.mega_menu))&&n.adjust_pip(this,t,e,r),n.rtl?{left:r.left-this.outerWidth()+t.outerWidth(),top:r.top+t.outerHeight()}:{left:r.left,top:r.top+t.outerHeight()}},left:function(t){var e=Foundation.libs.dropdown.dirs._base.call(this,t);return this.addClass("drop-left"),1==e.missLeft&&(e.left=e.left+this.outerWidth(),e.top=e.top+t.outerHeight(),this.removeClass("drop-left")),{left:e.left-this.outerWidth(),top:e.top}},right:function(t,e){var n=Foundation.libs.dropdown.dirs._base.call(this,t);this.addClass("drop-right"),1==n.missRight?(n.left=n.left-this.outerWidth(),n.top=n.top+t.outerHeight(),this.removeClass("drop-right")):n.triggeredRight=!0;var r=Foundation.libs.dropdown;return(t.outerWidth()<this.outerWidth()||r.small()||this.hasClass(e.mega_menu))&&r.adjust_pip(this,t,e,n),{left:n.left+t.outerWidth(),top:n.top}}},adjust_pip:function(t,e,n,r){var i=Foundation.stylesheet,o=8;t.hasClass(n.mega_class)?o=r.left+e.outerWidth()/2-8:this.small()&&(o+=r.left-8),this.rule_idx=i.cssRules.length;var a=".f-dropdown.open:before",s=".f-dropdown.open:after",u="left: "+o+"px;",l="left: "+(o-1)+"px;";1==r.missRight&&(o=t.outerWidth()-23,a=".f-dropdown.open:before",s=".f-dropdown.open:after",u="left: "+o+"px;",l="left: "+(o-1)+"px;"),1==r.triggeredRight&&(a=".f-dropdown.open:before",s=".f-dropdown.open:after",u="left:-12px;",l="left:-14px;"),i.insertRule?(i.insertRule([a,"{",u,"}"].join(" "),this.rule_idx),i.insertRule([s,"{",l,"}"].join(" "),this.rule_idx+1)):(i.addRule(a,u,this.rule_idx),i.addRule(s,l,this.rule_idx+1))},clear_idx:function(){var t=Foundation.stylesheet;"undefined"!=typeof this.rule_idx&&(t.deleteRule(this.rule_idx),t.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(e).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,window,window.document),function(t,e){"use strict";Foundation.libs.equalizer={name:"equalizer",version:"5.5.0",settings:{use_tallest:!0,before_height_change:t.noop,after_height_change:t.noop,equalize_on_stack:!1},init:function(t,e,n){Foundation.inherit(this,"image_loaded"),this.bindings(e,n),this.reflow()},events:function(){this.S(e).off(".equalizer").on("resize.fndtn.equalizer",function(){this.reflow()}.bind(this))},equalize:function(e){var n=!1,r=e.find("["+this.attr_name()+"-watch]:visible"),i=e.data(this.attr_name(!0)+"-init");if(0!==r.length){var o=r.first().offset().top;if(i.before_height_change(),e.trigger("before-height-change").trigger("before-height-change.fndth.equalizer"),r.height("inherit"),r.each(function(){var e=t(this);e.offset().top!==o&&(n=!0)}),i.equalize_on_stack!==!1||!n){var a=r.map(function(){return t(this).outerHeight(!1)}).get();if(i.use_tallest){var s=Math.max.apply(null,a);r.css("height",s)}else{var u=Math.min.apply(null,a);r.css("height",u)}i.after_height_change(),e.trigger("after-height-change").trigger("after-height-change.fndtn.equalizer")}}},reflow:function(){var e=this;this.S("["+this.attr_name()+"]",this.scope).each(function(){var n=t(this);e.image_loaded(e.S("img",this),function(){e.equalize(n)})})}}}(jQuery,window,window.document),function(t,e){"use strict";Foundation.libs.interchange={name:"interchange",version:"5.5.0",cache:{},images_loaded:!1,nodes_loaded:!1,settings:{load_attr:"interchange",named_queries:{"default":"only screen",small:Foundation.media_queries.small,"small-only":Foundation.media_queries["small-only"],medium:Foundation.media_queries.medium,"medium-only":Foundation.media_queries["medium-only"],large:Foundation.media_queries.large,"large-only":Foundation.media_queries["large-only"],xlarge:Foundation.media_queries.xlarge,"xlarge-only":Foundation.media_queries["xlarge-only"],xxlarge:Foundation.media_queries.xxlarge,landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(e,n,r){if(/IMG/.test(e[0].nodeName)){var i=e[0].src;if(new RegExp(n,"i").test(i))return;return e[0].src=n,r(e[0].src)}var o=e.data(this.data_attr+"-last-path"),a=this;if(o!=n)return/\.(gif|jpg|jpeg|tiff|png)([?#].*)?/i.test(n)?(t(e).css("background-image","url("+n+")"),e.data("interchange-last-path",n),r(n)):t.get(n,function(t){e.html(t),e.data(a.data_attr+"-last-path",n),r()})}}},init:function(e,n,r){Foundation.inherit(this,"throttle random_str"),this.data_attr=this.set_data_attr(),t.extend(!0,this.settings,n,r),this.bindings(n,r),this.load("images"),this.load("nodes")},get_media_hash:function(){var t="";for(var e in this.settings.named_queries)t+=matchMedia(this.settings.named_queries[e]).matches.toString();return t},events:function(){var n,r=this;return t(e).off(".interchange").on("resize.fndtn.interchange",r.throttle(function(){var t=r.get_media_hash();t!==n&&r.resize(),n=t},50)),this},resize:function(){var e=this.cache;if(!this.images_loaded||!this.nodes_loaded)return void setTimeout(t.proxy(this.resize,this),50);for(var n in e)if(e.hasOwnProperty(n)){var r=this.results(n,e[n]);r&&this.settings.directives[r.scenario[1]].call(this,r.el,r.scenario[0],function(){if(arguments[0]instanceof Array)var t=arguments[0];else var t=Array.prototype.slice.call(arguments,0);r.el.trigger(r.scenario[1],t)})}},results:function(t,e){var n=e.length;if(n>0)for(var r=this.S("["+this.add_namespace("data-uuid")+'="'+t+'"]');n--;){var i,o=e[n][2];if(i=matchMedia(this.settings.named_queries.hasOwnProperty(o)?this.settings.named_queries[o]:o),i.matches)return{el:r,scenario:e[n]}}return!1},load:function(t,e){return("undefined"==typeof this["cached_"+t]||e)&&this["update_"+t](),this["cached_"+t]},update_images:function(){var t=this.S("img["+this.data_attr+"]"),e=t.length,n=e,r=0,i=this.data_attr;for(this.cache={},this.cached_images=[],this.images_loaded=0===e;n--;){if(r++,t[n]){var o=t[n].getAttribute(i)||"";o.length>0&&this.cached_images.push(t[n])}r===e&&(this.images_loaded=!0,this.enhance("images"))}return this},update_nodes:function(){var t=this.S("["+this.data_attr+"]").not("img"),e=t.length,n=e,r=0,i=this.data_attr;for(this.cached_nodes=[],this.nodes_loaded=0===e;n--;){r++;var o=t[n].getAttribute(i)||"";o.length>0&&this.cached_nodes.push(t[n]),r===e&&(this.nodes_loaded=!0,this.enhance("nodes"))}return this},enhance:function(n){for(var r=this["cached_"+n].length;r--;)this.object(t(this["cached_"+n][r]));return t(e).trigger("resize").trigger("resize.fndtn.interchange")},convert_directive:function(t){var e=this.trim(t);return e.length>0?e:"replace"},parse_scenario:function(t){var e=t[0].match(/(.+),\s*(\w+)\s*$/),n=t[1];if(e)var r=e[1],i=e[2];else var o=t[0].split(/,\s*$/),r=o[0],i="";return[this.trim(r),this.convert_directive(i),this.trim(n)]},object:function(t){var e=this.parse_data_attr(t),n=[],r=e.length;if(r>0)for(;r--;){var i=e[r].split(/\(([^\)]*?)(\))$/);if(i.length>1){var o=this.parse_scenario(i);n.push(o)}}return this.store(t,n)},store:function(t,e){var n=this.random_str(),r=t.data(this.add_namespace("uuid",!0));return this.cache[r]?this.cache[r]:(t.attr(this.add_namespace("data-uuid"),n),this.cache[n]=e)},trim:function(e){return"string"==typeof e?t.trim(e):e},set_data_attr:function(t){return t?this.namespace.length>0?this.namespace+"-"+this.settings.load_attr:this.settings.load_attr:this.namespace.length>0?"data-"+this.namespace+"-"+this.settings.load_attr:"data-"+this.settings.load_attr},parse_data_attr:function(t){for(var e=t.attr(this.attr_name()).split(/\[(.*?)\]/),n=e.length,r=[];n--;)e[n].replace(/[\W\d]+/,"").length>4&&r.push(e[n]);return r},reflow:function(){this.load("images",!0),this.load("nodes",!0)}}}(jQuery,window,window.document),function(t,e,n,r){"use strict";Foundation.libs.joyride={name:"joyride",version:"5.5.0",defaults:{expose:!1,modal:!0,keyboard:!0,tip_location:"bottom",nub_position:"auto",scroll_speed:1500,scroll_animation:"linear",timer:0,start_timer_on_click:!0,start_offset:0,next_button:!0,prev_button:!0,tip_animation:"fade",pause_after:[],exposed:[],tip_animation_fade_speed:300,cookie_monster:!1,cookie_name:"joyride",cookie_domain:!1,cookie_expires:365,tip_container:"body",abort_on_close:!0,tip_location_patterns:{top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},post_ride_callback:function(){},post_step_callback:function(){},pre_step_callback:function(){},pre_ride_callback:function(){},post_expose_callback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',prev_button:'<a href="#" class="small button joyride-prev-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',expose_cover:'<div class="joyride-expose-cover"></div>'},expose_add_class:""},init:function(e,n,r){Foundation.inherit(this,"throttle random_str"),this.settings=this.settings||t.extend({},this.defaults,r||n),this.bindings(n,r)},go_next:function(){this.settings.$li.next().length<1?this.end():this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(),this.startTimer()):(this.hide(),this.show())},go_prev:function(){this.settings.$li.prev().length<1||(this.settings.timer>0?(clearTimeout(this.settings.automate),this.hide(),this.show(null,!0),this.startTimer()):(this.hide(),this.show(null,!0)))},events:function(){var n=this;t(this.scope).off(".joyride").on("click.fndtn.joyride",".joyride-next-tip, .joyride-modal-bg",function(t){t.preventDefault(),this.go_next()}.bind(this)).on("click.fndtn.joyride",".joyride-prev-tip",function(t){t.preventDefault(),this.go_prev()}.bind(this)).on("click.fndtn.joyride",".joyride-close-tip",function(t){t.preventDefault(),this.end(this.settings.abort_on_close)}.bind(this)).on("keyup.fndtn.joyride",function(t){if(this.settings.keyboard&&this.settings.riding)switch(t.which){case 39:t.preventDefault(),this.go_next();break;case 37:t.preventDefault(),this.go_prev();break;case 27:t.preventDefault(),this.end(this.settings.abort_on_close)}}.bind(this)),t(e).off(".joyride").on("resize.fndtn.joyride",n.throttle(function(){if(t("["+n.attr_name()+"]").length>0&&n.settings.$next_tip&&n.settings.riding){if(n.settings.exposed.length>0){var e=t(n.settings.exposed);e.each(function(){var e=t(this);n.un_expose(e),n.expose(e)})}n.is_phone()?n.pos_phone():n.pos_default(!1)}},100))},start:function(){var e=this,n=t("["+this.attr_name()+"]",this.scope),r=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],i=r.length;!n.length>0||(this.settings.init||this.events(),this.settings=n.data(this.attr_name(!0)+"-init"),this.settings.$content_el=n,this.settings.$body=t(this.settings.tip_container),this.settings.body_offset=t(this.settings.tip_container).position(),this.settings.$tip_content=this.settings.$content_el.find("> li"),this.settings.paused=!1,this.settings.attempts=0,this.settings.riding=!0,"function"!=typeof t.cookie&&(this.settings.cookie_monster=!1),(!this.settings.cookie_monster||this.settings.cookie_monster&&!t.cookie(this.settings.cookie_name))&&(this.settings.$tip_content.each(function(n){var o=t(this);this.settings=t.extend({},e.defaults,e.data_options(o));for(var a=i;a--;)e.settings[r[a]]=parseInt(e.settings[r[a]],10);e.create({$li:o,index:n})}),!this.settings.start_timer_on_click&&this.settings.timer>0?(this.show("init"),this.startTimer()):this.show("init")))},resume:function(){this.set_li(),this.show()},tip_template:function(e){var n,r;return e.tip_class=e.tip_class||"",n=t(this.settings.template.tip).addClass(e.tip_class),r=t.trim(t(e.li).html())+this.prev_button_text(e.prev_button_text,e.index)+this.button_text(e.button_text)+this.settings.template.link+this.timer_instance(e.index),n.append(t(this.settings.template.wrapper)),n.first().attr(this.add_namespace("data-index"),e.index),t(".joyride-content-wrapper",n).append(r),n[0]},timer_instance:function(e){var n;return n=0===e&&this.settings.start_timer_on_click&&this.settings.timer>0||0===this.settings.timer?"":t(this.settings.template.timer)[0].outerHTML},button_text:function(e){return this.settings.tip_settings.next_button?(e=t.trim(e)||"Next",e=t(this.settings.template.button).append(e)[0].outerHTML):e="",e},prev_button_text:function(e,n){return this.settings.tip_settings.prev_button?(e=t.trim(e)||"Previous",e=0==n?t(this.settings.template.prev_button).append(e).addClass("disabled")[0].outerHTML:t(this.settings.template.prev_button).append(e)[0].outerHTML):e="",e},create:function(e){this.settings.tip_settings=t.extend({},this.settings,this.data_options(e.$li));var n=e.$li.attr(this.add_namespace("data-button"))||e.$li.attr(this.add_namespace("data-text")),r=e.$li.attr(this.add_namespace("data-button-prev"))||e.$li.attr(this.add_namespace("data-prev-text")),i=e.$li.attr("class"),o=t(this.tip_template({tip_class:i,index:e.index,button_text:n,prev_button_text:r,li:e.$li}));t(this.settings.tip_container).append(o)},show:function(e,n){var i=null;if(this.settings.$li===r||-1===t.inArray(this.settings.$li.index(),this.settings.pause_after))if(this.settings.paused?this.settings.paused=!1:this.set_li(e,n),this.settings.attempts=0,this.settings.$li.length&&this.settings.$target.length>0){if(e&&(this.settings.pre_ride_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.show_modal()),this.settings.pre_step_callback(this.settings.$li.index(),this.settings.$next_tip),this.settings.modal&&this.settings.expose&&this.expose(),this.settings.tip_settings=t.extend({},this.settings,this.data_options(this.settings.$li)),this.settings.timer=parseInt(this.settings.timer,10),this.settings.tip_settings.tip_location_pattern=this.settings.tip_location_patterns[this.settings.tip_settings.tip_location],!/body/i.test(this.settings.$target.selector)){var o=t(".joyride-modal-bg");
/pop/i.test(this.settings.tipAnimation)?o.hide():o.fadeOut(this.settings.tipAnimationFadeSpeed),this.scroll_to()}this.is_phone()?this.pos_phone(!0):this.pos_default(!0),i=this.settings.$next_tip.find(".joyride-timer-indicator"),/pop/i.test(this.settings.tip_animation)?(i.width(0),this.settings.timer>0?(this.settings.$next_tip.show(),setTimeout(function(){i.animate({width:i.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.show()):/fade/i.test(this.settings.tip_animation)&&(i.width(0),this.settings.timer>0?(this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed).show(),setTimeout(function(){i.animate({width:i.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tip_animation_fade_speed)):this.settings.$next_tip.fadeIn(this.settings.tip_animation_fade_speed)),this.settings.$current_tip=this.settings.$next_tip}else this.settings.$li&&this.settings.$target.length<1?this.show(e,n):this.end();else this.settings.paused=!0},is_phone:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},hide:function(){this.settings.modal&&this.settings.expose&&this.un_expose(),this.settings.modal||t(".joyride-modal-bg").hide(),this.settings.$current_tip.css("visibility","hidden"),setTimeout(t.proxy(function(){this.hide(),this.css("visibility","visible")},this.settings.$current_tip),0),this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(t,e){t?(this.settings.$li=this.settings.$tip_content.eq(this.settings.start_offset),this.set_next_tip(),this.settings.$current_tip=this.settings.$next_tip):(this.settings.$li=e?this.settings.$li.prev():this.settings.$li.next(),this.set_next_tip()),this.set_target()},set_next_tip:function(){this.settings.$next_tip=t(".joyride-tip-guide").eq(this.settings.$li.index()),this.settings.$next_tip.data("closed","")},set_target:function(){var e=this.settings.$li.attr(this.add_namespace("data-class")),r=this.settings.$li.attr(this.add_namespace("data-id")),i=function(){return r?t(n.getElementById(r)):e?t("."+e).first():t("body")};this.settings.$target=i()},scroll_to:function(){var n,r;n=t(e).height()/2,r=Math.ceil(this.settings.$target.offset().top-n+this.settings.$next_tip.outerHeight()),0!=r&&t("html, body").stop().animate({scrollTop:r},this.settings.scroll_speed,"swing")},paused:function(){return-1===t.inArray(this.settings.$li.index()+1,this.settings.pause_after)},restart:function(){this.hide(),this.settings.$li=r,this.show("init")},pos_default:function(t){var e=this.settings.$next_tip.find(".joyride-nub"),n=Math.ceil(e.outerWidth()/2),r=Math.ceil(e.outerHeight()/2),i=t||!1;if(i&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector))this.settings.$li.length&&this.pos_modal(e);else{var o=this.settings.tip_settings.tipAdjustmentY?parseInt(this.settings.tip_settings.tipAdjustmentY):0,a=this.settings.tip_settings.tipAdjustmentX?parseInt(this.settings.tip_settings.tipAdjustmentX):0;this.bottom()?(this.settings.$next_tip.css(this.rtl?{top:this.settings.$target.offset().top+r+this.settings.$target.outerHeight()+o,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()+a}:{top:this.settings.$target.offset().top+r+this.settings.$target.outerHeight()+o,left:this.settings.$target.offset().left+a}),this.nub_position(e,this.settings.tip_settings.nub_position,"top")):this.top()?(this.settings.$next_tip.css(this.rtl?{top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-r+o,left:this.settings.$target.offset().left+this.settings.$target.outerWidth()-this.settings.$next_tip.outerWidth()}:{top:this.settings.$target.offset().top-this.settings.$next_tip.outerHeight()-r+o,left:this.settings.$target.offset().left+a}),this.nub_position(e,this.settings.tip_settings.nub_position,"bottom")):this.right()?(this.settings.$next_tip.css({top:this.settings.$target.offset().top+o,left:this.settings.$target.outerWidth()+this.settings.$target.offset().left+n+a}),this.nub_position(e,this.settings.tip_settings.nub_position,"left")):this.left()&&(this.settings.$next_tip.css({top:this.settings.$target.offset().top+o,left:this.settings.$target.offset().left-this.settings.$next_tip.outerWidth()-n+a}),this.nub_position(e,this.settings.tip_settings.nub_position,"right")),!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tip_settings.tip_location_pattern.length&&(e.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),this.settings.tip_settings.tip_location=this.settings.tip_settings.tip_location_pattern[this.settings.attempts],this.settings.attempts++,this.pos_default())}i&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_phone:function(e){var n=this.settings.$next_tip.outerHeight(),r=(this.settings.$next_tip.offset(),this.settings.$target.outerHeight()),i=t(".joyride-nub",this.settings.$next_tip),o=Math.ceil(i.outerHeight()/2),a=e||!1;i.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),a&&(this.settings.$next_tip.css("visibility","hidden"),this.settings.$next_tip.show()),/body/i.test(this.settings.$target.selector)?this.settings.$li.length&&this.pos_modal(i):this.top()?(this.settings.$next_tip.offset({top:this.settings.$target.offset().top-n-o}),i.addClass("bottom")):(this.settings.$next_tip.offset({top:this.settings.$target.offset().top+r+o}),i.addClass("top")),a&&(this.settings.$next_tip.hide(),this.settings.$next_tip.css("visibility","visible"))},pos_modal:function(t){this.center(),t.hide(),this.show_modal()},show_modal:function(){if(!this.settings.$next_tip.data("closed")){var e=t(".joyride-modal-bg");if(e.length<1){var e=t(this.settings.template.modal);e.appendTo("body")}/pop/i.test(this.settings.tip_animation)?e.show():e.fadeIn(this.settings.tip_animation_fade_speed)}},expose:function(){var n,r,i,o,a,s="expose-"+this.random_str(6);if(arguments.length>0&&arguments[0]instanceof t)i=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;i=this.settings.$target}return i.length<1?(e.console&&console.error("element not valid",i),!1):(n=t(this.settings.template.expose),this.settings.$body.append(n),n.css({top:i.offset().top,left:i.offset().left,width:i.outerWidth(!0),height:i.outerHeight(!0)}),r=t(this.settings.template.expose_cover),o={zIndex:i.css("z-index"),position:i.css("position")},a=null==i.attr("class")?"":i.attr("class"),i.css("z-index",parseInt(n.css("z-index"))+1),"static"==o.position&&i.css("position","relative"),i.data("expose-css",o),i.data("orig-class",a),i.attr("class",a+" "+this.settings.expose_add_class),r.css({top:i.offset().top,left:i.offset().left,width:i.outerWidth(!0),height:i.outerHeight(!0)}),this.settings.modal&&this.show_modal(),this.settings.$body.append(r),n.addClass(s),r.addClass(s),i.data("expose",s),this.settings.post_expose_callback(this.settings.$li.index(),this.settings.$next_tip,i),void this.add_exposed(i))},un_expose:function(){var n,r,i,o,a,s=!1;if(arguments.length>0&&arguments[0]instanceof t)r=arguments[0];else{if(!this.settings.$target||/body/i.test(this.settings.$target.selector))return!1;r=this.settings.$target}return r.length<1?(e.console&&console.error("element not valid",r),!1):(n=r.data("expose"),i=t("."+n),arguments.length>1&&(s=arguments[1]),s===!0?t(".joyride-expose-wrapper,.joyride-expose-cover").remove():i.remove(),o=r.data("expose-css"),"auto"==o.zIndex?r.css("z-index",""):r.css("z-index",o.zIndex),o.position!=r.css("position")&&("static"==o.position?r.css("position",""):r.css("position",o.position)),a=r.data("orig-class"),r.attr("class",a),r.removeData("orig-classes"),r.removeData("expose"),r.removeData("expose-z-index"),void this.remove_exposed(r))},add_exposed:function(e){this.settings.exposed=this.settings.exposed||[],e instanceof t||"object"==typeof e?this.settings.exposed.push(e[0]):"string"==typeof e&&this.settings.exposed.push(e)},remove_exposed:function(e){var n,r;for(e instanceof t?n=e[0]:"string"==typeof e&&(n=e),this.settings.exposed=this.settings.exposed||[],r=this.settings.exposed.length;r--;)if(this.settings.exposed[r]==n)return void this.settings.exposed.splice(r,1)},center:function(){var n=t(e);return this.settings.$next_tip.css({top:(n.height()-this.settings.$next_tip.outerHeight())/2+n.scrollTop(),left:(n.width()-this.settings.$next_tip.outerWidth())/2+n.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(this.settings.tip_settings.tip_location)},top:function(){return/top/i.test(this.settings.tip_settings.tip_location)},right:function(){return/right/i.test(this.settings.tip_settings.tip_location)},left:function(){return/left/i.test(this.settings.tip_settings.tip_location)},corners:function(n){var r=t(e),i=r.height()/2,o=Math.ceil(this.settings.$target.offset().top-i+this.settings.$next_tip.outerHeight()),a=r.width()+r.scrollLeft(),s=r.height()+o,u=r.height()+r.scrollTop(),l=r.scrollTop();return l>o&&(l=0>o?0:o),s>u&&(u=s),[n.offset().top<l,a<n.offset().left+n.outerWidth(),u<n.offset().top+n.outerHeight(),r.scrollLeft()>n.offset().left]},visible:function(t){for(var e=t.length;e--;)if(t[e])return!1;return!0},nub_position:function(t,e,n){t.addClass("auto"===e?n:e)},startTimer:function(){this.settings.$li.length?this.settings.automate=setTimeout(function(){this.hide(),this.show(),this.startTimer()}.bind(this),this.settings.timer):clearTimeout(this.settings.automate)},end:function(e){this.settings.cookie_monster&&t.cookie(this.settings.cookie_name,"ridden",{expires:this.settings.cookie_expires,domain:this.settings.cookie_domain}),this.settings.timer>0&&clearTimeout(this.settings.automate),this.settings.modal&&this.settings.expose&&this.un_expose(),t(this.scope).off("keyup.joyride"),this.settings.$next_tip.data("closed",!0),this.settings.riding=!1,t(".joyride-modal-bg").hide(),this.settings.$current_tip.hide(),("undefined"==typeof e||e===!1)&&(this.settings.post_step_callback(this.settings.$li.index(),this.settings.$current_tip),this.settings.post_ride_callback(this.settings.$li.index(),this.settings.$current_tip)),t(".joyride-tip-guide").remove()},off:function(){t(this.scope).off(".joyride"),t(e).off(".joyride"),t(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),t(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(this.settings.automate),this.settings={}},reflow:function(){}}}(jQuery,window,window.document),function(t,e){"use strict";Foundation.libs["magellan-expedition"]={name:"magellan-expedition",version:"5.5.0",settings:{active_class:"active",threshold:0,destination_threshold:20,throttle_delay:30,fixed_top:0,offset_by_height:!0,duration:700,easing:"swing"},init:function(t,e,n){Foundation.inherit(this,"throttle"),this.bindings(e,n)},events:function(){var n=this,r=n.S,i=n.settings;n.set_expedition_position(),r(n.scope).off(".magellan").on("click.fndtn.magellan","["+n.add_namespace("data-magellan-arrival")+'] a[href^="#"]',function(e){e.preventDefault();var r=t(this).closest("["+n.attr_name()+"]"),i=r.data("magellan-expedition-init"),o=this.hash.split("#").join(""),a=t('a[name="'+o+'"]');0===a.length&&(a=t("#"+o));var s=a.offset().top-i.destination_threshold+1;i.offset_by_height&&(s-=r.outerHeight()),t("html, body").stop().animate({scrollTop:s},i.duration,i.easing,function(){history.pushState?history.pushState(null,null,"#"+o):location.hash="#"+o})}).on("scroll.fndtn.magellan",n.throttle(this.check_for_arrivals.bind(this),i.throttle_delay)),t(e).on("resize.fndtn.magellan",n.throttle(this.set_expedition_position.bind(this),i.throttle_delay))},check_for_arrivals:function(){var t=this;t.update_arrivals(),t.update_expedition_positions()},set_expedition_position:function(){var e=this;t("["+this.attr_name()+"=fixed]",e.scope).each(function(){var n,r,i=t(this),o=i.data("magellan-expedition-init"),a=i.attr("styles");i.attr("style",""),n=i.offset().top+o.threshold,r=parseInt(i.data("magellan-fixed-top")),isNaN(r)||(e.settings.fixed_top=r),i.data(e.data_attr("magellan-top-offset"),n),i.attr("style",a)})},update_expedition_positions:function(){var n=this,r=t(e).scrollTop();t("["+this.attr_name()+"=fixed]",n.scope).each(function(){var e=t(this),i=e.data("magellan-expedition-init"),o=e.attr("style"),a=e.data("magellan-top-offset");if(r+n.settings.fixed_top>=a){var s=e.prev("["+n.add_namespace("data-magellan-expedition-clone")+"]");0===s.length&&(s=e.clone(),s.removeAttr(n.attr_name()),s.attr(n.add_namespace("data-magellan-expedition-clone"),""),e.before(s)),e.css({position:"fixed",top:i.fixed_top}).addClass("fixed")}else e.prev("["+n.add_namespace("data-magellan-expedition-clone")+"]").remove(),e.attr("style",o).css("position","").css("top","").removeClass("fixed")})},update_arrivals:function(){var n=this,r=t(e).scrollTop();t("["+this.attr_name()+"]",n.scope).each(function(){var e=t(this),i=e.data(n.attr_name(!0)+"-init"),o=n.offsets(e,r),a=e.find("["+n.add_namespace("data-magellan-arrival")+"]"),s=!1;o.each(function(t,r){if(r.viewport_offset>=r.top_offset){var o=e.find("["+n.add_namespace("data-magellan-arrival")+"]");return o.not(r.arrival).removeClass(i.active_class),r.arrival.addClass(i.active_class),s=!0,!0}}),s||a.removeClass(i.active_class)})},offsets:function(e,n){var r=this,i=e.data(r.attr_name(!0)+"-init"),o=n;return e.find("["+r.add_namespace("data-magellan-arrival")+"]").map(function(){var n=t(this).data(r.data_attr("magellan-arrival")),a=t("["+r.add_namespace("data-magellan-destination")+"="+n+"]");if(a.length>0){var s=a.offset().top-i.destination_threshold;return i.offset_by_height&&(s-=e.outerHeight()),s=Math.floor(s),{destination:a,arrival:t(this),top_offset:s,viewport_offset:o}}}).sort(function(t,e){return t.top_offset<e.top_offset?-1:t.top_offset>e.top_offset?1:0})},data_attr:function(t){return this.namespace.length>0?this.namespace+"-"+t:t},off:function(){this.S(this.scope).off(".magellan"),this.S(e).off(".magellan")},reflow:function(){var e=this;t("["+e.add_namespace("data-magellan-expedition-clone")+"]",e.scope).remove()}}}(jQuery,window,window.document),function(t){"use strict";Foundation.libs.offcanvas={name:"offcanvas",version:"5.5.0",settings:{open_method:"move",close_on_click:!1},init:function(t,e,n){this.bindings(e,n)},events:function(){var e=this,n=e.S,r="",i="",o="";"move"===this.settings.open_method?(r="move-",i="right",o="left"):"overlap_single"===this.settings.open_method?(r="offcanvas-overlap-",i="right",o="left"):"overlap"===this.settings.open_method&&(r="offcanvas-overlap"),n(this.scope).off(".offcanvas").on("click.fndtn.offcanvas",".left-off-canvas-toggle",function(o){e.click_toggle_class(o,r+i),"overlap"!==e.settings.open_method&&n(".left-submenu").removeClass(r+i),t(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".left-off-canvas-menu a",function(o){var a=e.get_settings(o),s=n(this).parent();!a.close_on_click||s.hasClass("has-submenu")||s.hasClass("back")?n(this).parent().hasClass("has-submenu")?(o.preventDefault(),n(this).siblings(".left-submenu").toggleClass(r+i)):s.hasClass("back")&&(o.preventDefault(),s.parent().removeClass(r+i)):(e.hide.call(e,r+i,e.get_wrapper(o)),s.parent().removeClass(r+i)),t(".left-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".right-off-canvas-toggle",function(i){e.click_toggle_class(i,r+o),"overlap"!==e.settings.open_method&&n(".right-submenu").removeClass(r+o),t(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".right-off-canvas-menu a",function(i){var a=e.get_settings(i),s=n(this).parent();!a.close_on_click||s.hasClass("has-submenu")||s.hasClass("back")?n(this).parent().hasClass("has-submenu")?(i.preventDefault(),n(this).siblings(".right-submenu").toggleClass(r+o)):s.hasClass("back")&&(i.preventDefault(),s.parent().removeClass(r+o)):(e.hide.call(e,r+o,e.get_wrapper(i)),s.parent().removeClass(r+o)),t(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(a){e.click_remove_class(a,r+o),n(".right-submenu").removeClass(r+o),i&&(e.click_remove_class(a,r+i),n(".left-submenu").removeClass(r+o)),t(".right-off-canvas-toggle").attr("aria-expanded","true")}).on("click.fndtn.offcanvas",".exit-off-canvas",function(n){e.click_remove_class(n,r+o),t(".left-off-canvas-toggle").attr("aria-expanded","false"),i&&(e.click_remove_class(n,r+i),t(".right-off-canvas-toggle").attr("aria-expanded","false"))})},toggle:function(t,e){e=e||this.get_wrapper(),e.is("."+t)?this.hide(t,e):this.show(t,e)},show:function(t,e){e=e||this.get_wrapper(),e.trigger("open").trigger("open.fndtn.offcanvas"),e.addClass(t)},hide:function(t,e){e=e||this.get_wrapper(),e.trigger("close").trigger("close.fndtn.offcanvas"),e.removeClass(t)},click_toggle_class:function(t,e){t.preventDefault();var n=this.get_wrapper(t);this.toggle(e,n)},click_remove_class:function(t,e){t.preventDefault();var n=this.get_wrapper(t);this.hide(e,n)},get_settings:function(t){var e=this.S(t.target).closest("["+this.attr_name()+"]");return e.data(this.attr_name(!0)+"-init")||this.settings},get_wrapper:function(t){var e=this.S(t?t.target:this.scope).closest(".off-canvas-wrap");return 0===e.length&&(e=this.S(".off-canvas-wrap")),e},reflow:function(){}}}(jQuery,window,window.document),function(t,e,n,r){"use strict";var i=function(){},o=function(i,o){if(i.hasClass(o.slides_container_class))return this;var l,c,h,f,d,p,g=this,m=i,v=0,y=!1;g.slides=function(){return m.children(o.slide_selector)},g.slides().first().addClass(o.active_slide_class),g.update_slide_number=function(e){o.slide_number&&(c.find("span:first").text(parseInt(e)+1),c.find("span:last").text(g.slides().length)),o.bullets&&(h.children().removeClass(o.bullets_active_class),t(h.children().get(e)).addClass(o.bullets_active_class))},g.update_active_link=function(e){var n=t('[data-orbit-link="'+g.slides().eq(e).attr("data-orbit-slide")+'"]');n.siblings().removeClass(o.bullets_active_class),n.addClass(o.bullets_active_class)},g.build_markup=function(){m.wrap('<div class="'+o.container_class+'"></div>'),l=m.parent(),m.addClass(o.slides_container_class),o.stack_on_small&&l.addClass(o.stack_on_small_class),o.navigation_arrows&&(l.append(t('<a href="#"><span></span></a>').addClass(o.prev_class)),l.append(t('<a href="#"><span></span></a>').addClass(o.next_class))),o.timer&&(f=t("<div>").addClass(o.timer_container_class),f.append("<span>"),f.append(t("<div>").addClass(o.timer_progress_class)),f.addClass(o.timer_paused_class),l.append(f)),o.slide_number&&(c=t("<div>").addClass(o.slide_number_class),c.append("<span></span> "+o.slide_number_text+" <span></span>"),l.append(c)),o.bullets&&(h=t("<ol>").addClass(o.bullets_container_class),l.append(h),h.wrap('<div class="orbit-bullets-container"></div>'),g.slides().each(function(e){var n=t("<li>").attr("data-orbit-slide",e).on("click",g.link_bullet);h.append(n)}))},g._goto=function(e,n){if(e===v)return!1;"object"==typeof p&&p.restart();var r=g.slides(),i="next";if(y=!0,v>e&&(i="prev"),e>=r.length){if(!o.circular)return!1;e=0}else if(0>e){if(!o.circular)return!1;e=r.length-1}var a=t(r.get(v)),s=t(r.get(e));a.css("zIndex",2),a.removeClass(o.active_slide_class),s.css("zIndex",4).addClass(o.active_slide_class),m.trigger("before-slide-change.fndtn.orbit"),o.before_slide_change(),g.update_active_link(e);var u=function(){var t=function(){v=e,y=!1,n===!0&&(p=g.create_timer(),p.start()),g.update_slide_number(v),m.trigger("after-slide-change.fndtn.orbit",[{slide_number:v,total_slides:r.length}]),o.after_slide_change(v,r.length)};m.outerHeight()!=s.outerHeight()&&o.variable_height?m.animate({height:s.outerHeight()},250,"linear",t):t()};if(1===r.length)return u(),!1;var l=function(){"next"===i&&d.next(a,s,u),"prev"===i&&d.prev(a,s,u)};s.outerHeight()>m.outerHeight()&&o.variable_height?m.animate({height:s.outerHeight()},250,"linear",l):l()},g.next=function(t){t.stopImmediatePropagation(),t.preventDefault(),g._goto(v+1)},g.prev=function(t){t.stopImmediatePropagation(),t.preventDefault(),g._goto(v-1)},g.link_custom=function(e){e.preventDefault();var n=t(this).attr("data-orbit-link");if("string"==typeof n&&""!=(n=t.trim(n))){var r=l.find("[data-orbit-slide="+n+"]");-1!=r.index()&&g._goto(r.index())}},g.link_bullet=function(){var e=t(this).attr("data-orbit-slide");if("string"==typeof e&&""!=(e=t.trim(e)))if(isNaN(parseInt(e))){var n=l.find("[data-orbit-slide="+e+"]");-1!=n.index()&&g._goto(n.index()+1)}else g._goto(parseInt(e))},g.timer_callback=function(){g._goto(v+1,!0)},g.compute_dimensions=function(){var e=t(g.slides().get(v)),n=e.outerHeight();o.variable_height||g.slides().each(function(){t(this).outerHeight()>n&&(n=t(this).outerHeight())}),m.height(n)},g.create_timer=function(){var t=new a(l.find("."+o.timer_container_class),o,g.timer_callback);return t},g.stop_timer=function(){"object"==typeof p&&p.stop()},g.toggle_timer=function(){var t=l.find("."+o.timer_container_class);t.hasClass(o.timer_paused_class)?("undefined"==typeof p&&(p=g.create_timer()),p.start()):"object"==typeof p&&p.stop()},g.init=function(){g.build_markup(),o.timer&&(p=g.create_timer(),Foundation.utils.image_loaded(this.slides().children("img"),p.start)),d=new u(o,m),"slide"===o.animation&&(d=new s(o,m)),l.on("click","."+o.next_class,g.next),l.on("click","."+o.prev_class,g.prev),o.next_on_click&&l.on("click","."+o.slides_container_class+" [data-orbit-slide]",g.link_bullet),l.on("click",g.toggle_timer),o.swipe&&l.on("touchstart.fndtn.orbit",function(t){t.touches||(t=t.originalEvent);var e={start_page_x:t.touches[0].pageX,start_page_y:t.touches[0].pageY,start_time:(new Date).getTime(),delta_x:0,is_scrolling:r};l.data("swipe-transition",e),t.stopPropagation()}).on("touchmove.fndtn.orbit",function(t){if(t.touches||(t=t.originalEvent),!(t.touches.length>1||t.scale&&1!==t.scale)){var e=l.data("swipe-transition");if("undefined"==typeof e&&(e={}),e.delta_x=t.touches[0].pageX-e.start_page_x,"undefined"==typeof e.is_scrolling&&(e.is_scrolling=!!(e.is_scrolling||Math.abs(e.delta_x)<Math.abs(t.touches[0].pageY-e.start_page_y))),!e.is_scrolling&&!e.active){t.preventDefault();var n=e.delta_x<0?v+1:v-1;e.active=!0,g._goto(n)}}}).on("touchend.fndtn.orbit",function(t){l.data("swipe-transition",{}),t.stopPropagation()}),l.on("mouseenter.fndtn.orbit",function(){o.timer&&o.pause_on_hover&&g.stop_timer()}).on("mouseleave.fndtn.orbit",function(){o.timer&&o.resume_on_mouseout&&p.start()}),t(n).on("click","[data-orbit-link]",g.link_custom),t(e).on("load resize",g.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),g.compute_dimensions),Foundation.utils.image_loaded(this.slides().children("img"),function(){l.prev("."+o.preloader_class).css("display","none"),g.update_slide_number(0),g.update_active_link(0),m.trigger("ready.fndtn.orbit")})},g.init()},a=function(t,e,n){var r,i,o=this,a=e.timer_speed,s=t.find("."+e.timer_progress_class),u=-1;this.update_progress=function(t){var e=s.clone();e.attr("style",""),e.css("width",t+"%"),s.replaceWith(e),s=e},this.restart=function(){clearTimeout(i),t.addClass(e.timer_paused_class),u=-1,o.update_progress(0)},this.start=function(){return t.hasClass(e.timer_paused_class)?(u=-1===u?a:u,t.removeClass(e.timer_paused_class),r=(new Date).getTime(),s.animate({width:"100%"},u,"linear"),i=setTimeout(function(){o.restart(),n()},u),void t.trigger("timer-started.fndtn.orbit")):!0},this.stop=function(){if(t.hasClass(e.timer_paused_class))return!0;clearTimeout(i),t.addClass(e.timer_paused_class);var n=(new Date).getTime();u-=n-r;var s=100-u/a*100;o.update_progress(s),t.trigger("timer-stopped.fndtn.orbit")}},s=function(e){var n=e.animation_speed,r=1===t("html[dir=rtl]").length,i=r?"marginRight":"marginLeft",o={};o[i]="0%",this.next=function(t,e,r){t.animate({marginLeft:"-100%"},n),e.animate(o,n,function(){t.css(i,"100%"),r()})},this.prev=function(t,e,r){t.animate({marginLeft:"100%"},n),e.css(i,"-100%"),e.animate(o,n,function(){t.css(i,"100%"),r()})}},u=function(e){{var n=e.animation_speed;1===t("html[dir=rtl]").length}this.next=function(t,e,r){e.css({margin:"0%",opacity:"0.01"}),e.animate({opacity:"1"},n,"linear",function(){t.css("margin","100%"),r()})},this.prev=function(t,e,r){e.css({margin:"0%",opacity:"0.01"}),e.animate({opacity:"1"},n,"linear",function(){t.css("margin","100%"),r()})}};Foundation.libs=Foundation.libs||{},Foundation.libs.orbit={name:"orbit",version:"5.5.0",settings:{animation:"slide",timer_speed:1e4,pause_on_hover:!0,resume_on_mouseout:!1,next_on_click:!0,animation_speed:500,stack_on_small:!1,navigation_arrows:!0,slide_number:!0,slide_number_text:"of",container_class:"orbit-container",stack_on_small_class:"orbit-stack-on-small",next_class:"orbit-next",prev_class:"orbit-prev",timer_container_class:"orbit-timer",timer_paused_class:"paused",timer_progress_class:"orbit-progress",slides_container_class:"orbit-slides-container",preloader_class:"preloader",slide_selector:"*",bullets_container_class:"orbit-bullets",bullets_active_class:"active",slide_number_class:"orbit-slide-number",caption_class:"orbit-caption",active_slide_class:"active",orbit_transition_class:"orbit-transitioning",bullets:!0,circular:!0,timer:!0,variable_height:!1,swipe:!0,before_slide_change:i,after_slide_change:i},init:function(t,e,n){this.bindings(e,n)},events:function(t){var e=new o(this.S(t),this.S(t).data("orbit-init"));this.S(t).data(this.name+"-instance",e)},reflow:function(){var t=this;if(t.S(t.scope).is("[data-orbit]")){var e=t.S(t.scope),n=e.data(t.name+"-instance");n.compute_dimensions()}else t.S("[data-orbit]",t.scope).each(function(e,n){var r=t.S(n),i=(t.data_options(r),r.data(t.name+"-instance"));i.compute_dimensions()})}}}(jQuery,window,window.document),function(t,e,n,r){"use strict";function i(t){var e=/fade/i.test(t),n=/pop/i.test(t);return{animate:e||n,pop:n,fade:e}}Foundation.libs.reveal={name:"reveal",version:"5.5.0",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:t(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(e,n,r){t.extend(!0,this.settings,n,r),this.bindings(n,r)},events:function(){var t=this,e=t.S;return e(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(n){if(n.preventDefault(),!t.locked){var r=e(this),i=r.data(t.data_attr("reveal-ajax"));if(t.locked=!0,"undefined"==typeof i)t.open.call(t,r);else{var o=i===!0?r.attr("href"):i;t.open.call(t,r,{url:o})}}}),e(n).on("click.fndtn.reveal",this.close_targets(),function(n){if(n.preventDefault(),!t.locked){var r=e("["+t.attr_name()+"].open").data(t.attr_name(!0)+"-init")||t.settings,i=e(n.target)[0]===e("."+r.bg_class)[0];if(i){if(!r.close_on_background_click)return;n.stopPropagation()}t.locked=!0,t.close.call(t,i?e("["+t.attr_name()+"].open"):e(this).closest("["+t.attr_name()+"]"))}}),e("["+t.attr_name()+"]",this.scope).length>0?e(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):e(this.scope).on("open.fndtn.reveal","["+t.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+t.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+t.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+t.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+t.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+t.attr_name()+"]",this.close_video),!0},key_up_on:function(){var t=this;return t.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(e){var n=t.S("["+t.attr_name()+"].open"),r=n.data(t.attr_name(!0)+"-init")||t.settings;r&&27===e.which&&r.close_on_esc&&!t.locked&&t.close.call(t,n)}),!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(n,r){var i,o=this;n?"undefined"!=typeof n.selector?i=o.S("#"+n.data(o.data_attr("reveal-id"))).first():(i=o.S(this.scope),r=n):i=o.S(this.scope);var a=i.data(o.attr_name(!0)+"-init");if(a=a||this.settings,i.hasClass("open")&&n.attr("data-reveal-id")==i.attr("id"))return o.close(i);if(!i.hasClass("open")){var s=o.S("["+o.attr_name()+"].open");if("undefined"==typeof i.data("css-top")&&i.data("css-top",parseInt(i.css("top"),10)).data("offset",this.cache_offset(i)),this.key_up_on(i),i.on("open.fndtn.reveal").trigger("open.fndtn.reveal"),s.length<1&&this.toggle_bg(i,!0),"string"==typeof r&&(r={url:r}),"undefined"!=typeof r&&r.url){var u="undefined"!=typeof r.success?r.success:null;t.extend(r,{success:function(e,n,r){if(t.isFunction(u)){var l=u(e,n,r);"string"==typeof l&&(e=l)}i.html(e),o.S(i).foundation("section","reflow"),o.S(i).children().foundation(),s.length>0&&o.hide(s,a.css.close),o.show(i,a.css.open)}}),t.ajax(r)}else s.length>0&&this.hide(s,a.css.close),this.show(i,a.css.open)}o.S(e).trigger("resize")},close:function(t){var t=t&&t.length?t:this.S(this.scope),e=this.S("["+this.attr_name()+"].open"),n=t.data(this.attr_name(!0)+"-init")||this.settings;e.length>0&&(this.locked=!0,this.key_up_off(t),t.trigger("close").trigger("close.fndtn.reveal"),this.toggle_bg(t,!1),this.hide(e,n.css.close,n))},close_targets:function(){var t="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?t+", ."+this.settings.bg_class:t},toggle_bg:function(e,n){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=t("<div />",{"class":this.settings.bg_class}).appendTo("body").hide());var i=this.settings.bg.filter(":visible").length>0;n!=i&&((n==r?i:!n)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(n,r){if(r){var o=n.data(this.attr_name(!0)+"-init")||this.settings,a=o.root_element;if(0===n.parent(a).length){var s=n.wrap('<div style="display: none;" />').parent();n.on("closed.fndtn.reveal.wrapped",function(){n.detach().appendTo(s),n.unwrap().unbind("closed.fndtn.reveal.wrapped")}),n.detach().appendTo(a)}var u=i(o.animation);if(u.animate||(this.locked=!1),u.pop){r.top=t(e).scrollTop()-n.data("offset")+"px";var l={top:t(e).scrollTop()+n.data("css-top")+"px",opacity:1};return setTimeout(function(){return n.css(r).animate(l,o.animation_speed,"linear",function(){this.locked=!1,n.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),o.animation_speed/2)}if(u.fade){r.top=t(e).scrollTop()+n.data("css-top")+"px";var l={opacity:1};return setTimeout(function(){return n.css(r).animate(l,o.animation_speed,"linear",function(){this.locked=!1,n.trigger("opened").trigger("opened.fndtn.reveal")}.bind(this)).addClass("open")}.bind(this),o.animation_speed/2)}return n.css(r).show().css({opacity:1}).addClass("open").trigger("opened").trigger("opened.fndtn.reveal")}var o=this.settings;return i(o.animation).fade?n.fadeIn(o.animation_speed/2):(this.locked=!1,n.show())},hide:function(n,r){if(r){var o=n.data(this.attr_name(!0)+"-init");o=o||this.settings;var a=i(o.animation);if(a.animate||(this.locked=!1),a.pop){var s={top:-t(e).scrollTop()-n.data("offset")+"px",opacity:0};return setTimeout(function(){return n.animate(s,o.animation_speed,"linear",function(){this.locked=!1,n.css(r).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")}.bind(this),o.animation_speed/2)}if(a.fade){var s={opacity:0};return setTimeout(function(){return n.animate(s,o.animation_speed,"linear",function(){this.locked=!1,n.css(r).trigger("closed").trigger("closed.fndtn.reveal")}.bind(this)).removeClass("open")
}.bind(this),o.animation_speed/2)}return n.hide().css(r).removeClass("open").trigger("closed").trigger("closed.fndtn.reveal")}var o=this.settings;return i(o.animation).fade?n.fadeOut(o.animation_speed/2):n.hide()},close_video:function(e){var n=t(".flex-video",e.target),r=t("iframe",n);r.length>0&&(r.attr("data-src",r[0].src),r.attr("src",r.attr("src")),n.hide())},open_video:function(e){var n=t(".flex-video",e.target),i=n.find("iframe");if(i.length>0){var o=i.attr("data-src");if("string"==typeof o)i[0].src=i.attr("data-src");else{var a=i[0].src;i[0].src=r,i[0].src=a}n.show()}},data_attr:function(t){return this.namespace.length>0?this.namespace+"-"+t:t},cache_offset:function(t){var e=t.show().height()+parseInt(t.css("top"),10);return t.hide(),e},off:function(){t(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,window,window.document),function(t,e){"use strict";Foundation.libs.slider={name:"slider",version:"5.5.0",settings:{start:0,end:100,step:1,precision:null,initial:null,display_selector:"",vertical:!1,trigger_input_change:!1,on_change:function(){}},cache:{},init:function(t,e,n){Foundation.inherit(this,"throttle"),this.bindings(e,n),this.reflow()},events:function(){var n=this;t(this.scope).off(".slider").on("mousedown.fndtn.slider touchstart.fndtn.slider pointerdown.fndtn.slider","["+n.attr_name()+"]:not(.disabled, [disabled]) .range-slider-handle",function(e){n.cache.active||(e.preventDefault(),n.set_active_slider(t(e.target)))}).on("mousemove.fndtn.slider touchmove.fndtn.slider pointermove.fndtn.slider",function(r){if(n.cache.active)if(r.preventDefault(),t.data(n.cache.active[0],"settings").vertical){var i=0;r.pageY||(i=e.scrollY),n.calculate_position(n.cache.active,n.get_cursor_position(r,"y")+i)}else n.calculate_position(n.cache.active,n.get_cursor_position(r,"x"))}).on("mouseup.fndtn.slider touchend.fndtn.slider pointerup.fndtn.slider",function(){n.remove_active_slider()}).on("change.fndtn.slider",function(){n.settings.on_change()}),n.S(e).on("resize.fndtn.slider",n.throttle(function(){n.reflow()},300))},get_cursor_position:function(t,e){var n,r="page"+e.toUpperCase(),i="client"+e.toUpperCase();return"undefined"!=typeof t[r]?n=t[r]:"undefined"!=typeof t.originalEvent[i]?n=t.originalEvent[i]:t.originalEvent.touches&&t.originalEvent.touches[0]&&"undefined"!=typeof t.originalEvent.touches[0][i]?n=t.originalEvent.touches[0][i]:t.currentPoint&&"undefined"!=typeof t.currentPoint[e]&&(n=t.currentPoint[e]),n},set_active_slider:function(t){this.cache.active=t},remove_active_slider:function(){this.cache.active=null},calculate_position:function(e,n){var r=this,i=t.data(e[0],"settings"),o=(t.data(e[0],"handle_l"),t.data(e[0],"handle_o"),t.data(e[0],"bar_l")),a=t.data(e[0],"bar_o");requestAnimationFrame(function(){var t;t=Foundation.rtl&&!i.vertical?r.limit_to((a+o-n)/o,0,1):r.limit_to((n-a)/o,0,1),t=i.vertical?1-t:t;var s=r.normalized_value(t,i.start,i.end,i.step,i.precision);r.set_ui(e,s)})},set_ui:function(e,n){var r=t.data(e[0],"settings"),i=t.data(e[0],"handle_l"),o=t.data(e[0],"bar_l"),a=this.normalized_percentage(n,r.start,r.end),s=a*(o-i)-1,u=100*a,l=e.parent(),c=e.parent().children("input[type=hidden]");Foundation.rtl&&!r.vertical&&(s=-s),s=r.vertical?-s+o-i+1:s,this.set_translate(e,s,r.vertical),r.vertical?e.siblings(".range-slider-active-segment").css("height",u+"%"):e.siblings(".range-slider-active-segment").css("width",u+"%"),l.attr(this.attr_name(),n).trigger("change").trigger("change.fndtn.slider"),c.val(n),r.trigger_input_change&&c.trigger("change"),e[0].hasAttribute("aria-valuemin")||e.attr({"aria-valuemin":r.start,"aria-valuemax":r.end}),e.attr("aria-valuenow",n),""!=r.display_selector&&t(r.display_selector).each(function(){this.hasOwnProperty("value")?t(this).val(n):t(this).text(n)})},normalized_percentage:function(t,e,n){return Math.min(1,(t-e)/(n-e))},normalized_value:function(t,e,n,r,i){var o=n-e,a=t*o,s=(a-a%r)/r,u=a%r,l=u>=.5*r?r:0;return(s*r+l+e).toFixed(i)},set_translate:function(e,n,r){r?t(e).css("-webkit-transform","translateY("+n+"px)").css("-moz-transform","translateY("+n+"px)").css("-ms-transform","translateY("+n+"px)").css("-o-transform","translateY("+n+"px)").css("transform","translateY("+n+"px)"):t(e).css("-webkit-transform","translateX("+n+"px)").css("-moz-transform","translateX("+n+"px)").css("-ms-transform","translateX("+n+"px)").css("-o-transform","translateX("+n+"px)").css("transform","translateX("+n+"px)")},limit_to:function(t,e,n){return Math.min(Math.max(t,e),n)},initialize_settings:function(e){var n,r=t.extend({},this.settings,this.data_options(t(e).parent()));null===r.precision&&(n=(""+r.step).match(/\.([\d]*)/),r.precision=n&&n[1]?n[1].length:0),r.vertical?(t.data(e,"bar_o",t(e).parent().offset().top),t.data(e,"bar_l",t(e).parent().outerHeight()),t.data(e,"handle_o",t(e).offset().top),t.data(e,"handle_l",t(e).outerHeight())):(t.data(e,"bar_o",t(e).parent().offset().left),t.data(e,"bar_l",t(e).parent().outerWidth()),t.data(e,"handle_o",t(e).offset().left),t.data(e,"handle_l",t(e).outerWidth())),t.data(e,"bar",t(e).parent()),t.data(e,"settings",r)},set_initial_position:function(e){var n=t.data(e.children(".range-slider-handle")[0],"settings"),r="number"!=typeof n.initial||isNaN(n.initial)?Math.floor(.5*(n.end-n.start)/n.step)*n.step+n.start:n.initial,i=e.children(".range-slider-handle");this.set_ui(i,r)},set_value:function(e){var n=this;t("["+n.attr_name()+"]",this.scope).each(function(){t(this).attr(n.attr_name(),e)}),t(this.scope).attr(n.attr_name())&&t(this.scope).attr(n.attr_name(),e),n.reflow()},reflow:function(){var e=this;e.S("["+this.attr_name()+"]").each(function(){var n=t(this).children(".range-slider-handle")[0],r=t(this).attr(e.attr_name());e.initialize_settings(n),r?e.set_ui(t(n),parseFloat(r)):e.set_initial_position(t(this))})}}}(jQuery,window,window.document),function(t,e,n,r){"use strict";Foundation.libs.tab={name:"tab",version:"5.5.0",settings:{active_class:"active",callback:function(){},deep_linking:!1,scroll_to_content:!0,is_hover:!1},default_tab_hashes:[],init:function(t,n,r){var i=this,o=this.S;this.bindings(n,r),this.handle_location_hash_change(),o("["+this.attr_name()+"] > .active > a",this.scope).each(function(){i.default_tab_hashes.push(this.hash)}),i.entry_location=e.location.href},events:function(){var t=this,n=this.S,r=function(e){var r=n(this).closest("["+t.attr_name()+"]").data(t.attr_name(!0)+"-init");(!r.is_hover||Modernizr.touch)&&(e.preventDefault(),e.stopPropagation(),t.toggle_active_tab(n(this).parent()))};n(this.scope).off(".tab").on("focus.fndtn.tab","["+this.attr_name()+"] > * > a",r).on("click.fndtn.tab","["+this.attr_name()+"] > * > a",r).on("mouseenter.fndtn.tab","["+this.attr_name()+"] > * > a",function(){var e=n(this).closest("["+t.attr_name()+"]").data(t.attr_name(!0)+"-init");e.is_hover&&t.toggle_active_tab(n(this).parent())}),n(e).on("hashchange.fndtn.tab",function(e){e.preventDefault(),t.handle_location_hash_change()})},handle_location_hash_change:function(){var e=this,n=this.S;n("["+this.attr_name()+"]",this.scope).each(function(){var i=n(this).data(e.attr_name(!0)+"-init");if(i.deep_linking){var o;if(o=i.scroll_to_content?e.scope.location.hash:e.scope.location.hash.replace("fndtn-",""),""!=o){var a=n(o);if(a.hasClass("content")&&a.parent().hasClass("tabs-content"))e.toggle_active_tab(t("["+e.attr_name()+"] > * > a[href="+o+"]").parent());else{var s=a.closest(".content").attr("id");s!=r&&e.toggle_active_tab(t("["+e.attr_name()+"] > * > a[href=#"+s+"]").parent(),o)}}else for(var u=0;u<e.default_tab_hashes.length;u++)e.toggle_active_tab(t("["+e.attr_name()+"] > * > a[href="+e.default_tab_hashes[u]+"]").parent())}})},toggle_active_tab:function(i,o){var a=this,s=a.S,u=i.closest("["+this.attr_name()+"]"),l=i.find("a"),c=i.children("a").first(),h="#"+c.attr("href").split("#")[1],f=s(h),d=i.siblings(),p=u.data(this.attr_name(!0)+"-init"),g=function(e){var r,i=t(this),o=t(this).parents("li").prev().children('[role="tab"]'),a=t(this).parents("li").next().children('[role="tab"]');switch(e.keyCode){case 37:r=o;break;case 39:r=a;break;default:r=!1}r.length&&(i.attr({tabindex:"-1","aria-selected":null}),r.attr({tabindex:"0","aria-selected":!0}).focus()),t('[role="tabpanel"]').attr("aria-hidden","true"),t("#"+t(n.activeElement).attr("href").substring(1)).attr("aria-hidden",null)},m=function(t){var n=e.location.href===a.entry_location,r=p.scroll_to_content?a.default_tab_hashes[0]:"fndtn-"+a.default_tab_hashes[0].replace("#","");n&&t===r||(e.location.hash=t)};s(this).data(this.data_attr("tab-content"))&&(h="#"+s(this).data(this.data_attr("tab-content")).split("#")[1],f=s(h)),p.deep_linking&&(p.scroll_to_content?(m(o||h),o==r||o==h?i.parent()[0].scrollIntoView():s(h)[0].scrollIntoView()):m(o!=r?"fndtn-"+o.replace("#",""):"fndtn-"+h.replace("#",""))),i.addClass(p.active_class).triggerHandler("opened"),l.attr({"aria-selected":"true",tabindex:0}),d.removeClass(p.active_class),d.find("a").attr({"aria-selected":"false",tabindex:-1}),f.siblings().removeClass(p.active_class).attr({"aria-hidden":"true",tabindex:-1}),f.addClass(p.active_class).attr("aria-hidden","false").removeAttr("tabindex"),p.callback(i),f.triggerHandler("toggled",[i]),u.triggerHandler("toggled",[f]),l.off("keydown").on("keydown",g)},data_attr:function(t){return this.namespace.length>0?this.namespace+"-"+t:t},off:function(){},reflow:function(){}}}(jQuery,window,window.document),function(t,e){"use strict";Foundation.libs.tooltip={name:"tooltip",version:"5.5.0",settings:{additional_inheritable_classes:[],tooltip_class:".tooltip",append_to:"body",touch_close_text:"Tap To Close",disable_for_touch:!1,hover_delay:200,show_on:"all",tip_template:function(t,e){return'<span data-selector="'+t+'" id="'+t+'" class="'+Foundation.libs.tooltip.settings.tooltip_class.substring(1)+'" role="tooltip">'+e+'<span class="nub"></span></span>'}},cache:{},init:function(t,e,n){Foundation.inherit(this,"random_str"),this.bindings(e,n)},should_show:function(e){var n=t.extend({},this.settings,this.data_options(e));return"all"===n.show_on?!0:this.small()&&"small"===n.show_on?!0:this.medium()&&"medium"===n.show_on?!0:this.large()&&"large"===n.show_on?!0:!1},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},events:function(e){var n=this,r=n.S;n.create(this.S(e)),t(this.scope).off(".tooltip").on("mouseenter.fndtn.tooltip mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"]",function(e){var i=r(this),o=t.extend({},n.settings,n.data_options(i)),a=!1;if(Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)&&r(e.target).is("a"))return!1;if(/mouse/i.test(e.type)&&n.ie_touch(e))return!1;if(i.hasClass("open"))Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)&&e.preventDefault(),n.hide(i);else{if(o.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type))return;!o.disable_for_touch&&Modernizr.touch&&/touchstart|MSPointerDown/i.test(e.type)&&(e.preventDefault(),r(o.tooltip_class+".open").hide(),a=!0),/enter|over/i.test(e.type)?this.timer=setTimeout(function(){n.showTip(i)}.bind(this),n.settings.hover_delay):"mouseout"===e.type||"mouseleave"===e.type?(clearTimeout(this.timer),n.hide(i)):n.showTip(i)}}).on("mouseleave.fndtn.tooltip touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip","["+this.attr_name()+"].open",function(e){return/mouse/i.test(e.type)&&n.ie_touch(e)?!1:void(("touch"!=t(this).data("tooltip-open-event-type")||"mouseleave"!=e.type)&&("mouse"==t(this).data("tooltip-open-event-type")&&/MSPointerDown|touchstart/i.test(e.type)?n.convert_to_touch(t(this)):n.hide(t(this))))}).on("DOMNodeRemoved DOMAttrModified","["+this.attr_name()+"]:not(a)",function(){n.hide(r(this))})},ie_touch:function(){return!1},showTip:function(t){var e=this.getTip(t);return this.should_show(t,e)?this.show(t):void 0},getTip:function(e){var n=this.selector(e),r=t.extend({},this.settings,this.data_options(e)),i=null;return n&&(i=this.S('span[data-selector="'+n+'"]'+r.tooltip_class)),"object"==typeof i?i:!1},selector:function(t){var e=t.attr("id"),n=t.attr(this.attr_name())||t.attr("data-selector");return(e&&e.length<1||!e)&&"string"!=typeof n&&(n=this.random_str(6),t.attr("data-selector",n).attr("aria-describedby",n)),e&&e.length>0?e:n},create:function(n){var r=this,i=t.extend({},this.settings,this.data_options(n)),o=this.settings.tip_template;"string"==typeof i.tip_template&&e.hasOwnProperty(i.tip_template)&&(o=e[i.tip_template]);var a=t(o(this.selector(n),t("<div></div>").html(n.attr("title")).html())),s=this.inheritable_classes(n);a.addClass(s).appendTo(i.append_to),Modernizr.touch&&(a.append('<span class="tap-to-close">'+i.touch_close_text+"</span>"),a.on("touchstart.fndtn.tooltip MSPointerDown.fndtn.tooltip",function(){r.hide(n)})),n.removeAttr("title").attr("title","")},reposition:function(e,n,r){var i,o,a,s,u;if(n.css("visibility","hidden").show(),i=e.data("width"),o=n.children(".nub"),a=o.outerHeight(),s=o.outerHeight(),n.css(this.small()?{width:"100%"}:{width:i?i:"auto"}),u=function(t,e,n,r,i){return t.css({top:e?e:"auto",bottom:r?r:"auto",left:i?i:"auto",right:n?n:"auto"}).end()},u(n,e.offset().top+e.outerHeight()+10,"auto","auto",e.offset().left),this.small())u(n,e.offset().top+e.outerHeight()+10,"auto","auto",12.5,t(this.scope).width()),n.addClass("tip-override"),u(o,-a,"auto","auto",e.offset().left);else{var l=e.offset().left;Foundation.rtl&&(o.addClass("rtl"),l=e.offset().left+e.outerWidth()-n.outerWidth()),u(n,e.offset().top+e.outerHeight()+10,"auto","auto",l),n.removeClass("tip-override"),r&&r.indexOf("tip-top")>-1?(Foundation.rtl&&o.addClass("rtl"),u(n,e.offset().top-n.outerHeight(),"auto","auto",l).removeClass("tip-override")):r&&r.indexOf("tip-left")>-1?(u(n,e.offset().top+e.outerHeight()/2-n.outerHeight()/2,"auto","auto",e.offset().left-n.outerWidth()-a).removeClass("tip-override"),o.removeClass("rtl")):r&&r.indexOf("tip-right")>-1&&(u(n,e.offset().top+e.outerHeight()/2-n.outerHeight()/2,"auto","auto",e.offset().left+e.outerWidth()+a).removeClass("tip-override"),o.removeClass("rtl"))}n.css("visibility","visible").hide()},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},inheritable_classes:function(e){var n=t.extend({},this.settings,this.data_options(e)),r=["tip-top","tip-left","tip-bottom","tip-right","radius","round"].concat(n.additional_inheritable_classes),i=e.attr("class"),o=i?t.map(i.split(" "),function(e){return-1!==t.inArray(e,r)?e:void 0}).join(" "):"";return t.trim(o)},convert_to_touch:function(e){var n=this,r=n.getTip(e),i=t.extend({},n.settings,n.data_options(e));0===r.find(".tap-to-close").length&&(r.append('<span class="tap-to-close">'+i.touch_close_text+"</span>"),r.on("click.fndtn.tooltip.tapclose touchstart.fndtn.tooltip.tapclose MSPointerDown.fndtn.tooltip.tapclose",function(){n.hide(e)})),e.data("tooltip-open-event-type","touch")},show:function(t){var e=this.getTip(t);"touch"==t.data("tooltip-open-event-type")&&this.convert_to_touch(t),this.reposition(t,e,t.attr("class")),t.addClass("open"),e.fadeIn(150)},hide:function(t){var e=this.getTip(t);e.fadeOut(150,function(){e.find(".tap-to-close").remove(),e.off("click.fndtn.tooltip.tapclose MSPointerDown.fndtn.tapclose"),t.removeClass("open")})},off:function(){var e=this;this.S(this.scope).off(".fndtn.tooltip"),this.S(this.settings.tooltip_class).each(function(n){t("["+e.attr_name()+"]").eq(n).attr("title",t(this).text())}).remove()},reflow:function(){}}}(jQuery,window,window.document),function(t,e,n){"use strict";Foundation.libs.topbar={name:"topbar",version:"5.5.0",settings:{index:0,sticky_class:"sticky",custom_back_text:!0,back_text:"Back",mobile_show_parent_link:!0,is_hover:!0,scrolltop:!0,sticky_on:"all"},init:function(e,n,r){Foundation.inherit(this,"add_custom_rule register_media throttle");var i=this;i.register_media("topbar","foundation-mq-topbar"),this.bindings(n,r),i.S("["+this.attr_name()+"]",this.scope).each(function(){{var e=t(this),n=e.data(i.attr_name(!0)+"-init");i.S("section, .top-bar-section",this)}e.data("index",0);var r=e.parent();r.hasClass("fixed")||i.is_sticky(e,r,n)?(i.settings.sticky_class=n.sticky_class,i.settings.sticky_topbar=e,e.data("height",r.outerHeight()),e.data("stickyoffset",r.offset().top)):e.data("height",e.outerHeight()),n.assembled||i.assemble(e),n.is_hover?i.S(".has-dropdown",e).addClass("not-click"):i.S(".has-dropdown",e).removeClass("not-click"),i.add_custom_rule(".f-topbar-fixed { padding-top: "+e.data("height")+"px }"),r.hasClass("fixed")&&i.S("body").addClass("f-topbar-fixed")})},is_sticky:function(t,e,n){var r=e.hasClass(n.sticky_class);return r&&"all"===n.sticky_on?!0:r&&this.small()&&"small"===n.sticky_on?matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches:r&&this.medium()&&"medium"===n.sticky_on?matchMedia(Foundation.media_queries.small).matches&&matchMedia(Foundation.media_queries.medium).matches&&!matchMedia(Foundation.media_queries.large).matches:r&&this.large()&&"large"===n.sticky_on?matchMedia(Foundation.media_queries.small).matches&&matchMedia(Foundation.media_queries.medium).matches&&matchMedia(Foundation.media_queries.large).matches:!1},toggle:function(n){var r,i=this;r=n?i.S(n).closest("["+this.attr_name()+"]"):i.S("["+this.attr_name()+"]");var o=r.data(this.attr_name(!0)+"-init"),a=i.S("section, .top-bar-section",r);i.breakpoint()&&(i.rtl?(a.css({right:"0%"}),t(">.name",a).css({right:"100%"})):(a.css({left:"0%"}),t(">.name",a).css({left:"100%"})),i.S("li.moved",a).removeClass("moved"),r.data("index",0),r.toggleClass("expanded").css("height","")),o.scrolltop?r.hasClass("expanded")?r.parent().hasClass("fixed")&&(o.scrolltop?(r.parent().removeClass("fixed"),r.addClass("fixed"),i.S("body").removeClass("f-topbar-fixed"),e.scrollTo(0,0)):r.parent().removeClass("expanded")):r.hasClass("fixed")&&(r.parent().addClass("fixed"),r.removeClass("fixed"),i.S("body").addClass("f-topbar-fixed")):(i.is_sticky(r,r.parent(),o)&&r.parent().addClass("fixed"),r.parent().hasClass("fixed")&&(r.hasClass("expanded")?(r.addClass("fixed"),r.parent().addClass("expanded"),i.S("body").addClass("f-topbar-fixed")):(r.removeClass("fixed"),r.parent().removeClass("expanded"),i.update_sticky_positioning())))},timer:null,events:function(){var n=this,r=this.S;r(this.scope).off(".topbar").on("click.fndtn.topbar","["+this.attr_name()+"] .toggle-topbar",function(t){t.preventDefault(),n.toggle(this)}).on("click.fndtn.topbar",'.top-bar .top-bar-section li a[href^="#"],['+this.attr_name()+'] .top-bar-section li a[href^="#"]',function(){var e=t(this).closest("li");!n.breakpoint()||e.hasClass("back")||e.hasClass("has-dropdown")||n.toggle()}).on("click.fndtn.topbar","["+this.attr_name()+"] li.has-dropdown",function(e){var i=r(this),o=r(e.target),a=i.closest("["+n.attr_name()+"]"),s=a.data(n.attr_name(!0)+"-init");return o.data("revealId")?void n.toggle():void(n.breakpoint()||(!s.is_hover||Modernizr.touch)&&(e.stopImmediatePropagation(),i.hasClass("hover")?(i.removeClass("hover").find("li").removeClass("hover"),i.parents("li.hover").removeClass("hover")):(i.addClass("hover"),t(i).siblings().removeClass("hover"),"A"===o[0].nodeName&&o.parent().hasClass("has-dropdown")&&e.preventDefault())))}).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown>a",function(t){if(n.breakpoint()){t.preventDefault();var e=r(this),i=e.closest("["+n.attr_name()+"]"),o=i.find("section, .top-bar-section"),a=(e.next(".dropdown").outerHeight(),e.closest("li"));i.data("index",i.data("index")+1),a.addClass("moved"),n.rtl?(o.css({right:-(100*i.data("index"))+"%"}),o.find(">.name").css({right:100*i.data("index")+"%"})):(o.css({left:-(100*i.data("index"))+"%"}),o.find(">.name").css({left:100*i.data("index")+"%"})),i.css("height",e.siblings("ul").outerHeight(!0)+i.data("height"))}}),r(e).off(".topbar").on("resize.fndtn.topbar",n.throttle(function(){n.resize.call(n)},50)).trigger("resize").trigger("resize.fndtn.topbar").load(function(){r(this).trigger("resize.fndtn.topbar")}),r("body").off(".topbar").on("click.fndtn.topbar",function(t){var e=r(t.target).closest("li").closest("li.hover");e.length>0||r("["+n.attr_name()+"] li.hover").removeClass("hover")}),r(this.scope).on("click.fndtn.topbar","["+this.attr_name()+"] .has-dropdown .back",function(t){t.preventDefault();var e=r(this),i=e.closest("["+n.attr_name()+"]"),o=i.find("section, .top-bar-section"),a=(i.data(n.attr_name(!0)+"-init"),e.closest("li.moved")),s=a.parent();i.data("index",i.data("index")-1),n.rtl?(o.css({right:-(100*i.data("index"))+"%"}),o.find(">.name").css({right:100*i.data("index")+"%"})):(o.css({left:-(100*i.data("index"))+"%"}),o.find(">.name").css({left:100*i.data("index")+"%"})),0===i.data("index")?i.css("height",""):i.css("height",s.outerHeight(!0)+i.data("height")),setTimeout(function(){a.removeClass("moved")},300)}),r(this.scope).find(".dropdown a").focus(function(){t(this).parents(".has-dropdown").addClass("hover")}).blur(function(){t(this).parents(".has-dropdown").removeClass("hover")})},resize:function(){var t=this;t.S("["+this.attr_name()+"]").each(function(){var e,r=t.S(this),i=r.data(t.attr_name(!0)+"-init"),o=r.parent("."+t.settings.sticky_class);if(!t.breakpoint()){var a=r.hasClass("expanded");r.css("height","").removeClass("expanded").find("li").removeClass("hover"),a&&t.toggle(r)}t.is_sticky(r,o,i)&&(o.hasClass("fixed")?(o.removeClass("fixed"),e=o.offset().top,t.S(n.body).hasClass("f-topbar-fixed")&&(e-=r.data("height")),r.data("stickyoffset",e),o.addClass("fixed")):(e=o.offset().top,r.data("stickyoffset",e)))})},breakpoint:function(){return!matchMedia(Foundation.media_queries.topbar).matches},small:function(){return matchMedia(Foundation.media_queries.small).matches},medium:function(){return matchMedia(Foundation.media_queries.medium).matches},large:function(){return matchMedia(Foundation.media_queries.large).matches},assemble:function(e){var n=this,r=e.data(this.attr_name(!0)+"-init"),i=n.S("section, .top-bar-section",e);i.detach(),n.S(".has-dropdown>a",i).each(function(){var e,i=n.S(this),o=i.siblings(".dropdown"),a=i.attr("href");o.find(".title.back").length||(e=t(1==r.mobile_show_parent_link&&a?'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5></li><li class="parent-link show-for-small-only"><a class="parent-link js-generated" href="'+a+'">'+i.html()+"</a></li>":'<li class="title back js-generated"><h5><a href="javascript:void(0)"></a></h5>'),t("h5>a",e).html(1==r.custom_back_text?r.back_text:"&laquo; "+i.html()),o.prepend(e))}),i.appendTo(e),this.sticky(),this.assembled(e)},assembled:function(e){e.data(this.attr_name(!0),t.extend({},e.data(this.attr_name(!0)),{assembled:!0}))},height:function(e){var n=0,r=this;return t("> li",e).each(function(){n+=r.S(this).outerHeight(!0)}),n},sticky:function(){var t=this;this.S(e).on("scroll",function(){t.update_sticky_positioning()})},update_sticky_positioning:function(){var t="."+this.settings.sticky_class,n=this.S(e),r=this;if(r.settings.sticky_topbar&&r.is_sticky(this.settings.sticky_topbar,this.settings.sticky_topbar.parent(),this.settings)){var i=this.settings.sticky_topbar.data("stickyoffset");r.S(t).hasClass("expanded")||(n.scrollTop()>i?r.S(t).hasClass("fixed")||(r.S(t).addClass("fixed"),r.S("body").addClass("f-topbar-fixed")):n.scrollTop()<=i&&r.S(t).hasClass("fixed")&&(r.S(t).removeClass("fixed"),r.S("body").removeClass("f-topbar-fixed")))}},off:function(){this.S(this.scope).off(".fndtn.topbar"),this.S(e).off(".fndtn.topbar")},reflow:function(){}}}(jQuery,window,window.document),function(){var t=this,e=t._,n=Array.prototype,r=Object.prototype,i=Function.prototype,o=n.push,a=n.slice,s=n.concat,u=r.toString,l=r.hasOwnProperty,c=Array.isArray,h=Object.keys,f=i.bind,d=function(t){return t instanceof d?t:this instanceof d?void(this._wrapped=t):new d(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=d),exports._=d):t._=d,d.VERSION="1.7.0";var p=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}};d.iteratee=function(t,e,n){return null==t?d.identity:d.isFunction(t)?p(t,e,n):d.isObject(t)?d.matches(t):d.property(t)},d.each=d.forEach=function(t,e,n){if(null==t)return t;e=p(e,n);var r,i=t.length;if(i===+i)for(r=0;i>r;r++)e(t[r],r,t);else{var o=d.keys(t);for(r=0,i=o.length;i>r;r++)e(t[o[r]],o[r],t)}return t},d.map=d.collect=function(t,e,n){if(null==t)return[];e=d.iteratee(e,n);for(var r,i=t.length!==+t.length&&d.keys(t),o=(i||t).length,a=Array(o),s=0;o>s;s++)r=i?i[s]:s,a[s]=e(t[r],r,t);return a};var g="Reduce of empty array with no initial value";d.reduce=d.foldl=d.inject=function(t,e,n,r){null==t&&(t=[]),e=p(e,r,4);var i,o=t.length!==+t.length&&d.keys(t),a=(o||t).length,s=0;if(arguments.length<3){if(!a)throw new TypeError(g);n=t[o?o[s++]:s++]}for(;a>s;s++)i=o?o[s]:s,n=e(n,t[i],i,t);return n},d.reduceRight=d.foldr=function(t,e,n,r){null==t&&(t=[]),e=p(e,r,4);var i,o=t.length!==+t.length&&d.keys(t),a=(o||t).length;if(arguments.length<3){if(!a)throw new TypeError(g);n=t[o?o[--a]:--a]}for(;a--;)i=o?o[a]:a,n=e(n,t[i],i,t);return n},d.find=d.detect=function(t,e,n){var r;return e=d.iteratee(e,n),d.some(t,function(t,n,i){return e(t,n,i)?(r=t,!0):void 0}),r},d.filter=d.select=function(t,e,n){var r=[];return null==t?r:(e=d.iteratee(e,n),d.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r)},d.reject=function(t,e,n){return d.filter(t,d.negate(d.iteratee(e)),n)},d.every=d.all=function(t,e,n){if(null==t)return!0;e=d.iteratee(e,n);var r,i,o=t.length!==+t.length&&d.keys(t),a=(o||t).length;for(r=0;a>r;r++)if(i=o?o[r]:r,!e(t[i],i,t))return!1;return!0},d.some=d.any=function(t,e,n){if(null==t)return!1;e=d.iteratee(e,n);var r,i,o=t.length!==+t.length&&d.keys(t),a=(o||t).length;for(r=0;a>r;r++)if(i=o?o[r]:r,e(t[i],i,t))return!0;return!1},d.contains=d.include=function(t,e){return null==t?!1:(t.length!==+t.length&&(t=d.values(t)),d.indexOf(t,e)>=0)},d.invoke=function(t,e){var n=a.call(arguments,2),r=d.isFunction(e);return d.map(t,function(t){return(r?e:t[e]).apply(t,n)})},d.pluck=function(t,e){return d.map(t,d.property(e))},d.where=function(t,e){return d.filter(t,d.matches(e))},d.findWhere=function(t,e){return d.find(t,d.matches(e))},d.max=function(t,e,n){var r,i,o=-1/0,a=-1/0;if(null==e&&null!=t){t=t.length===+t.length?t:d.values(t);for(var s=0,u=t.length;u>s;s++)r=t[s],r>o&&(o=r)}else e=d.iteratee(e,n),d.each(t,function(t,n,r){i=e(t,n,r),(i>a||i===-1/0&&o===-1/0)&&(o=t,a=i)});return o},d.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e&&null!=t){t=t.length===+t.length?t:d.values(t);for(var s=0,u=t.length;u>s;s++)r=t[s],o>r&&(o=r)}else e=d.iteratee(e,n),d.each(t,function(t,n,r){i=e(t,n,r),(a>i||1/0===i&&1/0===o)&&(o=t,a=i)});return o},d.shuffle=function(t){for(var e,n=t&&t.length===+t.length?t:d.values(t),r=n.length,i=Array(r),o=0;r>o;o++)e=d.random(0,o),e!==o&&(i[o]=i[e]),i[e]=n[o];return i},d.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=d.values(t)),t[d.random(t.length-1)]):d.shuffle(t).slice(0,Math.max(0,e))},d.sortBy=function(t,e,n){return e=d.iteratee(e,n),d.pluck(d.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var m=function(t){return function(e,n,r){var i={};return n=d.iteratee(n,r),d.each(e,function(r,o){var a=n(r,o,e);t(i,r,a)}),i}};d.groupBy=m(function(t,e,n){d.has(t,n)?t[n].push(e):t[n]=[e]}),d.indexBy=m(function(t,e,n){t[n]=e}),d.countBy=m(function(t,e,n){d.has(t,n)?t[n]++:t[n]=1}),d.sortedIndex=function(t,e,n,r){n=d.iteratee(n,r,1);for(var i=n(e),o=0,a=t.length;a>o;){var s=o+a>>>1;n(t[s])<i?o=s+1:a=s}return o},d.toArray=function(t){return t?d.isArray(t)?a.call(t):t.length===+t.length?d.map(t,d.identity):d.values(t):[]},d.size=function(t){return null==t?0:t.length===+t.length?t.length:d.keys(t).length},d.partition=function(t,e,n){e=d.iteratee(e,n);var r=[],i=[];return d.each(t,function(t,n,o){(e(t,n,o)?r:i).push(t)}),[r,i]},d.first=d.head=d.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:a.call(t,0,e)},d.initial=function(t,e,n){return a.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},d.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},d.rest=d.tail=d.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},d.compact=function(t){return d.filter(t,d.identity)};var v=function(t,e,n,r){if(e&&d.every(t,d.isArray))return s.apply(r,t);for(var i=0,a=t.length;a>i;i++){var u=t[i];d.isArray(u)||d.isArguments(u)?e?o.apply(r,u):v(u,e,n,r):n||r.push(u)}return r};d.flatten=function(t,e){return v(t,e,!1,[])},d.without=function(t){return d.difference(t,a.call(arguments,1))},d.uniq=d.unique=function(t,e,n,r){if(null==t)return[];d.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=d.iteratee(n,r));for(var i=[],o=[],a=0,s=t.length;s>a;a++){var u=t[a];if(e)a&&o===u||i.push(u),o=u;else if(n){var l=n(u,a,t);d.indexOf(o,l)<0&&(o.push(l),i.push(u))}else d.indexOf(i,u)<0&&i.push(u)}return i},d.union=function(){return d.uniq(v(arguments,!0,!0,[]))},d.intersection=function(t){if(null==t)return[];for(var e=[],n=arguments.length,r=0,i=t.length;i>r;r++){var o=t[r];if(!d.contains(e,o)){for(var a=1;n>a&&d.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},d.difference=function(t){var e=v(a.call(arguments,1),!0,!0,[]);return d.filter(t,function(t){return!d.contains(e,t)})},d.zip=function(t){if(null==t)return[];for(var e=d.max(arguments,"length").length,n=Array(e),r=0;e>r;r++)n[r]=d.pluck(arguments,r);return n},d.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},d.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=d.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}for(;i>r;r++)if(t[r]===e)return r;return-1},d.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=t.length;for("number"==typeof n&&(r=0>n?r+n+1:Math.min(r,n+1));--r>=0;)if(t[r]===e)return r;return-1},d.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;r>o;o++,t+=n)i[o]=t;return i};var y=function(){};d.bind=function(t,e){var n,r;if(f&&t.bind===f)return f.apply(t,a.call(arguments,1));if(!d.isFunction(t))throw new TypeError("Bind must be called on a function");return n=a.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(a.call(arguments)));y.prototype=t.prototype;var i=new y;y.prototype=null;var o=t.apply(i,n.concat(a.call(arguments)));return d.isObject(o)?o:i}},d.partial=function(t){var e=a.call(arguments,1);return function(){for(var n=0,r=e.slice(),i=0,o=r.length;o>i;i++)r[i]===d&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return t.apply(this,r)}},d.bindAll=function(t){var e,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)n=arguments[e],t[n]=d.bind(t[n],t);return t},d.memoize=function(t,e){var n=function(r){var i=n.cache,o=e?e.apply(this,arguments):r;return d.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},d.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},d.defer=function(t){return d.delay.apply(d,[t,1].concat(a.call(arguments,1)))},d.throttle=function(t,e,n){var r,i,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:d.now(),a=null,o=t.apply(r,i),a||(r=i=null)};return function(){var l=d.now();s||n.leading!==!1||(s=l);var c=e-(l-s);return r=this,i=arguments,0>=c||c>e?(clearTimeout(a),a=null,s=l,o=t.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(u,c)),o
}},d.debounce=function(t,e,n){var r,i,o,a,s,u=function(){var l=d.now()-a;e>l&&l>0?r=setTimeout(u,e-l):(r=null,n||(s=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=d.now();var l=n&&!r;return r||(r=setTimeout(u,e)),l&&(s=t.apply(o,i),o=i=null),s}},d.wrap=function(t,e){return d.partial(e,t)},d.negate=function(t){return function(){return!t.apply(this,arguments)}},d.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},d.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},d.before=function(t,e){var n;return function(){return--t>0?n=e.apply(this,arguments):e=null,n}},d.once=d.partial(d.before,2),d.keys=function(t){if(!d.isObject(t))return[];if(h)return h(t);var e=[];for(var n in t)d.has(t,n)&&e.push(n);return e},d.values=function(t){for(var e=d.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},d.pairs=function(t){for(var e=d.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},d.invert=function(t){for(var e={},n=d.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},d.functions=d.methods=function(t){var e=[];for(var n in t)d.isFunction(t[n])&&e.push(n);return e.sort()},d.extend=function(t){if(!d.isObject(t))return t;for(var e,n,r=1,i=arguments.length;i>r;r++){e=arguments[r];for(n in e)l.call(e,n)&&(t[n]=e[n])}return t},d.pick=function(t,e,n){var r,i={};if(null==t)return i;if(d.isFunction(e)){e=p(e,n);for(r in t){var o=t[r];e(o,r,t)&&(i[r]=o)}}else{var u=s.apply([],a.call(arguments,1));t=new Object(t);for(var l=0,c=u.length;c>l;l++)r=u[l],r in t&&(i[r]=t[r])}return i},d.omit=function(t,e,n){if(d.isFunction(e))e=d.negate(e);else{var r=d.map(s.apply([],a.call(arguments,1)),String);e=function(t,e){return!d.contains(r,e)}}return d.pick(t,e,n)},d.defaults=function(t){if(!d.isObject(t))return t;for(var e=1,n=arguments.length;n>e;e++){var r=arguments[e];for(var i in r)void 0===t[i]&&(t[i]=r[i])}return t},d.clone=function(t){return d.isObject(t)?d.isArray(t)?t.slice():d.extend({},t):t},d.tap=function(t,e){return e(t),t};var b=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof d&&(t=t._wrapped),e instanceof d&&(e=e._wrapped);var i=u.call(t);if(i!==u.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]===t)return r[o]===e;var a=t.constructor,s=e.constructor;if(a!==s&&"constructor"in t&&"constructor"in e&&!(d.isFunction(a)&&a instanceof a&&d.isFunction(s)&&s instanceof s))return!1;n.push(t),r.push(e);var l,c;if("[object Array]"===i){if(l=t.length,c=l===e.length)for(;l--&&(c=b(t[l],e[l],n,r)););}else{var h,f=d.keys(t);if(l=f.length,c=d.keys(e).length===l)for(;l--&&(h=f[l],c=d.has(e,h)&&b(t[h],e[h],n,r)););}return n.pop(),r.pop(),c};d.isEqual=function(t,e){return b(t,e,[],[])},d.isEmpty=function(t){if(null==t)return!0;if(d.isArray(t)||d.isString(t)||d.isArguments(t))return 0===t.length;for(var e in t)if(d.has(t,e))return!1;return!0},d.isElement=function(t){return!(!t||1!==t.nodeType)},d.isArray=c||function(t){return"[object Array]"===u.call(t)},d.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},d.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){d["is"+t]=function(e){return u.call(e)==="[object "+t+"]"}}),d.isArguments(arguments)||(d.isArguments=function(t){return d.has(t,"callee")}),"function"!=typeof/./&&(d.isFunction=function(t){return"function"==typeof t||!1}),d.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},d.isNaN=function(t){return d.isNumber(t)&&t!==+t},d.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===u.call(t)},d.isNull=function(t){return null===t},d.isUndefined=function(t){return void 0===t},d.has=function(t,e){return null!=t&&l.call(t,e)},d.noConflict=function(){return t._=e,this},d.identity=function(t){return t},d.constant=function(t){return function(){return t}},d.noop=function(){},d.property=function(t){return function(e){return e[t]}},d.matches=function(t){var e=d.pairs(t),n=e.length;return function(t){if(null==t)return!n;t=new Object(t);for(var r=0;n>r;r++){var i=e[r],o=i[0];if(i[1]!==t[o]||!(o in t))return!1}return!0}},d.times=function(t,e,n){var r=Array(Math.max(0,t));e=p(e,n,1);for(var i=0;t>i;i++)r[i]=e(i);return r},d.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},d.now=Date.now||function(){return(new Date).getTime()};var _={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},x=d.invert(_),w=function(t){var e=function(e){return t[e]},n="(?:"+d.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};d.escape=w(_),d.unescape=w(x),d.result=function(t,e){if(null==t)return void 0;var n=t[e];return d.isFunction(n)?t[e]():n};var k=0;d.uniqueId=function(t){var e=++k+"";return t?t+e:e},d.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/(.)^/,S={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},M=/\\|'|\r|\n|\u2028|\u2029/g,T=function(t){return"\\"+S[t]};d.template=function(t,e,n){!e&&n&&(e=n),e=d.defaults({},e,d.templateSettings);var r=RegExp([(e.escape||C).source,(e.interpolate||C).source,(e.evaluate||C).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,a,s){return o+=t.slice(i,s).replace(M,T),i=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(s){throw s.source=o,s}var u=function(t){return a.call(this,t,d)},l=e.variable||"obj";return u.source="function("+l+"){\n"+o+"}",u},d.chain=function(t){var e=d(t);return e._chain=!0,e};var A=function(t){return this._chain?d(t).chain():t};d.mixin=function(t){d.each(d.functions(t),function(e){var n=d[e]=t[e];d.prototype[e]=function(){var t=[this._wrapped];return o.apply(t,arguments),A.call(this,n.apply(d,t))}})},d.mixin(d),d.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];d.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],A.call(this,n)}}),d.each(["concat","join","slice"],function(t){var e=n[t];d.prototype[t]=function(){return A.call(this,e.apply(this._wrapped,arguments))}}),d.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return d})}.call(this),function(t,e){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,r,i){t.Backbone=e(t,i,n,r)});else if("undefined"!=typeof exports){var n=require("underscore");e(t,exports,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,n,r){{var i=t.Backbone,o=[],a=(o.push,o.slice);o.splice}e.VERSION="1.1.2",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s=e.Events={on:function(t,e,n){if(!l(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);return r.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,r){if(!l(this,"once",t,[e,r])||!e)return this;var i=this,o=n.once(function(){i.off(t,o),e.apply(this,arguments)});return o._callback=e,this.on(t,o,r)},off:function(t,e,r){var i,o,a,s,u,c,h,f;if(!this._events||!l(this,"off",t,[e,r]))return this;if(!t&&!e&&!r)return this._events=void 0,this;for(s=t?[t]:n.keys(this._events),u=0,c=s.length;c>u;u++)if(t=s[u],a=this._events[t]){if(this._events[t]=i=[],e||r)for(h=0,f=a.length;f>h;h++)o=a[h],(e&&e!==o.callback&&e!==o.callback._callback||r&&r!==o.context)&&i.push(o);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=a.call(arguments,1);if(!l(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&c(n,e),r&&c(r,arguments),this},stopListening:function(t,e,r){var i=this._listeningTo;if(!i)return this;var o=!e&&!r;r||"object"!=typeof e||(r=this),t&&((i={})[t._listenId]=t);for(var a in i)t=i[a],t.off(e,r,this),(o||n.isEmpty(t._events))&&delete this._listeningTo[a];return this}},u=/\s+/,l=function(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)t[e].apply(t,[i,n[i]].concat(r));return!1}if(u.test(n)){for(var o=n.split(u),a=0,s=o.length;s>a;a++)t[e].apply(t,[o[a]].concat(r));return!1}return!0},c=function(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}},h={listenTo:"on",listenToOnce:"once"};n.each(h,function(t,e){s[e]=function(e,r,i){var o=this._listeningTo||(this._listeningTo={}),a=e._listenId||(e._listenId=n.uniqueId("l"));return o[a]=e,i||"object"!=typeof r||(i=this),e[t](r,i,this),this}}),s.bind=s.on,s.unbind=s.off,n.extend(e,s);var f=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(f.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,r){var i,o,a,s,u,l,c,h;if(null==t)return this;if("object"==typeof t?(o=t,r=e):(o={})[t]=e,r||(r={}),!this._validate(o,r))return!1;a=r.unset,u=r.silent,s=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={}),h=this.attributes,c=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(i in o)e=o[i],n.isEqual(h[i],e)||s.push(i),n.isEqual(c[i],e)?delete this.changed[i]:this.changed[i]=e,a?delete h[i]:h[i]=e;if(!u){s.length&&(this._pending=r);for(var f=0,d=s.length;d>f;f++)this.trigger("change:"+s[f],this,h[s[f]],r)}if(l)return this;if(!u)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var o in t)n.isEqual(i[o],e=t[o])||((r||(r={}))[o]=e);return r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,r=t.success;return t.success=function(n){return e.set(e.parse(n,t),t)?(r&&r(e,n,t),void e.trigger("sync",e,n,t)):!1},O(this,t),this.sync("read",this,t)},save:function(t,e,r){var i,o,a,s=this.attributes;if(null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0},r),i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},s,i)),void 0===r.parse&&(r.parse=!0);var u=this,l=r.success;return r.success=function(t){u.attributes=s;var e=u.parse(t,r);return r.wait&&(e=n.extend(i||{},e)),n.isObject(e)&&!u.set(e,r)?!1:(l&&l(u,t,r),void u.trigger("sync",u,t,r))},O(this,r),o=this.isNew()?"create":r.patch?"patch":"update","patch"===o&&(r.attrs=i),a=this.sync(o,this,r),i&&r.wait&&(this.attributes=s),a},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&i(),r&&r(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;O(this,t);var o=this.sync("delete",this,t);return t.wait||i(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||P();return this.isNew()?t:t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return r?(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1):!0}});var d=["keys","values","pairs","invert","pick","omit"];n.each(d,function(t){f.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}});var p=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},g={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};n.extend(p.prototype,s,{model:f,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,m))},remove:function(t,e){var r=!n.isArray(t);t=r?[t]:n.clone(t),e||(e={});var i,o,a,s;for(i=0,o=t.length;o>i;i++)s=t[i]=this.get(t[i]),s&&(delete this._byId[s.id],delete this._byId[s.cid],a=this.indexOf(s),this.models.splice(a,1),this.length--,e.silent||(e.index=a,s.trigger("remove",s,this,e)),this._removeReference(s,e));return r?t[0]:t},set:function(t,e){e=n.defaults({},e,g),e.parse&&(t=this.parse(t,e));var r=!n.isArray(t);t=r?t?[t]:[]:n.clone(t);var i,o,a,s,u,l,c,h=e.at,d=this.model,p=this.comparator&&null==h&&e.sort!==!1,m=n.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},_=e.add,x=e.merge,w=e.remove,k=!p&&_&&w?[]:!1;for(i=0,o=t.length;o>i;i++){if(u=t[i]||{},a=u instanceof f?s=u:u[d.prototype.idAttribute||"id"],l=this.get(a))w&&(b[l.cid]=!0),x&&(u=u===s?s.attributes:u,e.parse&&(u=l.parse(u,e)),l.set(u,e),p&&!c&&l.hasChanged(m)&&(c=!0)),t[i]=l;else if(_){if(s=t[i]=this._prepareModel(u,e),!s)continue;v.push(s),this._addReference(s,e)}s=l||s,!k||!s.isNew()&&b[s.id]||k.push(s),b[s.id]=!0}if(w){for(i=0,o=this.length;o>i;++i)b[(s=this.models[i]).cid]||y.push(s);y.length&&this.remove(y,e)}if(v.length||k&&k.length)if(p&&(c=!0),this.length+=v.length,null!=h)for(i=0,o=v.length;o>i;i++)this.models.splice(h+i,0,v[i]);else{k&&(this.models.length=0);var C=k||v;for(i=0,o=C.length;o>i;i++)this.models.push(C[i])}if(c&&this.sort({silent:!0}),!e.silent){for(i=0,o=v.length;o>i;i++)(s=v[i]).trigger("add",s,this,e);(c||k&&k.length)&&this.trigger("sort",this,e)}return r?t[0]:t},reset:function(t,e){e||(e={});for(var r=0,i=this.models.length;i>r;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return a.apply(this.models,arguments)},get:function(t){return null==t?void 0:this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){t=t?n.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e(r,n,t),r.trigger("sync",r,n,t)},O(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var r=this,i=e.success;return e.success=function(t,n){e.wait&&r.add(t,e),i&&i(t,n,e)},t.save(null,e),t},parse:function(t){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof f)return t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_addReference:function(t){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(t){p.prototype[t]=function(){var e=a.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(t){p.prototype[t]=function(e,r){var i=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,i,r)}});var b=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(b.prototype,s,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[t[e]]),r){var i=e.match(_),o=i[1],a=i[2];r=n.bind(r,this),o+=".delegateEvents"+this.cid,""===a?this.$el.on(o,r):this.$el.on(o,a,r)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className"));var r=e.$("<"+n.result(this,"tagName")+">").attr(t);this.setElement(r,!1)}}}),e.sync=function(t,r,i){var o=k[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||P()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var s=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",o),s?s.apply(this,arguments):void 0}}"GET"===a.type||i.emulateJSON||(a.processData=!1),"PATCH"===a.type&&w&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=i.xhr=e.ajax(n.extend(a,i));return r.trigger("request",r,u,i),u};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var C=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,M=/(\(\?)?:\w+/g,T=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,s,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,function(n){var a=o._extractParameters(t,n);o.execute(i,a),o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),e.history.trigger("route",o,r,a)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(A,"\\$&").replace(S,"(?:$1)?").replace(M,function(t,e){return e?t:"([^/?]+)"}).replace(T,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var E=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,F=/msie [\w.]+/,z=/\/$/,D=/#.*$/;E.started=!1,n.extend(E.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(z,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(L,"")},start:function(t){if(E.started)throw new Error("Backbone.history has already been started");E.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,o=F.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);if(this.root=("/"+this.root+"/").replace(N,"/"),o&&this._wantsHashChange){var a=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var s=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&s.hash&&(this.fragment=this.getHash().replace(L,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),E.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(){var t=this.getFragment();return t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment?!1:(this.iframe&&this.navigate(t),void this.loadUrl())},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})},navigate:function(t,e){if(!E.started)return!1;e&&e!==!0||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(D,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new E;var j=function(t,e){var r,i=this;r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,t&&n.extend(r.prototype,t),r.__super__=i.prototype,r};f.extend=p.extend=C.extend=b.extend=E.extend=j;var P=function(){throw new Error('A "url" property or function must be specified')},O=function(t,e){var n=e.error;e.error=function(r){n&&n(t,r,e),t.trigger("error",t,r,e)}};return e}),function(t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else{if("function"==typeof define&&define.amd)return define([],t);this.CodeMirror=t()}}(function(){"use strict";function t(n,r){if(!(this instanceof t))return new t(n,r);this.options=r=r?Co(r):{},Co(Ha,r,!1),d(r);var i=r.value;"string"==typeof i&&(i=new ls(i,r.mode)),this.doc=i;var o=this.display=new e(n,i);o.wrapper.CodeMirror=this,l(this),s(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!ga&&Nn(this),v(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new vo,keySeq:null},ia&&11>oa&&setTimeout(So(Ln,this,!0),20),Dn(this),Oo(),on(this),this.curOp.forceUpdate=!0,Oi(this,i),r.autofocus&&!ga||zo()==o.input?setTimeout(So(ir,this),20):or(this);for(var a in Ra)Ra.hasOwnProperty(a)&&Ra[a](this,r[a],qa);w(this);for(var u=0;u<Ba.length;++u)Ba[u](this);sn(this)}function e(t,e){var n=this,r=n.input=Eo("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");aa?r.style.width="1000px":r.setAttribute("wrap","off"),pa&&(r.style.border="1px solid black"),r.setAttribute("autocorrect","off"),r.setAttribute("autocapitalize","off"),r.setAttribute("spellcheck","false"),n.inputDiv=Eo("div",[r],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),n.scrollbarFiller=Eo("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("not-content","true"),n.gutterFiller=Eo("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("not-content","true"),n.lineDiv=Eo("div",null,"CodeMirror-code"),n.selectionDiv=Eo("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=Eo("div",null,"CodeMirror-cursors"),n.measure=Eo("div",null,"CodeMirror-measure"),n.lineMeasure=Eo("div",null,"CodeMirror-measure"),n.lineSpace=Eo("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=Eo("div",[Eo("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=Eo("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=Eo("div",null,null,"position: absolute; height: "+bs+"px; width: 1px;"),n.gutters=Eo("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=Eo("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=Eo("div",[n.inputDiv,n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),ia&&8>oa&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),pa&&(r.style.width="0px"),aa||(n.scroller.draggable=!0),ha&&(n.inputDiv.style.height="1px",n.inputDiv.style.position="absolute"),t&&(t.appendChild?t.appendChild(n.wrapper):t(n.wrapper)),n.viewFrom=n.viewTo=e.first,n.reportedViewFrom=n.reportedViewTo=e.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.prevInput="",n.alignWidgets=!1,n.pollingFast=!1,n.poll=new vo,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.inaccurateSelection=!1,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null}function n(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),r(e)}function r(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,Ce(t,100),t.state.modeGen++,t.curOp&&_n(t)}function i(t){t.options.lineWrapping?(Ds(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(zs(t.display.wrapper,"CodeMirror-wrap"),f(t)),a(t),_n(t),Be(t),setTimeout(function(){y(t)},100)}function o(t){var e=nn(t.display),n=t.options.lineWrapping,r=n&&Math.max(5,t.display.scroller.clientWidth/rn(t.display)-3);return function(i){if(li(t.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*e:o+e}}function a(t){var e=t.doc,n=o(t);e.iter(function(t){var e=n(t);e!=t.height&&qi(t,e)})}function s(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Be(t)}function u(t){l(t),_n(t),setTimeout(function(){x(t)},20)}function l(t){var e=t.display.gutters,n=t.options.gutters;Lo(e);for(var r=0;r<n.length;++r){var i=n[r],o=e.appendChild(Eo("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(t.display.lineGutter=o,o.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=r?"":"none",c(t)}function c(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function h(t){if(0==t.height)return 0;for(var e,n=t.text.length,r=t;e=ni(r);){var i=e.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=t;e=ri(r);){var i=e.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function f(t){var e=t.display,n=t.doc;e.maxLine=Ii(n,n.first),e.maxLineLength=h(e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var n=h(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}function d(t){var e=xo(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function p(t){var e=t.display,n=e.gutters.offsetWidth,r=Math.round(t.doc.height+Ee(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Ne(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}
}function g(t,e,n){this.cm=n;var r=this.vert=Eo("div",[Eo("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=Eo("div",[Eo("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(r),t(i),gs(r,"scroll",function(){r.clientHeight&&e(r.scrollTop,"vertical")}),gs(i,"scroll",function(){i.clientWidth&&e(i.scrollLeft,"horizontal")}),this.checkedOverlay=!1,ia&&8>oa&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function m(){}function v(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&zs(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new t.scrollbarModel[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),gs(t,"mousedown",function(){e.state.focused&&setTimeout(So(Nn,e),0)}),t.setAttribute("not-content","true")},function(t,n){"horizontal"==n?Xn(e,t):Qn(e,t)},e),e.display.scrollbars.addClass&&Ds(e.display.wrapper,e.display.scrollbars.addClass)}function y(t,e){e||(e=p(t));var n=t.display.barWidth,r=t.display.barHeight;b(t,e);for(var i=0;4>i&&n!=t.display.barWidth||r!=t.display.barHeight;i++)n!=t.display.barWidth&&t.options.lineWrapping&&N(t),b(t,p(t)),n=t.display.barWidth,r=t.display.barHeight}function b(t,e){var n=t.display,r=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}function _(t,e,n){var r=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;r=Math.floor(r-Ae(t));var i=n&&null!=n.bottom?n.bottom:r+t.wrapper.clientHeight,o=Wi(e,r),a=Wi(e,i);if(n&&n.ensure){var s=n.ensure.from.line,u=n.ensure.to.line;o>s?(o=s,a=Wi(e,Ui(Ii(e,s))+t.wrapper.clientHeight)):Math.min(u,e.lastLine())>=a&&(o=Wi(e,Ui(Ii(e,u))-t.wrapper.clientHeight),a=u)}return{from:o,to:Math.max(a,o+1)}}function x(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=C(e)-e.scroller.scrollLeft+t.doc.scrollLeft,i=e.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){t.options.fixedGutter&&n[a].gutter&&(n[a].gutter.style.left=o);var s=n[a].alignable;if(s)for(var u=0;u<s.length;u++)s[u].style.left=o}t.options.fixedGutter&&(e.gutters.style.left=r+i+"px")}}function w(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=k(t.options,e.first+e.size-1),r=t.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(Eo("div",[Eo("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a),r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",c(t),!0}return!1}function k(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function C(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function S(t,e,n){var r=t.display;this.viewport=e,this.visible=_(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Fe(t),this.force=n,this.dims=z(t)}function M(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=Ne(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=Ne(t)+"px",e.scrollbarsClipped=!0)}function T(t,e){var n=t.display,r=t.doc;if(e.editorIsHidden)return wn(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Mn(t))return!1;w(t)&&(wn(t),e.dims=z(t));var i=r.first+r.size,o=Math.max(e.visible.from-t.options.viewportMargin,r.first),a=Math.min(i,e.visible.to+t.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),wa&&(o=si(t.doc,o),a=ui(t.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;Sn(t,o,a),n.viewOffset=Ui(Ii(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var u=Mn(t);if(!s&&0==u&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var l=zo();return u>4&&(n.lineDiv.style.display="none"),D(t,n.updateLineNumbers,e.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,l&&zo()!=l&&l.offsetHeight&&l.focus(),Lo(n.cursorDiv),Lo(n.selectionDiv),n.heightForcer.style.top=n.gutters.style.height=0,s&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,Ce(t,400)),n.updateLineNumbers=null,!0}function A(t,e){for(var n=e.force,r=e.viewport,i=!0;;i=!1){if(i&&t.options.lineWrapping&&e.oldDisplayWidth!=Fe(t))n=!0;else if(n=!1,r&&null!=r.top&&(r={top:Math.min(t.doc.height+Ee(t.display)-ze(t),r.top)}),e.visible=_(t.display,t.doc,r),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break;if(!T(t,e))break;N(t);var o=p(t);_e(t),L(t,o),y(t,o)}co(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(co(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function E(t,e){var n=new S(t,e);if(T(t,n)){N(t),A(t,n);var r=p(t);_e(t),L(t,r),y(t,r)}}function L(t,e){t.display.sizer.style.minHeight=e.docHeight+"px";var n=e.docHeight+Ne(t);t.display.heightForcer.style.top=n+"px",t.display.gutters.style.height=Math.max(n,e.clientHeight)+"px"}function N(t){for(var e=t.display,n=e.lineDiv.offsetTop,r=0;r<e.view.length;r++){var i,o=e.view[r];if(!o.hidden){if(ia&&8>oa){var a=o.node.offsetTop+o.node.offsetHeight;i=a-n,n=a}else{var s=o.node.getBoundingClientRect();i=s.bottom-s.top}var u=o.line.height-i;if(2>i&&(i=nn(e)),(u>.001||-.001>u)&&(qi(o.line,i),F(o.line),o.rest))for(var l=0;l<o.rest.length;l++)F(o.rest[l])}}}function F(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.offsetHeight}function z(t){for(var e=t.display,n={},r={},i=e.gutters.clientLeft,o=e.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[t.options.gutters[a]]=o.offsetLeft+o.clientLeft+i,r[t.options.gutters[a]]=o.clientWidth;return{fixedPos:C(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function D(t,e,n){function r(e){var n=e.nextSibling;return aa&&ma&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var i=t.display,o=t.options.lineNumbers,a=i.lineDiv,s=a.firstChild,u=i.view,l=i.viewFrom,c=0;c<u.length;c++){var h=u[c];if(h.hidden);else if(h.node){for(;s!=h.node;)s=r(s);var f=o&&null!=e&&l>=e&&h.lineNumber;h.changes&&(xo(h.changes,"gutter")>-1&&(f=!1),j(t,h,l,n)),f&&(Lo(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(k(t.options,l)))),s=h.node.nextSibling}else{var d=W(t,h,l,n);a.insertBefore(d,s)}l+=h.size}for(;s;)s=r(s)}function j(t,e,n,r){for(var i=0;i<e.changes.length;i++){var o=e.changes[i];"text"==o?H(t,e):"gutter"==o?q(t,e,n,r):"class"==o?R(e):"widget"==o&&$(e,r)}e.changes=null}function P(t){return t.node==t.text&&(t.node=Eo("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),ia&&8>oa&&(t.node.style.zIndex=2)),t.node}function O(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var n=P(t);t.background=n.insertBefore(Eo("div",null,e),n.firstChild)}}function I(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Si(t,e)}function H(t,e){var n=e.text.className,r=I(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,R(e)):n&&(e.text.className=n)}function R(t){O(t),t.line.wrapClass?P(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function q(t,e,n,r){e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null);var i=e.line.gutterMarkers;if(t.options.lineNumbers||i){var o=P(e),a=e.gutter=o.insertBefore(Eo("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.text);if(e.line.gutterClass&&(a.className+=" "+e.line.gutterClass),!t.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(e.lineNumber=a.appendChild(Eo("div",k(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),i)for(var s=0;s<t.options.gutters.length;++s){var u=t.options.gutters[s],l=i.hasOwnProperty(u)&&i[u];l&&a.appendChild(Eo("div",[l],"CodeMirror-gutter-elt","left: "+r.gutterLeft[u]+"px; width: "+r.gutterWidth[u]+"px"))}}}function $(t,e){t.alignable&&(t.alignable=null);for(var n,r=t.node.firstChild;r;r=n){var n=r.nextSibling;"CodeMirror-linewidget"==r.className&&t.node.removeChild(r)}U(t,e)}function W(t,e,n,r){var i=I(t,e);return e.text=e.node=i.pre,i.bgClass&&(e.bgClass=i.bgClass),i.textClass&&(e.textClass=i.textClass),R(e),q(t,e,n,r),U(e,r),e.node}function U(t,e){if(B(t.line,t,e,!0),t.rest)for(var n=0;n<t.rest.length;n++)B(t.rest[n],t,e,!1)}function B(t,e,n,r){if(t.widgets)for(var i=P(e),o=0,a=t.widgets;o<a.length;++o){var s=a[o],u=Eo("div",[s.node],"CodeMirror-linewidget");s.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),Q(s,u,e,n),r&&s.above?i.insertBefore(u,e.gutter||e.text):i.appendChild(u),co(s,"redraw")}}function Q(t,e,n,r){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var i=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(i-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=i+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function X(t){return ka(t.line,t.ch)}function V(t,e){return Ca(t,e)<0?e:t}function Y(t,e){return Ca(t,e)<0?t:e}function Z(t,e){this.ranges=t,this.primIndex=e}function G(t,e){this.anchor=t,this.head=e}function K(t,e){var n=t[e];t.sort(function(t,e){return Ca(t.from(),e.from())}),e=xo(t,n);for(var r=1;r<t.length;r++){var i=t[r],o=t[r-1];if(Ca(o.to(),i.from())>=0){var a=Y(o.from(),i.from()),s=V(o.to(),i.to()),u=o.empty()?i.from()==i.head:o.from()==o.head;e>=r&&--e,t.splice(--r,2,new G(u?s:a,u?a:s))}}return new Z(t,e)}function J(t,e){return new Z([new G(t,e||t)],0)}function te(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function ee(t,e){if(e.line<t.first)return ka(t.first,0);var n=t.first+t.size-1;return e.line>n?ka(n,Ii(t,n).text.length):ne(e,Ii(t,e.line).text.length)}function ne(t,e){var n=t.ch;return null==n||n>e?ka(t.line,e):0>n?ka(t.line,0):t}function re(t,e){return e>=t.first&&e<t.first+t.size}function ie(t,e){for(var n=[],r=0;r<e.length;r++)n[r]=ee(t,e[r]);return n}function oe(t,e,n,r){if(t.cm&&t.cm.display.shift||t.extend){var i=e.anchor;if(r){var o=Ca(n,i)<0;o!=Ca(r,i)<0?(i=n,n=r):o!=Ca(n,r)<0&&(n=r)}return new G(i,n)}return new G(r||n,n)}function ae(t,e,n,r){fe(t,new Z([oe(t,t.sel.primary(),e,n)],0),r)}function se(t,e,n){for(var r=[],i=0;i<t.sel.ranges.length;i++)r[i]=oe(t,t.sel.ranges[i],e[i],null);var o=K(r,t.sel.primIndex);fe(t,o,n)}function ue(t,e,n,r){var i=t.sel.ranges.slice(0);i[e]=n,fe(t,K(i,t.sel.primIndex),r)}function le(t,e,n,r){fe(t,J(e,n),r)}function ce(t,e){var n={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new G(ee(t,e[n].anchor),ee(t,e[n].head))}};return vs(t,"beforeSelectionChange",t,n),t.cm&&vs(t.cm,"beforeSelectionChange",t.cm,n),n.ranges!=e.ranges?K(n.ranges,n.ranges.length-1):e}function he(t,e,n){var r=t.history.done,i=_o(r);i&&i.ranges?(r[r.length-1]=e,de(t,e,n)):fe(t,e,n)}function fe(t,e,n){de(t,e,n),Ki(t,t.sel,t.cm?t.cm.curOp.id:0/0,n)}function de(t,e,n){(go(t,"beforeSelectionChange")||t.cm&&go(t.cm,"beforeSelectionChange"))&&(e=ce(t,e));var r=n&&n.bias||(Ca(e.primary().head,t.sel.primary().head)<0?-1:1);pe(t,me(t,e,r,!0)),n&&n.scroll===!1||!t.cm||Sr(t.cm)}function pe(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,po(t.cm)),co(t,"cursorActivity",t))}function ge(t){pe(t,me(t,t.sel,null,!1),xs)}function me(t,e,n,r){for(var i,o=0;o<e.ranges.length;o++){var a=e.ranges[o],s=ve(t,a.anchor,n,r),u=ve(t,a.head,n,r);(i||s!=a.anchor||u!=a.head)&&(i||(i=e.ranges.slice(0,o)),i[o]=new G(s,u))}return i?K(i,e.primIndex):e}function ve(t,e,n,r){var i=!1,o=e,a=n||1;t.cantEdit=!1;t:for(;;){var s=Ii(t,o.line);if(s.markedSpans)for(var u=0;u<s.markedSpans.length;++u){var l=s.markedSpans[u],c=l.marker;if((null==l.from||(c.inclusiveLeft?l.from<=o.ch:l.from<o.ch))&&(null==l.to||(c.inclusiveRight?l.to>=o.ch:l.to>o.ch))){if(r&&(vs(c,"beforeCursorEnter"),c.explicitlyCleared)){if(s.markedSpans){--u;continue}break}if(!c.atomic)continue;var h=c.find(0>a?-1:1);if(0==Ca(h,o)&&(h.ch+=a,h.ch<0?h=h.line>t.first?ee(t,ka(h.line-1)):null:h.ch>s.text.length&&(h=h.line<t.first+t.size-1?ka(h.line+1,0):null),!h)){if(i)return r?(t.cantEdit=!0,ka(t.first,0)):ve(t,e,n,!0);i=!0,h=e,a=-a}o=h;continue t}}return o}}function ye(t){for(var e=t.display,n=t.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++){var s=n.sel.ranges[a],u=s.empty();(u||t.options.showCursorWhenSelecting)&&xe(t,s,i),u||we(t,s,o)}if(t.options.moveInputWithCursor){var l=Ge(t,n.sel.primary().head,"div"),c=e.wrapper.getBoundingClientRect(),h=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,l.top+h.top-c.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,l.left+h.left-c.left))}return r}function be(t,e){No(t.display.cursorDiv,e.cursors),No(t.display.selectionDiv,e.selection),null!=e.teTop&&(t.display.inputDiv.style.top=e.teTop+"px",t.display.inputDiv.style.left=e.teLeft+"px")}function _e(t){be(t,ye(t))}function xe(t,e,n){var r=Ge(t,e.head,"div",null,null,!t.options.singleCursorHeightPerLine),i=n.appendChild(Eo("div","","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var o=n.appendChild(Eo("div","","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function we(t,e,n){function r(t,e,n,r){0>e&&(e=0),e=Math.round(e),r=Math.round(r),s.appendChild(Eo("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==n?c-t:n)+"px; height: "+(r-e)+"px"))}function i(e,n,i){function o(n,r){return Ze(t,ka(e,n),"div",h,r)}var s,u,h=Ii(a,e),f=h.text.length;return $o(Bi(h),n||0,null==i?f:i,function(t,e,a){var h,d,p,g=o(t,"left");if(t==e)h=g,d=p=g.left;else{if(h=o(e-1,"right"),"rtl"==a){var m=g;g=h,h=m}d=g.left,p=h.right}null==n&&0==t&&(d=l),h.top-g.top>3&&(r(d,g.top,null,g.bottom),d=l,g.bottom<h.top&&r(d,g.bottom,null,h.top)),null==i&&e==f&&(p=c),(!s||g.top<s.top||g.top==s.top&&g.left<s.left)&&(s=g),(!u||h.bottom>u.bottom||h.bottom==u.bottom&&h.right>u.right)&&(u=h),l+1>d&&(d=l),r(d,h.top,p-d,h.bottom)}),{start:s,end:u}}var o=t.display,a=t.doc,s=document.createDocumentFragment(),u=Le(t.display),l=u.left,c=Math.max(o.sizerWidth,Fe(t)-o.sizer.offsetLeft)-u.right,h=e.from(),f=e.to();if(h.line==f.line)i(h.line,h.ch,f.ch);else{var d=Ii(a,h.line),p=Ii(a,f.line),g=oi(d)==oi(p),m=i(h.line,h.ch,g?d.text.length+1:null).end,v=i(f.line,g?0:null,f.ch).start;g&&(m.top<v.top-2?(r(m.right,m.top,null,m.bottom),r(l,v.top,v.left,v.bottom)):r(m.right,m.top,v.left-m.right,m.bottom)),m.bottom<v.top&&r(l,m.bottom,null,v.top)}n.appendChild(s)}function ke(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Ce(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,So(Se,t))}function Se(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,r=Xa(e.mode,Te(t,e.frontier)),i=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),function(o){if(e.frontier>=t.display.viewFrom){var a=o.styles,s=xi(t,o,r,!0);o.styles=s.styles;var u=o.styleClasses,l=s.classes;l?o.styleClasses=l:u&&(o.styleClasses=null);for(var c=!a||a.length!=o.styles.length||u!=l&&(!u||!l||u.bgClass!=l.bgClass||u.textClass!=l.textClass),h=0;!c&&h<a.length;++h)c=a[h]!=o.styles[h];c&&i.push(e.frontier),o.stateAfter=Xa(e.mode,r)}else ki(t,o.text,r),o.stateAfter=e.frontier%5==0?Xa(e.mode,r):null;return++e.frontier,+new Date>n?(Ce(t,t.options.workDelay),!0):void 0}),i.length&&pn(t,function(){for(var e=0;e<i.length;e++)xn(t,i[e],"text")})}}function Me(t,e,n){for(var r,i,o=t.doc,a=n?-1:e-(t.doc.mode.innerMode?1e3:100),s=e;s>a;--s){if(s<=o.first)return o.first;var u=Ii(o,s-1);if(u.stateAfter&&(!n||s<=o.frontier))return s;var l=Cs(u.text,null,t.options.tabSize);(null==i||r>l)&&(i=s-1,r=l)}return i}function Te(t,e,n){var r=t.doc,i=t.display;if(!r.mode.startState)return!0;var o=Me(t,e,n),a=o>r.first&&Ii(r,o-1).stateAfter;return a=a?Xa(r.mode,a):Va(r.mode),r.iter(o,e,function(n){ki(t,n.text,a);var s=o==e-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;n.stateAfter=s?Xa(r.mode,a):null,++o}),n&&(r.frontier=o),a}function Ae(t){return t.lineSpace.offsetTop}function Ee(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Le(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=No(t.measure,Eo("pre","x")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function Ne(t){return bs-t.display.nativeBarWidth}function Fe(t){return t.display.scroller.clientWidth-Ne(t)-t.display.barWidth}function ze(t){return t.display.scroller.clientHeight-Ne(t)-t.display.barHeight}function De(t,e,n){var r=t.options.lineWrapping,i=r&&Fe(t);if(!e.measure.heights||r&&e.measure.width!=i){var o=e.measure.heights=[];if(r){e.measure.width=i;for(var a=e.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var u=a[s],l=a[s+1];Math.abs(u.bottom-l.bottom)>2&&o.push((u.bottom+l.top)/2-n.top)}}o.push(n.bottom-n.top)}}function je(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var r=0;r<t.rest.length;r++)if($i(t.rest[r])>n)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}function Pe(t,e){e=oi(e);var n=$i(e),r=t.display.externalMeasured=new yn(t.doc,e,n);r.lineN=n;var i=r.built=Si(t,r);return r.text=i.pre,No(t.display.lineMeasure,i.pre),r}function Oe(t,e,n,r){return Re(t,He(t,e),n,r)}function Ie(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[kn(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function He(t,e){var n=$i(e),r=Ie(t,n);r&&!r.text?r=null:r&&r.changes&&j(t,r,n,z(t)),r||(r=Pe(t,e));var i=je(r,e,n);return{line:e,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Re(t,e,n,r,i){e.before&&(n=-1);var o,a=n+(r||"");return e.cache.hasOwnProperty(a)?o=e.cache[a]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(De(t,e.view,e.rect),e.hasHeights=!0),o=qe(t,e,n,r),o.bogus||(e.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function qe(t,e,n,r){for(var i,o,a,s,u=e.map,l=0;l<u.length;l+=3){var c=u[l],h=u[l+1];if(c>n?(o=0,a=1,s="left"):h>n?(o=n-c,a=o+1):(l==u.length-3||n==h&&u[l+3]>n)&&(a=h-c,o=a-1,n>=h&&(s="right")),null!=o){if(i=u[l+2],c==h&&r==(i.insertLeft?"left":"right")&&(s=r),"left"==r&&0==o)for(;l&&u[l-2]==u[l-3]&&u[l-1].insertLeft;)i=u[(l-=3)+2],s="left";if("right"==r&&o==h-c)for(;l<u.length-3&&u[l+3]==u[l+4]&&!u[l+5].insertLeft;)i=u[(l+=3)+2],s="right";break}}var f;if(3==i.nodeType){for(var l=0;4>l;l++){for(;o&&Ao(e.line.text.charAt(c+o));)--o;for(;h>c+a&&Ao(e.line.text.charAt(c+a));)++a;if(ia&&9>oa&&0==o&&a==h-c)f=i.parentNode.getBoundingClientRect();else if(ia&&t.options.lineWrapping){var d=Ts(i,o,a).getClientRects();f=d.length?d["right"==r?d.length-1:0]:Aa}else f=Ts(i,o,a).getBoundingClientRect()||Aa;if(f.left||f.right||0==o)break;a=o,o-=1,s="right"}ia&&11>oa&&(f=$e(t.display.measure,f))}else{o>0&&(s=r="right");var d;f=t.options.lineWrapping&&(d=i.getClientRects()).length>1?d["right"==r?d.length-1:0]:i.getBoundingClientRect()}if(ia&&9>oa&&!o&&(!f||!f.left&&!f.right)){var p=i.parentNode.getClientRects()[0];f=p?{left:p.left,right:p.left+rn(t.display),top:p.top,bottom:p.bottom}:Aa}for(var g=f.top-e.rect.top,m=f.bottom-e.rect.top,v=(g+m)/2,y=e.view.measure.heights,l=0;l<y.length-1&&!(v<y[l]);l++);var b=l?y[l-1]:0,_=y[l],x={left:("right"==s?f.right:f.left)-e.rect.left,right:("left"==s?f.left:f.right)-e.rect.left,top:b,bottom:_};return f.left||f.right||(x.bogus=!0),t.options.singleCursorHeightPerLine||(x.rtop=g,x.rbottom=m),x}function $e(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!qo(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*r,bottom:e.bottom*r}}function We(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Ue(t){t.display.externalMeasure=null,Lo(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)We(t.display.view[e])}function Be(t){Ue(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Qe(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Xe(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ve(t,e,n,r){if(e.widgets)for(var i=0;i<e.widgets.length;++i)if(e.widgets[i].above){var o=fi(e.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=Ui(e);if("local"==r?a+=Ae(t.display):a-=t.display.viewOffset,"page"==r||"window"==r){var s=t.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:Xe());var u=s.left+("window"==r?0:Qe());n.left+=u,n.right+=u}return n.top+=a,n.bottom+=a,n}function Ye(t,e,n){if("div"==n)return e;var r=e.left,i=e.top;if("page"==n)r-=Qe(),i-=Xe();else if("local"==n||!n){var o=t.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=t.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function Ze(t,e,n,r,i){return r||(r=Ii(t.doc,e.line)),Ve(t,r,Oe(t,r,e.ch,i),n)}function Ge(t,e,n,r,i,o){function a(e,a){var s=Re(t,i,e,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,Ve(t,r,s,n)}function s(t,e){var n=u[e],r=n.level%2;return t==Wo(n)&&e&&n.level<u[e-1].level?(n=u[--e],t=Uo(n)-(n.level%2?0:1),r=!0):t==Uo(n)&&e<u.length-1&&n.level<u[e+1].level&&(n=u[++e],t=Wo(n)-n.level%2,r=!1),r&&t==n.to&&t>n.from?a(t-1):a(t,r)}r=r||Ii(t.doc,e.line),i||(i=He(t,r));var u=Bi(r),l=e.ch;if(!u)return a(l);var c=Go(u,l),h=s(l,c);return null!=$s&&(h.other=s(l,$s)),h}function Ke(t,e){var n=0,e=ee(t.doc,e);t.options.lineWrapping||(n=rn(t.display)*e.ch);var r=Ii(t.doc,e.line),i=Ui(r)+Ae(t.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Je(t,e,n,r){var i=ka(t,e);return i.xRel=r,n&&(i.outside=!0),i}function tn(t,e,n){var r=t.doc;if(n+=t.display.viewOffset,0>n)return Je(r.first,0,!0,-1);var i=Wi(r,n),o=r.first+r.size-1;if(i>o)return Je(r.first+r.size-1,Ii(r,o).text.length,!0,1);0>e&&(e=0);for(var a=Ii(r,i);;){var s=en(t,a,i,e,n),u=ri(a),l=u&&u.find(0,!0);if(!u||!(s.ch>l.from.ch||s.ch==l.from.ch&&s.xRel>0))return s;i=$i(a=l.to.line)}}function en(t,e,n,r,i){function o(r){var i=Ge(t,ka(n,r),"line",e,l);return s=!0,a>i.bottom?i.left-u:a<i.top?i.left+u:(s=!1,i.left)}var a=i-Ui(e),s=!1,u=2*t.display.wrapper.clientWidth,l=He(t,e),c=Bi(e),h=e.text.length,f=Bo(e),d=Qo(e),p=o(f),g=s,m=o(d),v=s;if(r>m)return Je(n,d,v,1);for(;;){if(c?d==f||d==Jo(e,f,1):1>=d-f){for(var y=p>r||m-r>=r-p?f:d,b=r-(y==f?p:m);Ao(e.text.charAt(y));)++y;var _=Je(n,y,y==f?g:v,-1>b?-1:b>1?1:0);return _}var x=Math.ceil(h/2),w=f+x;if(c){w=f;for(var k=0;x>k;++k)w=Jo(e,w,1)}var C=o(w);C>r?(d=w,m=C,(v=s)&&(m+=1e3),h=x):(f=w,p=C,g=s,h-=x)}}function nn(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Sa){Sa=Eo("pre");for(var e=0;49>e;++e)Sa.appendChild(document.createTextNode("x")),Sa.appendChild(Eo("br"));Sa.appendChild(document.createTextNode("x"))}No(t.measure,Sa);var n=Sa.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),Lo(t.measure),n||1}function rn(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=Eo("span","xxxxxxxxxx"),n=Eo("pre",[e]);No(t.measure,n);var r=e.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(t.cachedCharWidth=i),i||10}function on(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++La},Ea?Ea.ops.push(t.curOp):t.curOp.ownsGroup=Ea={ops:[t.curOp],delayedCallbacks:[]}}function an(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n]();for(var r=0;r<t.ops.length;r++){var i=t.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++](i.cm)}}while(n<e.length)}function sn(t){var e=t.curOp,n=e.ownsGroup;if(n)try{an(n)}finally{Ea=null;for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;un(n)}}function un(t){for(var e=t.ops,n=0;n<e.length;n++)ln(e[n]);for(var n=0;n<e.length;n++)cn(e[n]);for(var n=0;n<e.length;n++)hn(e[n]);for(var n=0;n<e.length;n++)fn(e[n]);for(var n=0;n<e.length;n++)dn(e[n])}function ln(t){var e=t.cm,n=e.display;M(e),t.updateMaxLine&&f(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new S(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function cn(t){t.updatedDisplay=t.mustUpdate&&T(t.cm,t.update)}function hn(t){var e=t.cm,n=e.display;t.updatedDisplay&&N(e),t.barMeasure=p(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Oe(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+Ne(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Fe(e))),(t.updatedDisplay||t.selectionChanged)&&(t.newSelectionNodes=ye(e))}function fn(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Xn(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1),t.newSelectionNodes&&be(e,t.newSelectionNodes),t.updatedDisplay&&L(e,t.barMeasure),(t.updatedDisplay||t.startHeight!=e.doc.height)&&y(e,t.barMeasure),t.selectionChanged&&ke(e),e.state.focused&&t.updateInput&&Ln(e,t.typing)}function dn(t){var e=t.cm,n=e.display,r=e.doc;if(t.updatedDisplay&&A(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==t.scrollTop||n.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(r.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,t.scrollTop)),n.scrollbars.setScrollTop(r.scrollTop),n.scroller.scrollTop=r.scrollTop),null==t.scrollLeft||n.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(r.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-Fe(e),t.scrollLeft)),n.scrollbars.setScrollLeft(r.scrollLeft),n.scroller.scrollLeft=r.scrollLeft,x(e)),t.scrollToPos){var i=xr(e,ee(r,t.scrollToPos.from),ee(r,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&_r(e,i)}var o=t.maybeHiddenMarkers,a=t.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||vs(o[s],"hide");if(a)for(var s=0;s<a.length;++s)a[s].lines.length&&vs(a[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&vs(e,"changes",e,t.changeObjs)}function pn(t,e){if(t.curOp)return e();on(t);try{return e()}finally{sn(t)}}function gn(t,e){return function(){if(t.curOp)return e.apply(t,arguments);on(t);try{return e.apply(t,arguments)}finally{sn(t)}}}function mn(t){return function(){if(this.curOp)return t.apply(this,arguments);on(this);try{return t.apply(this,arguments)}finally{sn(this)}}}function vn(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);on(e);try{return t.apply(this,arguments)}finally{sn(e)}}}function yn(t,e,n){this.line=e,this.rest=ai(e),this.size=this.rest?$i(_o(this.rest))-n+1:1,this.node=this.text=null,this.hidden=li(t,e)}function bn(t,e,n){for(var r,i=[],o=e;n>o;o=r){var a=new yn(t.doc,Ii(t.doc,o),o);r=o+a.size,i.push(a)}return i}function _n(t,e,n,r){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),r||(r=0);var i=t.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>e)&&(i.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=i.viewTo)wa&&si(t.doc,e)<i.viewTo&&wn(t);else if(n<=i.viewFrom)wa&&ui(t.doc,n+r)>i.viewFrom?wn(t):(i.viewFrom+=r,i.viewTo+=r);else if(e<=i.viewFrom&&n>=i.viewTo)wn(t);else if(e<=i.viewFrom){var o=Cn(t,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):wn(t)}else if(n>=i.viewTo){var o=Cn(t,e,e,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):wn(t)}else{var a=Cn(t,e,e,-1),s=Cn(t,n,n+r,1);a&&s?(i.view=i.view.slice(0,a.index).concat(bn(t,a.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):wn(t)}var u=i.externalMeasured;u&&(n<u.lineN?u.lineN+=r:e<u.lineN+u.size&&(i.externalMeasured=null))}function xn(t,e,n){t.curOp.viewChanged=!0;var r=t.display,i=t.display.externalMeasured;if(i&&e>=i.lineN&&e<i.lineN+i.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var o=r.view[kn(t,e)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==xo(a,n)&&a.push(n)}}}function wn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function kn(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,0>e)return null;for(var n=t.display.view,r=0;r<n.length;r++)if(e-=n[r].size,0>e)return r}function Cn(t,e,n,r){var i,o=kn(t,e),a=t.display.view;if(!wa||n==t.doc.first+t.doc.size)return{index:o,lineN:n};for(var s=0,u=t.display.viewFrom;o>s;s++)u+=a[s].size;if(u!=e){if(r>0){if(o==a.length-1)return null;i=u+a[o].size-e,o++}else i=u-e;e+=i,n+=i}for(;si(t.doc,n)!=n;){if(o==(0>r?0:a.length-1))return null;n+=r*a[o-(0>r?1:0)].size,o+=r}return{index:o,lineN:n}}function Sn(t,e,n){var r=t.display,i=r.view;0==i.length||e>=r.viewTo||n<=r.viewFrom?(r.view=bn(t,e,n),r.viewFrom=e):(r.viewFrom>e?r.view=bn(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(kn(t,e))),r.viewFrom=e,r.viewTo<n?r.view=r.view.concat(bn(t,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,kn(t,n)))),r.viewTo=n
}function Mn(t){for(var e=t.display.view,n=0,r=0;r<e.length;r++){var i=e[r];i.hidden||i.node&&!i.changes||++n}return n}function Tn(t){t.display.pollingFast||t.display.poll.set(t.options.pollInterval,function(){En(t),t.state.focused&&Tn(t)})}function An(t){function e(){var r=En(t);r||n?(t.display.pollingFast=!1,Tn(t)):(n=!0,t.display.poll.set(60,e))}var n=!1;t.display.pollingFast=!0,t.display.poll.set(20,e)}function En(t){var e=t.display.input,n=t.display.prevInput,r=t.doc;if(!t.state.focused||Is(e)&&!n||zn(t)||t.options.disableInput||t.state.keySeq)return!1;t.state.pasteIncoming&&t.state.fakedLastChar&&(e.value=e.value.substring(0,e.value.length-1),t.state.fakedLastChar=!1);var i=e.value;if(i==n&&!t.somethingSelected())return!1;if(ia&&oa>=9&&t.display.inputHasSelection===i||ma&&/[\uf700-\uf7ff]/.test(i))return Ln(t),!1;var o=!t.curOp;o&&on(t),t.display.shift=!1,8203!=i.charCodeAt(0)||r.sel!=t.display.selForContextMenu||n||(n="");for(var a=0,s=Math.min(n.length,i.length);s>a&&n.charCodeAt(a)==i.charCodeAt(a);)++a;var u=i.slice(a),l=Os(u),c=null;t.state.pasteIncoming&&r.sel.ranges.length>1&&(Na&&Na.join("\n")==u?c=r.sel.ranges.length%Na.length==0&&wo(Na,Os):l.length==r.sel.ranges.length&&(c=wo(l,function(t){return[t]})));for(var h=r.sel.ranges.length-1;h>=0;h--){var f=r.sel.ranges[h],d=f.from(),p=f.to();a<n.length?d=ka(d.line,d.ch-(n.length-a)):t.state.overwrite&&f.empty()&&!t.state.pasteIncoming&&(p=ka(p.line,Math.min(Ii(r,p.line).text.length,p.ch+_o(l).length)));var g=t.curOp.updateInput,m={from:d,to:p,text:c?c[h%c.length]:l,origin:t.state.pasteIncoming?"paste":t.state.cutIncoming?"cut":"+input"};if(dr(t.doc,m),co(t,"inputRead",t,m),u&&!t.state.pasteIncoming&&t.options.electricChars&&t.options.smartIndent&&f.head.ch<100&&(!h||r.sel.ranges[h-1].head.line!=f.head.line)){var v=t.getModeAt(f.head),y=Ia(m);if(v.electricChars){for(var b=0;b<v.electricChars.length;b++)if(u.indexOf(v.electricChars.charAt(b))>-1){Tr(t,y.line,"smart");break}}else v.electricInput&&v.electricInput.test(Ii(r,y.line).text.slice(0,y.ch))&&Tr(t,y.line,"smart")}}return Sr(t),t.curOp.updateInput=g,t.curOp.typing=!0,i.length>1e3||i.indexOf("\n")>-1?e.value=t.display.prevInput="":t.display.prevInput=i,o&&sn(t),t.state.pasteIncoming=t.state.cutIncoming=!1,!0}function Ln(t,e){if(!t.display.contextMenuPending){var n,r,i=t.doc;if(t.somethingSelected()){t.display.prevInput="";var o=i.sel.primary();n=Hs&&(o.to().line-o.from().line>100||(r=t.getSelection()).length>1e3);var a=n?"-":r||t.getSelection();t.display.input.value=a,t.state.focused&&Ms(t.display.input),ia&&oa>=9&&(t.display.inputHasSelection=a)}else e||(t.display.prevInput=t.display.input.value="",ia&&oa>=9&&(t.display.inputHasSelection=null));t.display.inaccurateSelection=n}}function Nn(t){"nocursor"==t.options.readOnly||ga&&zo()==t.display.input||t.display.input.focus()}function Fn(t){t.state.focused||(Nn(t),ir(t))}function zn(t){return t.options.readOnly||t.doc.cantEdit}function Dn(t){function e(e){fo(t,e)||ps(e)}function n(e){if(t.somethingSelected())Na=t.getSelections(),r.inaccurateSelection&&(r.prevInput="",r.inaccurateSelection=!1,r.input.value=Na.join("\n"),Ms(r.input));else{for(var n=[],i=[],o=0;o<t.doc.sel.ranges.length;o++){var a=t.doc.sel.ranges[o].head.line,s={anchor:ka(a,0),head:ka(a+1,0)};i.push(s),n.push(t.getRange(s.anchor,s.head))}"cut"==e.type?t.setSelections(i,null,xs):(r.prevInput="",r.input.value=n.join("\n"),Ms(r.input)),Na=n}"cut"==e.type&&(t.state.cutIncoming=!0)}var r=t.display;gs(r.scroller,"mousedown",gn(t,In)),ia&&11>oa?gs(r.scroller,"dblclick",gn(t,function(e){if(!fo(t,e)){var n=On(t,e);if(n&&!Wn(t,e)&&!Pn(t.display,e)){fs(e);var r=t.findWordAt(n);ae(t.doc,r.anchor,r.head)}}})):gs(r.scroller,"dblclick",function(e){fo(t,e)||fs(e)}),gs(r.lineSpace,"selectstart",function(t){Pn(r,t)||fs(t)}),_a||gs(r.scroller,"contextmenu",function(e){ar(t,e)}),gs(r.scroller,"scroll",function(){r.scroller.clientHeight&&(Qn(t,r.scroller.scrollTop),Xn(t,r.scroller.scrollLeft,!0),vs(t,"scroll",t))}),gs(r.scroller,"mousewheel",function(e){Vn(t,e)}),gs(r.scroller,"DOMMouseScroll",function(e){Vn(t,e)}),gs(r.wrapper,"scroll",function(){r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),gs(r.input,"keyup",function(e){nr.call(t,e)}),gs(r.input,"input",function(){ia&&oa>=9&&t.display.inputHasSelection&&(t.display.inputHasSelection=null),En(t)}),gs(r.input,"keydown",gn(t,tr)),gs(r.input,"keypress",gn(t,rr)),gs(r.input,"focus",So(ir,t)),gs(r.input,"blur",So(or,t)),t.options.dragDrop&&(gs(r.scroller,"dragstart",function(e){Bn(t,e)}),gs(r.scroller,"dragenter",e),gs(r.scroller,"dragover",e),gs(r.scroller,"drop",gn(t,Un))),gs(r.scroller,"paste",function(e){Pn(r,e)||(t.state.pasteIncoming=!0,Nn(t),An(t))}),gs(r.input,"paste",function(){if(aa&&!t.state.fakedLastChar&&!(new Date-t.state.lastMiddleDown<200)){var e=r.input.selectionStart,n=r.input.selectionEnd;r.input.value+="$",r.input.selectionEnd=n,r.input.selectionStart=e,t.state.fakedLastChar=!0}t.state.pasteIncoming=!0,An(t)}),gs(r.input,"cut",n),gs(r.input,"copy",n),ha&&gs(r.sizer,"mouseup",function(){zo()==r.input&&r.input.blur(),Nn(t)})}function jn(t){var e=t.display;(e.lastWrapHeight!=e.wrapper.clientHeight||e.lastWrapWidth!=e.wrapper.clientWidth)&&(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function Pn(t,e){for(var n=uo(e);n!=t.wrapper;n=n.parentNode)if(!n||"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function On(t,e,n,r){var i=t.display;if(!n&&"true"==uo(e).getAttribute("not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=e.clientX-s.left,a=e.clientY-s.top}catch(e){return null}var u,l=tn(t,o,a);if(r&&1==l.xRel&&(u=Ii(t.doc,l.line).text).length==l.ch){var c=Cs(u,u.length,t.options.tabSize)-u.length;l=ka(l.line,Math.max(0,Math.round((o-Le(t.display).left)/rn(t.display))-c))}return l}function In(t){if(!fo(this,t)){var e=this,n=e.display;if(n.shift=t.shiftKey,Pn(n,t))return void(aa||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Wn(e,t)){var r=On(e,t);switch(window.focus(),lo(t)){case 1:r?Hn(e,t,r):uo(t)==n.scroller&&fs(t);break;case 2:aa&&(e.state.lastMiddleDown=+new Date),r&&ae(e.doc,r),setTimeout(So(Nn,e),20),fs(t);break;case 3:_a&&ar(e,t)}}}}function Hn(t,e,n){setTimeout(So(Fn,t),0);var r,i=+new Date;Ta&&Ta.time>i-400&&0==Ca(Ta.pos,n)?r="triple":Ma&&Ma.time>i-400&&0==Ca(Ma.pos,n)?(r="double",Ta={time:i,pos:n}):(r="single",Ma={time:i,pos:n});var o,a=t.doc.sel,s=ma?e.metaKey:e.ctrlKey;t.options.dragDrop&&Ps&&!zn(t)&&"single"==r&&(o=a.contains(n))>-1&&!a.ranges[o].empty()?Rn(t,e,n,s):qn(t,e,n,r,s)}function Rn(t,e,n,r){var i=t.display,o=gn(t,function(a){aa&&(i.scroller.draggable=!1),t.state.draggingText=!1,ms(document,"mouseup",o),ms(i.scroller,"drop",o),Math.abs(e.clientX-a.clientX)+Math.abs(e.clientY-a.clientY)<10&&(fs(a),r||ae(t.doc,n),Nn(t),ia&&9==oa&&setTimeout(function(){document.body.focus(),Nn(t)},20))});aa&&(i.scroller.draggable=!0),t.state.draggingText=o,i.scroller.dragDrop&&i.scroller.dragDrop(),gs(document,"mouseup",o),gs(i.scroller,"drop",o)}function qn(t,e,n,r,i){function o(e){if(0!=Ca(m,e))if(m=e,"rect"==r){for(var i=[],o=t.options.tabSize,a=Cs(Ii(l,n.line).text,n.ch,o),s=Cs(Ii(l,e.line).text,e.ch,o),u=Math.min(a,s),d=Math.max(a,s),p=Math.min(n.line,e.line),g=Math.min(t.lastLine(),Math.max(n.line,e.line));g>=p;p++){var v=Ii(l,p).text,y=yo(v,u,o);u==d?i.push(new G(ka(p,y),ka(p,y))):v.length>y&&i.push(new G(ka(p,y),ka(p,yo(v,d,o))))}i.length||i.push(new G(n,n)),fe(l,K(f.ranges.slice(0,h).concat(i),h),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var b=c,_=b.anchor,x=e;if("single"!=r){if("double"==r)var w=t.findWordAt(e);else var w=new G(ka(e.line,0),ee(l,ka(e.line+1,0)));Ca(w.anchor,_)>0?(x=w.head,_=Y(b.from(),w.anchor)):(x=w.anchor,_=V(b.to(),w.head))}var i=f.ranges.slice(0);i[h]=new G(ee(l,_),x),fe(l,K(i,h),ws)}}function a(e){var n=++y,i=On(t,e,!0,"rect"==r);if(i)if(0!=Ca(i,m)){Fn(t),o(i);var s=_(u,l);(i.line>=s.to||i.line<s.from)&&setTimeout(gn(t,function(){y==n&&a(e)}),150)}else{var c=e.clientY<v.top?-20:e.clientY>v.bottom?20:0;c&&setTimeout(gn(t,function(){y==n&&(u.scroller.scrollTop+=c,a(e))}),50)}}function s(e){y=1/0,fs(e),Nn(t),ms(document,"mousemove",b),ms(document,"mouseup",x),l.history.lastSelOrigin=null}var u=t.display,l=t.doc;fs(e);var c,h,f=l.sel,d=f.ranges;if(i&&!e.shiftKey?(h=l.sel.contains(n),c=h>-1?d[h]:new G(n,n)):c=l.sel.primary(),e.altKey)r="rect",i||(c=new G(n,n)),n=On(t,e,!0,!0),h=-1;else if("double"==r){var p=t.findWordAt(n);c=t.display.shift||l.extend?oe(l,c,p.anchor,p.head):p}else if("triple"==r){var g=new G(ka(n.line,0),ee(l,ka(n.line+1,0)));c=t.display.shift||l.extend?oe(l,c,g.anchor,g.head):g}else c=oe(l,c,n);i?-1==h?(h=d.length,fe(l,K(d.concat([c]),h),{scroll:!1,origin:"*mouse"})):d.length>1&&d[h].empty()&&"single"==r?(fe(l,K(d.slice(0,h).concat(d.slice(h+1)),0)),f=l.sel):ue(l,h,c,ws):(h=0,fe(l,new Z([c],0),ws),f=l.sel);var m=n,v=u.wrapper.getBoundingClientRect(),y=0,b=gn(t,function(t){lo(t)?a(t):s(t)}),x=gn(t,s);gs(document,"mousemove",b),gs(document,"mouseup",x)}function $n(t,e,n,r,i){try{var o=e.clientX,a=e.clientY}catch(e){return!1}if(o>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&fs(e);var s=t.display,u=s.lineDiv.getBoundingClientRect();if(a>u.bottom||!go(t,n))return so(e);a-=u.top-s.viewOffset;for(var l=0;l<t.options.gutters.length;++l){var c=s.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=o){var h=Wi(t.doc,a),f=t.options.gutters[l];return i(t,n,t,h,f,e),so(e)}}}function Wn(t,e){return $n(t,e,"gutterClick",!0,co)}function Un(t){var e=this;if(!fo(e,t)&&!Pn(e.display,t)){fs(t),ia&&(Fa=+new Date);var n=On(e,t,!0),r=t.dataTransfer.files;if(n&&!zn(e))if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=function(t,r){var s=new FileReader;s.onload=gn(e,function(){if(o[r]=s.result,++a==i){n=ee(e.doc,n);var t={from:n,to:n,text:Os(o.join("\n")),origin:"paste"};dr(e.doc,t),he(e.doc,J(n,Ia(t)))}}),s.readAsText(t)},u=0;i>u;++u)s(r[u],u);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout(So(Nn,e),20);try{var o=t.dataTransfer.getData("Text");if(o){if(e.state.draggingText&&!(ma?t.metaKey:t.ctrlKey))var l=e.listSelections();if(de(e.doc,J(n,n)),l)for(var u=0;u<l.length;++u)br(e.doc,"",l[u].anchor,l[u].head,"drag");e.replaceSelection(o,"around","paste"),Nn(e)}}catch(t){}}}}function Bn(t,e){if(ia&&(!t.state.draggingText||+new Date-Fa<100))return void ps(e);if(!fo(t,e)&&!Pn(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.setDragImage&&!ca)){var n=Eo("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",la&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),la&&n.parentNode.removeChild(n)}}function Qn(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,ea||E(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),ea&&E(t),Ce(t,100))}function Xn(t,e,n){(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,x(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Vn(t,e){var n=ja(e),r=n.x,i=n.y,o=t.display,a=o.scroller;if(r&&a.scrollWidth>a.clientWidth||i&&a.scrollHeight>a.clientHeight){if(i&&ma&&aa)t:for(var s=e.target,u=o.view;s!=a;s=s.parentNode)for(var l=0;l<u.length;l++)if(u[l].node==s){t.display.currentWheelTarget=s;break t}if(r&&!ea&&!la&&null!=Da)return i&&Qn(t,Math.max(0,Math.min(a.scrollTop+i*Da,a.scrollHeight-a.clientHeight))),Xn(t,Math.max(0,Math.min(a.scrollLeft+r*Da,a.scrollWidth-a.clientWidth))),fs(e),void(o.wheelStartX=null);if(i&&null!=Da){var c=i*Da,h=t.doc.scrollTop,f=h+o.wrapper.clientHeight;0>c?h=Math.max(0,h+c-50):f=Math.min(t.doc.height,f+c+50),E(t,{top:h,bottom:f})}20>za&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=r,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var t=a.scrollLeft-o.wheelStartX,e=a.scrollTop-o.wheelStartY,n=e&&o.wheelDY&&e/o.wheelDY||t&&o.wheelDX&&t/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(Da=(Da*za+n)/(za+1),++za)}},200)):(o.wheelDX+=r,o.wheelDY+=i))}}function Yn(t,e,n){if("string"==typeof e&&(e=Ya[e],!e))return!1;t.display.pollingFast&&En(t)&&(t.display.pollingFast=!1);var r=t.display.shift,i=!1;try{zn(t)&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),i=e(t)!=_s}finally{t.display.shift=r,t.state.suppressEdits=!1}return i}function Zn(t,e,n){for(var r=0;r<t.state.keyMaps.length;r++){var i=Ga(e,t.state.keyMaps[r],n,t);if(i)return i}return t.options.extraKeys&&Ga(e,t.options.extraKeys,n,t)||Ga(e,t.options.keyMap,n,t)}function Gn(t,e,n,r){var i=t.state.keySeq;if(i){if(Ka(e))return"handled";Pa.set(50,function(){t.state.keySeq==i&&(t.state.keySeq=null,Ln(t))}),e=i+" "+e}var o=Zn(t,e,r);return"multi"==o&&(t.state.keySeq=e),"handled"==o&&co(t,"keyHandled",t,e,n),("handled"==o||"multi"==o)&&(fs(n),ke(t)),i&&!o&&/\'$/.test(e)?(fs(n),!0):!!o}function Kn(t,e){var n=Ja(e,!0);return n?e.shiftKey&&!t.state.keySeq?Gn(t,"Shift-"+n,e,function(e){return Yn(t,e,!0)})||Gn(t,n,e,function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?Yn(t,e):void 0}):Gn(t,n,e,function(e){return Yn(t,e)}):!1}function Jn(t,e,n){return Gn(t,"'"+n+"'",e,function(e){return Yn(t,e,!0)})}function tr(t){var e=this;if(Fn(e),!fo(e,t)){ia&&11>oa&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var r=Kn(e,t);la&&(Oa=r?n:null,!r&&88==n&&!Hs&&(ma?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||er(e)}}function er(t){function e(t){18!=t.keyCode&&t.altKey||(zs(n,"CodeMirror-crosshair"),ms(document,"keyup",e),ms(document,"mouseover",e))}var n=t.display.lineDiv;Ds(n,"CodeMirror-crosshair"),gs(document,"keyup",e),gs(document,"mouseover",e)}function nr(t){16==t.keyCode&&(this.doc.sel.shift=!1),fo(this,t)}function rr(t){var e=this;if(!(fo(e,t)||t.ctrlKey&&!t.altKey||ma&&t.metaKey)){var n=t.keyCode,r=t.charCode;if(la&&n==Oa)return Oa=null,void fs(t);if(!(la&&(!t.which||t.which<10)||ha)||!Kn(e,t)){var i=String.fromCharCode(null==r?n:r);Jn(e,t,i)||(ia&&oa>=9&&(e.display.inputHasSelection=null),An(e))}}}function ir(t){"nocursor"!=t.options.readOnly&&(t.state.focused||(vs(t,"focus",t),t.state.focused=!0,Ds(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(Ln(t),aa&&setTimeout(So(Ln,t,!0),0))),Tn(t),ke(t))}function or(t){t.state.focused&&(vs(t,"blur",t),t.state.focused=!1,zs(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150)}function ar(t,e){function n(){if(null!=i.input.selectionStart){var e=t.somethingSelected(),n=i.input.value=""+(e?i.input.value:"");i.prevInput=e?"":"",i.input.selectionStart=1,i.input.selectionEnd=n.length,i.selForContextMenu=t.doc.sel}}function r(){if(i.contextMenuPending=!1,i.inputDiv.style.position="relative",i.input.style.cssText=u,ia&&9>oa&&i.scrollbars.setScrollTop(i.scroller.scrollTop=a),Tn(t),null!=i.input.selectionStart){(!ia||ia&&9>oa)&&n();var e=0,r=function(){i.selForContextMenu==t.doc.sel&&0==i.input.selectionStart?gn(t,Ya.selectAll)(t):e++<10?i.detectingSelectAll=setTimeout(r,500):Ln(t)};i.detectingSelectAll=setTimeout(r,200)}}if(!fo(t,e,"contextmenu")){var i=t.display;if(!Pn(i,e)&&!sr(t,e)){var o=On(t,e),a=i.scroller.scrollTop;if(o&&!la){var s=t.options.resetSelectionOnContextMenu;s&&-1==t.doc.sel.contains(o)&&gn(t,fe)(t.doc,J(o),xs);var u=i.input.style.cssText;if(i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(e.clientY-5)+"px; left: "+(e.clientX-5)+"px; z-index: 1000; background: "+(ia?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",aa)var l=window.scrollY;if(Nn(t),aa&&window.scrollTo(null,l),Ln(t),t.somethingSelected()||(i.input.value=i.prevInput=" "),i.contextMenuPending=!0,i.selForContextMenu=t.doc.sel,clearTimeout(i.detectingSelectAll),ia&&oa>=9&&n(),_a){ps(e);var c=function(){ms(window,"mouseup",c),setTimeout(r,20)};gs(window,"mouseup",c)}else setTimeout(r,50)}}}}function sr(t,e){return go(t,"gutterContextMenu")?$n(t,e,"gutterContextMenu",!1,vs):!1}function ur(t,e){if(Ca(t,e.from)<0)return t;if(Ca(t,e.to)<=0)return Ia(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=Ia(e).ch-e.to.ch),ka(n,r)}function lr(t,e){for(var n=[],r=0;r<t.sel.ranges.length;r++){var i=t.sel.ranges[r];n.push(new G(ur(i.anchor,e),ur(i.head,e)))}return K(n,t.sel.primIndex)}function cr(t,e,n){return t.line==e.line?ka(n.line,t.ch-e.ch+n.ch):ka(n.line+(t.line-e.line),t.ch)}function hr(t,e,n){for(var r=[],i=ka(t.first,0),o=i,a=0;a<e.length;a++){var s=e[a],u=cr(s.from,i,o),l=cr(Ia(s),i,o);if(i=s.to,o=l,"around"==n){var c=t.sel.ranges[a],h=Ca(c.head,c.anchor)<0;r[a]=new G(h?l:u,h?u:l)}else r[a]=new G(u,u)}return new Z(r,t.sel.primIndex)}function fr(t,e,n){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(e,n,r,i){e&&(this.from=ee(t,e)),n&&(this.to=ee(t,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),vs(t,"beforeChange",t,r),t.cm&&vs(t.cm,"beforeChange",t.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function dr(t,e,n){if(t.cm){if(!t.cm.curOp)return gn(t.cm,dr)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(go(t,"beforeChange")||t.cm&&go(t.cm,"beforeChange"))||(e=fr(t,e,!0))){var r=xa&&!n&&Yr(t,e.from,e.to);if(r)for(var i=r.length-1;i>=0;--i)pr(t,{from:r[i].from,to:r[i].to,text:i?[""]:e.text});else pr(t,e)}}function pr(t,e){if(1!=e.text.length||""!=e.text[0]||0!=Ca(e.from,e.to)){var n=lr(t,e);Zi(t,e,n,t.cm?t.cm.curOp.id:0/0),vr(t,e,n,Qr(t,e));var r=[];Pi(t,function(t,n){n||-1!=xo(r,t.history)||(ao(t.history,e),r.push(t.history)),vr(t,e,null,Qr(t,e))})}}function gr(t,e,n){if(!t.cm||!t.cm.state.suppressEdits){for(var r,i=t.history,o=t.sel,a="undo"==e?i.done:i.undone,s="undo"==e?i.undone:i.done,u=0;u<a.length&&(r=a[u],n?!r.ranges||r.equals(t.sel):r.ranges);u++);if(u!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;r=a.pop(),r.ranges;){if(Ji(r,s),n&&!r.equals(t.sel))return void fe(t,r,{clearRedo:!1});o=r}var l=[];Ji(o,s),s.push({changes:l,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var c=go(t,"beforeChange")||t.cm&&go(t.cm,"beforeChange"),u=r.changes.length-1;u>=0;--u){var h=r.changes[u];if(h.origin=e,c&&!fr(t,h,!1))return void(a.length=0);l.push(Xi(t,h));var f=u?lr(t,h):_o(a);vr(t,h,f,Vr(t,h)),!u&&t.cm&&t.cm.scrollIntoView({from:h.from,to:Ia(h)});var d=[];Pi(t,function(t,e){e||-1!=xo(d,t.history)||(ao(t.history,h),d.push(t.history)),vr(t,h,null,Vr(t,h))})}}}}function mr(t,e){if(0!=e&&(t.first+=e,t.sel=new Z(wo(t.sel.ranges,function(t){return new G(ka(t.anchor.line+e,t.anchor.ch),ka(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){_n(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,r=n.viewFrom;r<n.viewTo;r++)xn(t.cm,r,"gutter")}}function vr(t,e,n,r){if(t.cm&&!t.cm.curOp)return gn(t.cm,vr)(t,e,n,r);if(e.to.line<t.first)return void mr(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var i=e.text.length-1-(t.first-e.from.line);mr(t,i),e={from:ka(t.first,0),to:ka(e.to.line+i,e.to.ch),text:[_o(e.text)],origin:e.origin}}var o=t.lastLine();e.to.line>o&&(e={from:e.from,to:ka(o,Ii(t,o).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Hi(t,e.from,e.to),n||(n=lr(t,e)),t.cm?yr(t.cm,e,r):zi(t,e,r),de(t,n,xs)}}function yr(t,e,n){var r=t.doc,i=t.display,a=e.from,s=e.to,u=!1,l=a.line;t.options.lineWrapping||(l=$i(oi(Ii(r,a.line))),r.iter(l,s.line+1,function(t){return t==i.maxLine?(u=!0,!0):void 0})),r.sel.contains(e.from,e.to)>-1&&po(t),zi(r,e,n,o(t)),t.options.lineWrapping||(r.iter(l,a.line+e.text.length,function(t){var e=h(t);e>i.maxLineLength&&(i.maxLine=t,i.maxLineLength=e,i.maxLineChanged=!0,u=!1)}),u&&(t.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,a.line),Ce(t,400);var c=e.text.length-(s.line-a.line)-1;a.line!=s.line||1!=e.text.length||Fi(t.doc,e)?_n(t,a.line,s.line+1,c):xn(t,a.line,"text");var f=go(t,"changes"),d=go(t,"change");if(d||f){var p={from:a,to:s,text:e.text,removed:e.removed,origin:e.origin};d&&co(t,"change",t,p),f&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(p)}t.display.selForContextMenu=null}function br(t,e,n,r,i){if(r||(r=n),Ca(r,n)<0){var o=r;r=n,n=o}"string"==typeof e&&(e=Os(e)),dr(t,{from:n,to:r,text:e,origin:i})}function _r(t,e){if(!fo(t,"scrollCursorIntoView")){var n=t.display,r=n.sizer.getBoundingClientRect(),i=null;if(e.top+r.top<0?i=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!da){var o=Eo("div","",null,"position: absolute; top: "+(e.top-n.viewOffset-Ae(t.display))+"px; height: "+(e.bottom-e.top+Ne(t)+n.barHeight)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(o),o.scrollIntoView(i),t.display.lineSpace.removeChild(o)}}}function xr(t,e,n,r){null==r&&(r=0);for(var i=0;5>i;i++){var o=!1,a=Ge(t,e),s=n&&n!=e?Ge(t,n):a,u=kr(t,Math.min(a.left,s.left),Math.min(a.top,s.top)-r,Math.max(a.left,s.left),Math.max(a.bottom,s.bottom)+r),l=t.doc.scrollTop,c=t.doc.scrollLeft;if(null!=u.scrollTop&&(Qn(t,u.scrollTop),Math.abs(t.doc.scrollTop-l)>1&&(o=!0)),null!=u.scrollLeft&&(Xn(t,u.scrollLeft),Math.abs(t.doc.scrollLeft-c)>1&&(o=!0)),!o)break}return a}function wr(t,e,n,r,i){var o=kr(t,e,n,r,i);null!=o.scrollTop&&Qn(t,o.scrollTop),null!=o.scrollLeft&&Xn(t,o.scrollLeft)}function kr(t,e,n,r,i){var o=t.display,a=nn(t.display);0>n&&(n=0);var s=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:o.scroller.scrollTop,u=ze(t),l={};i-n>u&&(i=n+u);var c=t.doc.height+Ee(o),h=a>n,f=i>c-a;if(s>n)l.scrollTop=h?0:n;else if(i>s+u){var d=Math.min(n,(f?c:i)-u);d!=s&&(l.scrollTop=d)}var p=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:o.scroller.scrollLeft,g=Fe(t)-(t.options.fixedGutter?o.gutters.offsetWidth:0),m=r-e>g;return m&&(r=e+g),10>e?l.scrollLeft=0:p>e?l.scrollLeft=Math.max(0,e-(m?0:10)):r>g+p-3&&(l.scrollLeft=r+(m?0:10)-g),l}function Cr(t,e,n){(null!=e||null!=n)&&Mr(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=n&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+n)}function Sr(t){Mr(t);var e=t.getCursor(),n=e,r=e;t.options.lineWrapping||(n=e.ch?ka(e.line,e.ch-1):e,r=ka(e.line,e.ch+1)),t.curOp.scrollToPos={from:n,to:r,margin:t.options.cursorScrollMargin,isCursor:!0}}function Mr(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var n=Ke(t,e.from),r=Ke(t,e.to),i=kr(t,Math.min(n.left,r.left),Math.min(n.top,r.top)-e.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+e.margin);t.scrollTo(i.scrollLeft,i.scrollTop)}}function Tr(t,e,n,r){var i,o=t.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Te(t,e):n="prev");var a=t.options.tabSize,s=Ii(o,e),u=Cs(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var l,c=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&(l=o.mode.indent(i,s.text.slice(c.length),s.text),l==_s||l>150)){if(!r)return;n="prev"}}else l=0,n="not";"prev"==n?l=e>o.first?Cs(Ii(o,e-1).text,null,a):0:"add"==n?l=u+t.options.indentUnit:"subtract"==n?l=u-t.options.indentUnit:"number"==typeof n&&(l=u+n),l=Math.max(0,l);var h="",f=0;if(t.options.indentWithTabs)for(var d=Math.floor(l/a);d;--d)f+=a,h+="	";if(l>f&&(h+=bo(l-f)),h!=c)br(o,h,ka(e,0),ka(e,c.length),"+input");else for(var d=0;d<o.sel.ranges.length;d++){var p=o.sel.ranges[d];if(p.head.line==e&&p.head.ch<c.length){var f=ka(e,c.length);ue(o,d,new G(f,f));break}}s.stateAfter=null}function Ar(t,e,n,r){var i=e,o=e;return"number"==typeof e?o=Ii(t,te(t,e)):i=$i(e),null==i?null:(r(o,i)&&t.cm&&xn(t.cm,i,n),o)}function Er(t,e){for(var n=t.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=e(n[i]);r.length&&Ca(o.from,_o(r).to)<=0;){var a=r.pop();if(Ca(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}pn(t,function(){for(var e=r.length-1;e>=0;e--)br(t.doc,"",r[e].from,r[e].to,"+delete");Sr(t)})}function Lr(t,e,n,r,i){function o(){var e=s+n;return e<t.first||e>=t.first+t.size?h=!1:(s=e,c=Ii(t,e))}function a(t){var e=(i?Jo:ta)(c,u,n,!0);if(null==e){if(t||!o())return h=!1;u=i?(0>n?Qo:Bo)(c):0>n?c.text.length:0}else u=e;return!0}var s=e.line,u=e.ch,l=n,c=Ii(t,s),h=!0;if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var f=null,d="group"==r,p=t.cm&&t.cm.getHelper(e,"wordChars"),g=!0;!(0>n)||a(!g);g=!1){var m=c.text.charAt(u)||"\n",v=Mo(m,p)?"w":d&&"\n"==m?"n":!d||/\s/.test(m)?null:"p";if(!d||g||v||(v="s"),f&&f!=v){0>n&&(n=1,a());break}if(v&&(f=v),n>0&&!a(!g))break}var y=ve(t,ka(s,u),l,!0);return h||(y.hitSide=!0),y}function Nr(t,e,n,r){var i,o=t.doc,a=e.left;if("page"==r){var s=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=e.top+n*(s-(0>n?1.5:.5)*nn(t.display))}else"line"==r&&(i=n>0?e.bottom+3:e.top-3);for(;;){var u=tn(t,a,i);if(!u.outside)break;if(0>n?0>=i:i>=o.height){u.hitSide=!0;break}i+=5*n}return u}function Fr(e,n,r,i){t.defaults[e]=n,r&&(Ra[e]=i?function(t,e,n){n!=qa&&r(t,e,n)}:r)}function zr(t){for(var e,n,r,i,o=t.split(/-(?!$)/),t=o[o.length-1],a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))e=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),i&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Dr(t){return"string"==typeof t?Za[t]:t}function jr(t,e,n,r,i){if(r&&r.shared)return Pr(t,e,n,r,i);if(t.cm&&!t.cm.curOp)return gn(t.cm,jr)(t,e,n,r,i);var o=new es(t,i),a=Ca(e,n);if(r&&Co(r,o,!1),a>0||0==a&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Eo("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(ii(t,e.line,e,n,o)||e.line!=n.line&&ii(t,n.line,e,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");wa=!0}o.addToHistory&&Zi(t,{from:e,to:n,origin:"markText"},t.sel,0/0);var s,u=e.line,l=t.cm;if(t.iter(u,n.line+1,function(t){l&&o.collapsed&&!l.options.lineWrapping&&oi(t)==l.display.maxLine&&(s=!0),o.collapsed&&u!=e.line&&qi(t,0),Wr(t,new Rr(o,u==e.line?e.ch:null,u==n.line?n.ch:null)),++u}),o.collapsed&&t.iter(e.line,n.line+1,function(e){li(t,e)&&qi(e,0)}),o.clearOnEnter&&gs(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(xa=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++ns,o.atomic=!0),l){if(s&&(l.curOp.updateMaxLine=!0),o.collapsed)_n(l,e.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var c=e.line;c<=n.line;c++)xn(l,c,"text");o.atomic&&ge(l.doc),co(l,"markerAdded",l,o)}return o}function Pr(t,e,n,r,i){r=Co(r),r.shared=!1;var o=[jr(t,e,n,r,i)],a=o[0],s=r.widgetNode;return Pi(t,function(t){s&&(r.widgetNode=s.cloneNode(!0)),o.push(jr(t,ee(t,e),ee(t,n),r,i));for(var u=0;u<t.linked.length;++u)if(t.linked[u].isParent)return;a=_o(o)}),new rs(o,a)}function Or(t){return t.findMarks(ka(t.first,0),t.clipPos(ka(t.lastLine())),function(t){return t.parent})}function Ir(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.find(),o=t.clipPos(i.from),a=t.clipPos(i.to);if(Ca(o,a)){var s=jr(t,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function Hr(t){for(var e=0;e<t.length;e++){var n=t[e],r=[n.primary.doc];Pi(n.primary.doc,function(t){r.push(t)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==xo(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}}function Rr(t,e,n){this.marker=t,this.from=e,this.to=n}function qr(t,e){if(t)for(var n=0;n<t.length;++n){var r=t[n];if(r.marker==e)return r}}function $r(t,e){for(var n,r=0;r<t.length;++r)t[r]!=e&&(n||(n=[])).push(t[r]);return n}function Wr(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function Ur(t,e,n){if(t)for(var r,i=0;i<t.length;++i){var o=t[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);if(s||o.from==e&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var u=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);(r||(r=[])).push(new Rr(a,o.from,u?null:o.to))}}return r}function Br(t,e,n){if(t)for(var r,i=0;i<t.length;++i){var o=t[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=e:o.to>e);if(s||o.from==e&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var u=null==o.from||(a.inclusiveLeft?o.from<=e:o.from<e);(r||(r=[])).push(new Rr(a,u?null:o.from-e,null==o.to?null:o.to-e))}}return r}function Qr(t,e){var n=re(t,e.from.line)&&Ii(t,e.from.line).markedSpans,r=re(t,e.to.line)&&Ii(t,e.to.line).markedSpans;if(!n&&!r)return null;var i=e.from.ch,o=e.to.ch,a=0==Ca(e.from,e.to),s=Ur(n,i,a),u=Br(r,o,a),l=1==e.text.length,c=_o(e.text).length+(l?i:0);if(s)for(var h=0;h<s.length;++h){var f=s[h];if(null==f.to){var d=qr(u,f.marker);d?l&&(f.to=null==d.to?null:d.to+c):f.to=i}}if(u)for(var h=0;h<u.length;++h){var f=u[h];if(null!=f.to&&(f.to+=c),null==f.from){var d=qr(s,f.marker);d||(f.from=c,l&&(s||(s=[])).push(f))}else f.from+=c,l&&(s||(s=[])).push(f)}s&&(s=Xr(s)),u&&u!=s&&(u=Xr(u));var p=[s];if(!l){var g,m=e.text.length-2;if(m>0&&s)for(var h=0;h<s.length;++h)null==s[h].to&&(g||(g=[])).push(new Rr(s[h].marker,null,null));for(var h=0;m>h;++h)p.push(g);p.push(u)}return p}function Xr(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function Vr(t,e){var n=no(t,e),r=Qr(t,e);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)t:for(var s=0;s<a.length;++s){for(var u=a[s],l=0;l<o.length;++l)if(o[l].marker==u.marker)continue t;o.push(u)}else a&&(n[i]=a)}return n}function Yr(t,e,n){var r=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||r&&-1!=xo(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:e,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),u=0;u<i.length;++u){var l=i[u];if(!(Ca(l.to,s.from)<0||Ca(l.from,s.to)>0)){var c=[u,1],h=Ca(l.from,s.from),f=Ca(l.to,s.to);(0>h||!a.inclusiveLeft&&!h)&&c.push({from:l.from,to:s.from}),(f>0||!a.inclusiveRight&&!f)&&c.push({from:s.to,to:l.to}),i.splice.apply(i,c),u+=c.length-1}}return i}function Zr(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Gr(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function Kr(t){return t.inclusiveLeft?-1:0}function Jr(t){return t.inclusiveRight?1:0}function ti(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var r=t.find(),i=e.find(),o=Ca(r.from,i.from)||Kr(t)-Kr(e);if(o)return-o;var a=Ca(r.to,i.to)||Jr(t)-Jr(e);return a?a:e.id-t.id}function ei(t,e){var n,r=wa&&t.markedSpans;if(r)for(var i,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(e?i.from:i.to)&&(!n||ti(n,i.marker)<0)&&(n=i.marker);return n}function ni(t){return ei(t,!0)}function ri(t){return ei(t,!1)}function ii(t,e,n,r,i){var o=Ii(t,e),a=wa&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var u=a[s];if(u.marker.collapsed){var l=u.marker.find(0),c=Ca(l.from,n)||Kr(u.marker)-Kr(i),h=Ca(l.to,r)||Jr(u.marker)-Jr(i);if(!(c>=0&&0>=h||0>=c&&h>=0)&&(0>=c&&(Ca(l.to,n)>0||u.marker.inclusiveRight&&i.inclusiveLeft)||c>=0&&(Ca(l.from,r)<0||u.marker.inclusiveLeft&&i.inclusiveRight)))return!0}}}function oi(t){for(var e;e=ni(t);)t=e.find(-1,!0).line;return t
}function ai(t){for(var e,n;e=ri(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}function si(t,e){var n=Ii(t,e),r=oi(n);return n==r?e:$i(r)}function ui(t,e){if(e>t.lastLine())return e;var n,r=Ii(t,e);if(!li(t,r))return e;for(;n=ri(r);)r=n.find(1,!0).line;return $i(r)+1}function li(t,e){var n=wa&&e.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&ci(t,e,r))return!0}}function ci(t,e,n){if(null==n.to){var r=n.marker.find(1,!0);return ci(t,r.line,qr(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var i,o=0;o<e.markedSpans.length;++o)if(i=e.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&ci(t,e,i))return!0}function hi(t,e,n){Ui(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Cr(t,null,n)}function fi(t){if(null!=t.height)return t.height;if(!Fo(document.body,t.node)){var e="position: relative;";t.coverGutter&&(e+="margin-left: -"+t.cm.getGutterElement().offsetWidth+"px;"),No(t.cm.display.measure,Eo("div",[t.node],null,e))}return t.height=t.node.offsetHeight}function di(t,e,n,r){var i=new is(t,n,r);return i.noHScroll&&(t.display.alignWidgets=!0),Ar(t.doc,e,"widget",function(e){var n=e.widgets||(e.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,!li(t.doc,e)){var r=Ui(e)<t.doc.scrollTop;qi(e,e.height+fi(i)),r&&Cr(t,null,i.height),t.curOp.forceUpdate=!0}return!0}),i}function pi(t,e,n,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Zr(t),Gr(t,n);var i=r?r(t):1;i!=t.height&&qi(t,i)}function gi(t){t.parent=null,Zr(t)}function mi(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==e[r]?e[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[r])||(e[r]+=" "+n[2])}return t}function vi(e,n){if(e.blankLine)return e.blankLine(n);if(e.innerMode){var r=t.innerMode(e,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function yi(e,n,r,i){for(var o=0;10>o;o++){i&&(i[0]=t.innerMode(e,r).mode);var a=e.token(n,r);if(n.pos>n.start)return a}throw new Error("Mode "+e.name+" failed to advance stream.")}function bi(t,e,n,r){function i(t){return{start:h.start,end:h.pos,string:h.current(),type:o||null,state:t?Xa(a.mode,c):c}}var o,a=t.doc,s=a.mode;e=ee(a,e);var u,l=Ii(a,e.line),c=Te(t,e.line,n),h=new ts(l.text,t.options.tabSize);for(r&&(u=[]);(r||h.pos<e.ch)&&!h.eol();)h.start=h.pos,o=yi(s,h,c),r&&u.push(i(!0));return r?u:i()}function _i(t,e,n,r,i,o,a){var s=n.flattenSpans;null==s&&(s=t.options.flattenSpans);var u,l=0,c=null,h=new ts(e,t.options.tabSize),f=t.options.addModeClass&&[null];for(""==e&&mi(vi(n,r),o);!h.eol();){if(h.pos>t.options.maxHighlightLength?(s=!1,a&&ki(t,e,r,h.pos),h.pos=e.length,u=null):u=mi(yi(n,h,r,f),o),f){var d=f[0].name;d&&(u="m-"+(u?d+" "+u:d))}if(!s||c!=u){for(;l<h.start;)l=Math.min(h.start,l+5e4),i(l,c);c=u}h.start=h.pos}for(;l<h.pos;){var p=Math.min(h.pos,l+5e4);i(p,c),l=p}}function xi(t,e,n,r){var i=[t.state.modeGen],o={};_i(t,e.text,t.doc.mode,n,function(t,e){i.push(t,e)},o,r);for(var a=0;a<t.state.overlays.length;++a){var s=t.state.overlays[a],u=1,l=0;_i(t,e.text,s.mode,!0,function(t,e){for(var n=u;t>l;){var r=i[u];r>t&&i.splice(u,1,t,i[u+1],r),u+=2,l=Math.min(t,r)}if(e)if(s.opaque)i.splice(n,u-n,t,"cm-overlay "+e),u=n+2;else for(;u>n;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"cm-overlay "+e}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function wi(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=xi(t,e,e.stateAfter=Te(t,$i(e)));e.styles=r.styles,r.classes?e.styleClasses=r.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.frontier&&t.doc.frontier++}return e.styles}function ki(t,e,n,r){var i=t.doc.mode,o=new ts(e,t.options.tabSize);for(o.start=o.pos=r||0,""==e&&vi(i,n);!o.eol()&&o.pos<=t.options.maxHighlightLength;)yi(i,o,n),o.start=o.pos}function Ci(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?ss:as;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Si(t,e){var n=Eo("span",null,null,aa?"padding-right: .1px":null),r={pre:Eo("pre",[n]),content:n,col:0,pos:0,cm:t};e.measure={};for(var i=0;i<=(e.rest?e.rest.length:0);i++){var o,a=i?e.rest[i-1]:e.line;r.pos=0,r.addToken=Ti,(ia||aa)&&t.getOption("lineWrapping")&&(r.addToken=Ai(r.addToken)),Ro(t.display.measure)&&(o=Bi(a))&&(r.addToken=Ei(r.addToken,o)),r.map=[];var s=e!=t.display.externalMeasured&&$i(a);Ni(a,r,wi(t,a,s)),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=jo(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=jo(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ho(t.display.measure))),0==i?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}return aa&&/\bcm-tab\b/.test(r.content.lastChild.className)&&(r.content.className="cm-tab-wrap-hack"),vs(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=jo(r.pre.className,r.textClass||"")),r}function Mi(t){var e=Eo("span","","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e}function Ti(t,e,n,r,i,o,a){if(e){var s=t.cm.options.specialChars,u=!1;if(s.test(e))for(var l=document.createDocumentFragment(),c=0;;){s.lastIndex=c;var h=s.exec(e),f=h?h.index-c:e.length-c;if(f){var d=document.createTextNode(e.slice(c,c+f));l.appendChild(ia&&9>oa?Eo("span",[d]):d),t.map.push(t.pos,t.pos+f,d),t.col+=f,t.pos+=f}if(!h)break;if(c+=f+1,"	"==h[0]){var p=t.cm.options.tabSize,g=p-t.col%p,d=l.appendChild(Eo("span",bo(g),"cm-tab"));t.col+=g}else{var d=t.cm.options.specialCharPlaceholder(h[0]);l.appendChild(ia&&9>oa?Eo("span",[d]):d),t.col+=1}t.map.push(t.pos,t.pos+1,d),t.pos++}else{t.col+=e.length;var l=document.createTextNode(e);t.map.push(t.pos,t.pos+e.length,l),ia&&9>oa&&(u=!0),t.pos+=e.length}if(n||r||i||u||a){var m=n||"";r&&(m+=r),i&&(m+=i);var v=Eo("span",[l],m,a);return o&&(v.title=o),t.content.appendChild(v)}t.content.appendChild(l)}}function Ai(t){function e(t){for(var e=" ",n=0;n<t.length-2;++n)e+=n%2?" ":"";return e+=" "}return function(n,r,i,o,a,s){t(n,r.replace(/ {3,}/g,e),i,o,a,s)}}function Ei(t,e){return function(n,r,i,o,a,s){i=i?i+" cm-force-border":"cm-force-border";for(var u=n.pos,l=u+r.length;;){for(var c=0;c<e.length;c++){var h=e[c];if(h.to>u&&h.from<=u)break}if(h.to>=l)return t(n,r,i,o,a,s);t(n,r.slice(0,h.to-u),i,o,null,s),o=null,r=r.slice(h.to-u),u=h.to}}}function Li(t,e,n,r){var i=!r&&n.widgetNode;i&&(t.map.push(t.pos,t.pos+e,i),t.content.appendChild(i)),t.pos+=e}function Ni(t,e,n){var r=t.markedSpans,i=t.text,o=0;if(r)for(var a,s,u,l,c,h,f,d=i.length,p=0,g=1,m="",v=0;;){if(v==p){u=l=c=h=s="",f=null,v=1/0;for(var y=[],b=0;b<r.length;++b){var _=r[b],x=_.marker;_.from<=p&&(null==_.to||_.to>p)?(null!=_.to&&v>_.to&&(v=_.to,l=""),x.className&&(u+=" "+x.className),x.css&&(s=x.css),x.startStyle&&_.from==p&&(c+=" "+x.startStyle),x.endStyle&&_.to==v&&(l+=" "+x.endStyle),x.title&&!h&&(h=x.title),x.collapsed&&(!f||ti(f.marker,x)<0)&&(f=_)):_.from>p&&v>_.from&&(v=_.from),"bookmark"==x.type&&_.from==p&&x.widgetNode&&y.push(x)}if(f&&(f.from||0)==p&&(Li(e,(null==f.to?d+1:f.to)-p,f.marker,null==f.from),null==f.to))return;if(!f&&y.length)for(var b=0;b<y.length;++b)Li(e,0,y[b])}if(p>=d)break;for(var w=Math.min(d,v);;){if(m){var k=p+m.length;if(!f){var C=k>w?m.slice(0,w-p):m;e.addToken(e,C,a?a+u:u,c,p+C.length==v?l:"",h,s)}if(k>=w){m=m.slice(w-p),p=w;break}p=k,c=""}m=i.slice(o,o=n[g++]),a=Ci(n[g++],e.cm.options)}}else for(var g=1;g<n.length;g+=2)e.addToken(e,i.slice(o,o=n[g]),Ci(n[g+1],e.cm.options))}function Fi(t,e){return 0==e.from.ch&&0==e.to.ch&&""==_o(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function zi(t,e,n,r){function i(t){return n?n[t]:null}function o(t,n,i){pi(t,n,i,r),co(t,"change",t,e)}var a=e.from,s=e.to,u=e.text,l=Ii(t,a.line),c=Ii(t,s.line),h=_o(u),f=i(u.length-1),d=s.line-a.line;if(Fi(t,e)){for(var p=0,g=[];p<u.length-1;++p)g.push(new os(u[p],i(p),r));o(c,c.text,f),d&&t.remove(a.line,d),g.length&&t.insert(a.line,g)}else if(l==c)if(1==u.length)o(l,l.text.slice(0,a.ch)+h+l.text.slice(s.ch),f);else{for(var g=[],p=1;p<u.length-1;++p)g.push(new os(u[p],i(p),r));g.push(new os(h+l.text.slice(s.ch),f,r)),o(l,l.text.slice(0,a.ch)+u[0],i(0)),t.insert(a.line+1,g)}else if(1==u.length)o(l,l.text.slice(0,a.ch)+u[0]+c.text.slice(s.ch),i(0)),t.remove(a.line+1,d);else{o(l,l.text.slice(0,a.ch)+u[0],i(0)),o(c,h+c.text.slice(s.ch),f);for(var p=1,g=[];p<u.length-1;++p)g.push(new os(u[p],i(p),r));d>1&&t.remove(a.line+1,d-1),t.insert(a.line+1,g)}co(t,"change",t,e)}function Di(t){this.lines=t,this.parent=null;for(var e=0,n=0;e<t.length;++e)t[e].parent=this,n+=t[e].height;this.height=n}function ji(t){this.children=t;for(var e=0,n=0,r=0;r<t.length;++r){var i=t[r];e+=i.chunkSize(),n+=i.height,i.parent=this}this.size=e,this.height=n,this.parent=null}function Pi(t,e,n){function r(t,i,o){if(t.linked)for(var a=0;a<t.linked.length;++a){var s=t.linked[a];if(s.doc!=i){var u=o&&s.sharedHist;(!n||u)&&(e(s.doc,u),r(s.doc,t,u))}}}r(t,null,!0)}function Oi(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,a(t),n(t),t.options.lineWrapping||f(t),t.options.mode=e.modeOption,_n(t)}function Ii(t,e){if(e-=t.first,0>e||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(o>e){n=i;break}e-=o}return n.lines[e]}function Hi(t,e,n){var r=[],i=e.line;return t.iter(e.line,n.line+1,function(t){var o=t.text;i==n.line&&(o=o.slice(0,n.ch)),i==e.line&&(o=o.slice(e.ch)),r.push(o),++i}),r}function Ri(t,e,n){var r=[];return t.iter(e,n,function(t){r.push(t.text)}),r}function qi(t,e){var n=e-t.height;if(n)for(var r=t;r;r=r.parent)r.height+=n}function $i(t){if(null==t.parent)return null;for(var e=t.parent,n=xo(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var i=0;r.children[i]!=e;++i)n+=r.children[i].chunkSize();return n+e.first}function Wi(t,e){var n=t.first;t:do{for(var r=0;r<t.children.length;++r){var i=t.children[r],o=i.height;if(o>e){t=i;continue t}e-=o,n+=i.chunkSize()}return n}while(!t.lines);for(var r=0;r<t.lines.length;++r){var a=t.lines[r],s=a.height;if(s>e)break;e-=s}return n+r}function Ui(t){t=oi(t);for(var e=0,n=t.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==t)break;e+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var r=0;r<o.children.length;++r){var a=o.children[r];if(a==n)break;e+=a.height}return e}function Bi(t){var e=t.order;return null==e&&(e=t.order=Ws(t.text)),e}function Qi(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function Xi(t,e){var n={from:X(e.from),to:Ia(e),text:Hi(t,e.from,e.to)};return to(t,n,e.from.line,e.to.line+1),Pi(t,function(t){to(t,n,e.from.line,e.to.line+1)},!0),n}function Vi(t){for(;t.length;){var e=_o(t);if(!e.ranges)break;t.pop()}}function Yi(t,e){return e?(Vi(t.done),_o(t.done)):t.done.length&&!_o(t.done).ranges?_o(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),_o(t.done)):void 0}function Zi(t,e,n,r){var i=t.history;i.undone.length=0;var o,a=+new Date;if((i.lastOp==r||i.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&i.lastModTime>a-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(o=Yi(i,i.lastOp==r))){var s=_o(o.changes);0==Ca(e.from,e.to)&&0==Ca(e.from,s.to)?s.to=Ia(e):o.changes.push(Xi(t,e))}else{var u=_o(i.done);for(u&&u.ranges||Ji(t.sel,i.done),o={changes:[Xi(t,e)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=e.origin,s||vs(t,"historyAdded")}function Gi(t,e,n,r){var i=e.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function Ki(t,e,n,r){var i=t.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||Gi(t,o,_o(i.done),e))?i.done[i.done.length-1]=e:Ji(e,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&r.clearRedo!==!1&&Vi(i.undone)}function Ji(t,e){var n=_o(e);n&&n.ranges&&n.equals(t)||e.push(t)}function to(t,e,n,r){var i=e["spans_"+t.id],o=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,r),function(n){n.markedSpans&&((i||(i=e["spans_"+t.id]={}))[o]=n.markedSpans),++o})}function eo(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function no(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var r=0,i=[];r<e.text.length;++r)i.push(eo(n[r]));return i}function ro(t,e,n){for(var r=0,i=[];r<t.length;++r){var o=t[r];if(o.ranges)i.push(n?Z.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];i.push({changes:s});for(var u=0;u<a.length;++u){var l,c=a[u];if(s.push({from:c.from,to:c.to,text:c.text}),e)for(var h in c)(l=h.match(/^spans_(\d+)$/))&&xo(e,Number(l[1]))>-1&&(_o(s)[h]=c[h],delete c[h])}}}return i}function io(t,e,n,r){n<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function oo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i],a=!0;if(o.ranges){o.copied||(o=t[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)io(o.ranges[s].anchor,e,n,r),io(o.ranges[s].head,e,n,r)}else{for(var s=0;s<o.changes.length;++s){var u=o.changes[s];if(n<u.from.line)u.from=ka(u.from.line+r,u.from.ch),u.to=ka(u.to.line+r,u.to.ch);else if(e<=u.to.line){a=!1;break}}a||(t.splice(0,i+1),i=0)}}}function ao(t,e){var n=e.from.line,r=e.to.line,i=e.text.length-(r-n)-1;oo(t.done,n,r,i),oo(t.undone,n,r,i)}function so(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function uo(t){return t.target||t.srcElement}function lo(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),ma&&t.ctrlKey&&1==e&&(e=3),e}function co(t,e){function n(t){return function(){t.apply(null,o)}}var r=t._handlers&&t._handlers[e];if(r){var i,o=Array.prototype.slice.call(arguments,2);Ea?i=Ea.delayedCallbacks:ys?i=ys:(i=ys=[],setTimeout(ho,0));for(var a=0;a<r.length;++a)i.push(n(r[a]))}}function ho(){var t=ys;ys=null;for(var e=0;e<t.length;++e)t[e]()}function fo(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),vs(t,n||e.type,t,e),so(e)||e.codemirrorIgnore}function po(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)-1==xo(n,e[r])&&n.push(e[r])}function go(t,e){var n=t._handlers&&t._handlers[e];return n&&n.length>0}function mo(t){t.prototype.on=function(t,e){gs(this,t,e)},t.prototype.off=function(t,e){ms(this,t,e)}}function vo(){this.id=null}function yo(t,e,n){for(var r=0,i=0;;){var o=t.indexOf("	",r);-1==o&&(o=t.length);var a=o-r;if(o==t.length||i+a>=e)return r+Math.min(a,e-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=e)return r}}function bo(t){for(;Ss.length<=t;)Ss.push(_o(Ss)+" ");return Ss[t]}function _o(t){return t[t.length-1]}function xo(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}function wo(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e(t[r],r);return n}function ko(t,e){var n;if(Object.create)n=Object.create(t);else{var r=function(){};r.prototype=t,n=new r}return e&&Co(e,n),n}function Co(t,e,n){e||(e={});for(var r in t)!t.hasOwnProperty(r)||n===!1&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function So(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function Mo(t,e){return e?e.source.indexOf("\\w")>-1&&Es(t)?!0:e.test(t):Es(t)}function To(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function Ao(t){return t.charCodeAt(0)>=768&&Ls.test(t)}function Eo(t,e,n,r){var i=document.createElement(t);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof e)i.appendChild(document.createTextNode(e));else if(e)for(var o=0;o<e.length;++o)i.appendChild(e[o]);return i}function Lo(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function No(t,e){return Lo(t).appendChild(e)}function Fo(t,e){if(t.contains)return t.contains(e);for(;e=e.parentNode;)if(e==t)return!0}function zo(){return document.activeElement}function Do(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function jo(t,e){for(var n=t.split(" "),r=0;r<n.length;r++)n[r]&&!Do(n[r]).test(e)&&(e+=" "+n[r]);return e}function Po(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),n=0;n<e.length;n++){var r=e[n].CodeMirror;r&&t(r)}}function Oo(){js||(Io(),js=!0)}function Io(){var t;gs(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Po(jn)},100))}),gs(window,"blur",function(){Po(or)})}function Ho(t){if(null==Ns){var e=Eo("span","");No(t,Eo("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Ns=e.offsetWidth<=1&&e.offsetHeight>2&&!(ia&&8>oa))}return Ns?Eo("span",""):Eo("span","",null,"display: inline-block; width: 1px; margin-right: -1px")}function Ro(t){if(null!=Fs)return Fs;var e=No(t,document.createTextNode("AA")),n=Ts(e,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=Ts(e,1,2).getBoundingClientRect();return Fs=r.right-n.right<3}function qo(t){if(null!=Rs)return Rs;var e=No(t,Eo("span","x")),n=e.getBoundingClientRect(),r=Ts(e,0,1).getBoundingClientRect();return Rs=Math.abs(n.left-r.left)>1}function $o(t,e,n,r){if(!t)return r(e,n,"ltr");for(var i=!1,o=0;o<t.length;++o){var a=t[o];(a.from<n&&a.to>e||e==n&&a.to==e)&&(r(Math.max(a.from,e),Math.min(a.to,n),1==a.level?"rtl":"ltr"),i=!0)}i||r(e,n,"ltr")}function Wo(t){return t.level%2?t.to:t.from}function Uo(t){return t.level%2?t.from:t.to}function Bo(t){var e=Bi(t);return e?Wo(e[0]):0}function Qo(t){var e=Bi(t);return e?Uo(_o(e)):t.text.length}function Xo(t,e){var n=Ii(t.doc,e),r=oi(n);r!=n&&(e=$i(r));var i=Bi(r),o=i?i[0].level%2?Qo(r):Bo(r):0;return ka(e,o)}function Vo(t,e){for(var n,r=Ii(t.doc,e);n=ri(r);)r=n.find(1,!0).line,e=null;var i=Bi(r),o=i?i[0].level%2?Bo(r):Qo(r):r.text.length;return ka(null==e?$i(r):e,o)}function Yo(t,e){var n=Xo(t,e.line),r=Ii(t.doc,n.line),i=Bi(r);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=e.line==n.line&&e.ch<=o&&e.ch;return ka(n.line,a?0:o)}return n}function Zo(t,e,n){var r=t[0].level;return e==r?!0:n==r?!1:n>e}function Go(t,e){$s=null;for(var n,r=0;r<t.length;++r){var i=t[r];if(i.from<e&&i.to>e)return r;if(i.from==e||i.to==e){if(null!=n)return Zo(t,i.level,t[n].level)?(i.from!=i.to&&($s=n),r):(i.from!=i.to&&($s=r),n);n=r}}return n}function Ko(t,e,n,r){if(!r)return e+n;do e+=n;while(e>0&&Ao(t.text.charAt(e)));return e}function Jo(t,e,n,r){var i=Bi(t);if(!i)return ta(t,e,n,r);for(var o=Go(i,e),a=i[o],s=Ko(t,e,a.level%2?-n:n,r);;){if(s>a.from&&s<a.to)return s;if(s==a.from||s==a.to)return Go(i,s)==o?s:(a=i[o+=n],n>0==a.level%2?a.to:a.from);if(a=i[o+=n],!a)return null;s=n>0==a.level%2?Ko(t,a.to,-1,r):Ko(t,a.from,1,r)}}function ta(t,e,n,r){var i=e+n;if(r)for(;i>0&&Ao(t.text.charAt(i));)i+=n;return 0>i||i>t.text.length?null:i}var ea=/gecko\/\d/i.test(navigator.userAgent),na=/MSIE \d/.test(navigator.userAgent),ra=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ia=na||ra,oa=ia&&(na?document.documentMode||6:ra[1]),aa=/WebKit\//.test(navigator.userAgent),sa=aa&&/Qt\/\d+\.\d+/.test(navigator.userAgent),ua=/Chrome\//.test(navigator.userAgent),la=/Opera\//.test(navigator.userAgent),ca=/Apple Computer/.test(navigator.vendor),ha=/KHTML\//.test(navigator.userAgent),fa=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),da=/PhantomJS/.test(navigator.userAgent),pa=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),ga=pa||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),ma=pa||/Mac/.test(navigator.platform),va=/win/i.test(navigator.platform),ya=la&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);ya&&(ya=Number(ya[1])),ya&&ya>=15&&(la=!1,aa=!0);var ba=ma&&(sa||la&&(null==ya||12.11>ya)),_a=ea||ia&&oa>=9,xa=!1,wa=!1;g.prototype=Co({update:function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var i=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var o=t.viewWidth-t.barLeft-(n?r:0);this.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&t.clientHeight>0&&(0==r&&this.overlayHack(),this.checkedOverlay=!0),{right:n?r:0,bottom:e?r:0}},setScrollLeft:function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t)},setScrollTop:function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t)},overlayHack:function(){var t=ma&&!fa?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=t;var e=this,n=function(t){uo(t)!=e.vert&&uo(t)!=e.horiz&&gn(e.cm,In)(t)};gs(this.vert,"mousedown",n),gs(this.horiz,"mousedown",n)},clear:function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)}},g.prototype),m.prototype=Co({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},m.prototype),t.scrollbarModel={"native":g,"null":m};var ka=t.Pos=function(t,e){return this instanceof ka?(this.line=t,void(this.ch=e)):new ka(t,e)},Ca=t.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch};Z.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],r=t.ranges[e];if(0!=Ca(n.anchor,r.anchor)||0!=Ca(n.head,r.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new G(X(this.ranges[e].anchor),X(this.ranges[e].head));return new Z(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(Ca(e,r.from())>=0&&Ca(t,r.to())<=0)return n}return-1}},G.prototype={from:function(){return Y(this.anchor,this.head)},to:function(){return V(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Sa,Ma,Ta,Aa={left:0,right:0,top:0,bottom:0},Ea=null,La=0,Na=null,Fa=0,za=0,Da=null;ia?Da=-.53:ea?Da=15:ua?Da=-.7:ca&&(Da=-1/3);var ja=function(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}};t.wheelEventPixels=function(t){var e=ja(t);return e.x*=Da,e.y*=Da,e};var Pa=new vo,Oa=null,Ia=t.changeEnd=function(t){return t.text?ka(t.from.line+t.text.length-1,_o(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.prototype={constructor:t,focus:function(){window.focus(),Nn(this),An(this)},setOption:function(t,e){var n=this.options,r=n[t];(n[t]!=e||"mode"==t)&&(n[t]=e,Ra.hasOwnProperty(t)&&gn(this,Ra[t])(this,e,r))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Dr(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:mn(function(e,n){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:e,opaque:n&&n.opaque}),this.state.modeGen++,_n(this)}),removeOverlay:mn(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var r=e[n].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return e.splice(n,1),this.state.modeGen++,void _n(this)}}),indentLine:mn(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),re(this.doc,t)&&Tr(this,t,e,n)}),indentSelection:mn(function(t){for(var e=this.doc.sel.ranges,n=-1,r=0;r<e.length;r++){var i=e[r];if(i.empty())i.head.line>n&&(Tr(this,i.head.line,t,!0),n=i.head.line,r==this.doc.sel.primIndex&&Sr(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var u=s;n>u;++u)Tr(this,u,t);var l=this.doc.sel.ranges;0==o.ch&&e.length==l.length&&l[r].from().ch>0&&ue(this.doc,r,new G(o,l[r].to()),xs)}}}),getTokenAt:function(t,e){return bi(this,t,e)},getLineTokens:function(t,e){return bi(this,ka(t),e,!0)},getTokenTypeAt:function(t){t=ee(this.doc,t);var e,n=wi(this,Ii(this.doc,t.line)),r=0,i=(n.length-1)/2,o=t.ch;if(0==o)e=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){e=n[2*a+2];break}r=a+1}}var s=e?e.indexOf("cm-overlay "):-1;return 0>s?e:0==s?null:e.slice(0,s-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var n=[];if(!Qa.hasOwnProperty(e))return Qa;var r=Qa[e],i=this.getModeAt(t);if("string"==typeof i[e])r[i[e]]&&n.push(r[i[e]]);else if(i[e])for(var o=0;o<i[e].length;o++){var a=r[i[e][o]];a&&n.push(a)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var o=0;o<r._global.length;o++){var s=r._global[o];s.pred(i,this)&&-1==xo(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(t,e){var n=this.doc;return t=te(n,null==t?n.first+n.size-1:t),Te(this,t+1,e)},cursorCoords:function(t,e){var n,r=this.doc.sel.primary();return n=null==t?r.head:"object"==typeof t?ee(this.doc,t):t?r.from():r.to(),Ge(this,n,e||"page")},charCoords:function(t,e){return Ze(this,ee(this.doc,t),e||"page")},coordsChar:function(t,e){return t=Ye(this,t,e||"page"),tn(this,t.left,t.top)},lineAtHeight:function(t,e){return t=Ye(this,{top:t,left:0},e||"page").top,Wi(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var n=!1,r=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>r&&(t=r,n=!0);var i=Ii(this.doc,t);return Ve(this,i,{top:0,left:0},e||"page").top+(n?this.doc.height-Ui(i):0)},defaultTextHeight:function(){return nn(this.display)},defaultCharWidth:function(){return rn(this.display)},setGutterMarker:mn(function(t,e,n){return Ar(this.doc,t,"gutter",function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=n,!n&&To(r)&&(t.gutterMarkers=null),!0})}),clearGutter:mn(function(t){var e=this,n=e.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&(n.gutterMarkers[t]=null,xn(e,r,"gutter"),To(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),addLineWidget:mn(function(t,e,n){return di(this,t,e,n)}),removeLineWidget:function(t){t.clear()},lineInfo:function(t){if("number"==typeof t){if(!re(this.doc,t))return null;var e=t;if(t=Ii(this.doc,t),!t)return null}else{var e=$i(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,r,i){var o=this.display;t=Ge(this,ee(this.doc,t));var a=t.bottom,s=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),o.sizer.appendChild(e),"over"==r)a=t.top;else if("above"==r||"near"==r){var u=Math.max(o.wrapper.clientHeight,this.doc.height),l=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>u)&&t.top>e.offsetHeight?a=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=u&&(a=t.bottom),s+e.offsetWidth>l&&(s=l-e.offsetWidth)}e.style.top=a+"px",e.style.left=e.style.right="","right"==i?(s=o.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-e.offsetWidth)/2),e.style.left=s+"px"),n&&wr(this,s,a,s+e.offsetWidth,a+e.offsetHeight)},triggerOnKeyDown:mn(tr),triggerOnKeyPress:mn(rr),triggerOnKeyUp:nr,execCommand:function(t){return Ya.hasOwnProperty(t)?Ya[t](this):void 0},findPosH:function(t,e,n,r){var i=1;0>e&&(i=-1,e=-e);for(var o=0,a=ee(this.doc,t);e>o&&(a=Lr(this.doc,a,i,n,r),!a.hitSide);++o);return a},moveH:mn(function(t,e){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Lr(n.doc,r.head,t,e,n.options.rtlMoveVisually):0>t?r.from():r.to()},ks)}),deleteH:mn(function(t,e){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Er(this,function(n){var i=Lr(r,n.head,t,e,!1);return 0>t?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(t,e,n,r){var i=1,o=r;0>e&&(i=-1,e=-e);for(var a=0,s=ee(this.doc,t);e>a;++a){var u=Ge(this,s,"div");if(null==o?o=u.left:u.left=o,s=Nr(this,u,i,n),s.hitSide)break}return s},moveV:mn(function(t,e){var n=this,r=this.doc,i=[],o=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return 0>t?a.from():a.to();var s=Ge(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var u=Nr(n,s,t,e);return"page"==e&&a==r.sel.primary()&&Cr(n,null,Ze(n,u,"div").top-s.top),u},ks),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(t){var e=this.doc,n=Ii(e,t.line).text,r=t.ch,i=t.ch;if(n){var o=this.getHelper(t,"wordChars");(t.xRel<0||i==n.length)&&r?--r:++i;for(var a=n.charAt(r),s=Mo(a,o)?function(t){return Mo(t,o)}:/\s/.test(a)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!Mo(t)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new G(ka(t.line,r),ka(t.line,i))},toggleOverwrite:function(t){(null==t||t!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Ds(this.display.cursorDiv,"CodeMirror-overwrite"):zs(this.display.cursorDiv,"CodeMirror-overwrite"),vs(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return zo()==this.display.input},scrollTo:mn(function(t,e){(null!=t||null!=e)&&Mr(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Ne(this)-this.display.barHeight,width:t.scrollWidth-Ne(this)-this.display.barWidth,clientHeight:ze(this),clientWidth:Fe(this)}},scrollIntoView:mn(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:ka(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)Mr(this),this.curOp.scrollToPos=t;else{var n=kr(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:mn(function(t,e){function n(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}var r=this;null!=t&&(r.display.wrapper.style.width=n(t)),null!=e&&(r.display.wrapper.style.height=n(e)),r.options.lineWrapping&&Ue(this);var i=r.display.viewFrom;r.doc.iter(i,r.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){xn(r,i,"widget");break}++i}),r.curOp.forceUpdate=!0,vs(r,"refresh",this)
}),operation:function(t){return pn(this,t)},refresh:mn(function(){var t=this.display.cachedTextHeight;_n(this),this.curOp.forceUpdate=!0,Be(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==t||Math.abs(t-nn(this.display))>.5)&&a(this),vs(this,"refresh",this)}),swapDoc:mn(function(t){var e=this.doc;return e.cm=null,Oi(this,t),Be(this),Ln(this),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,co(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},mo(t);var Ha=t.defaults={},Ra=t.optionHandlers={},qa=t.Init={toString:function(){return"CodeMirror.Init"}};Fr("value","",function(t,e){t.setValue(e)},!0),Fr("mode",null,function(t,e){t.doc.modeOption=e,n(t)},!0),Fr("indentUnit",2,n,!0),Fr("indentWithTabs",!1),Fr("smartIndent",!0),Fr("tabSize",4,function(t){r(t),Be(t),_n(t)},!0),Fr("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,e){t.options.specialChars=new RegExp(e.source+(e.test("	")?"":"|	"),"g"),t.refresh()},!0),Fr("specialCharPlaceholder",Mi,function(t){t.refresh()},!0),Fr("electricChars",!0),Fr("rtlMoveVisually",!va),Fr("wholeLineUpdateBefore",!0),Fr("theme","default",function(t){s(t),u(t)},!0),Fr("keyMap","default",function(e,n,r){var i=Dr(n),o=r!=t.Init&&Dr(r);o&&o.detach&&o.detach(e,i),i.attach&&i.attach(e,o||null)}),Fr("extraKeys",null),Fr("lineWrapping",!1,i,!0),Fr("gutters",[],function(t){d(t.options),u(t)},!0),Fr("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?C(t.display)+"px":"0",t.refresh()},!0),Fr("coverGutterNextToScrollbar",!1,function(t){y(t)},!0),Fr("scrollbarStyle","native",function(t){v(t),y(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),Fr("lineNumbers",!1,function(t){d(t.options),u(t)},!0),Fr("firstLineNumber",1,u,!0),Fr("lineNumberFormatter",function(t){return t},u,!0),Fr("showCursorWhenSelecting",!1,_e,!0),Fr("resetSelectionOnContextMenu",!0),Fr("readOnly",!1,function(t,e){"nocursor"==e?(or(t),t.display.input.blur(),t.display.disabled=!0):(t.display.disabled=!1,e||Ln(t))}),Fr("disableInput",!1,function(t,e){e||Ln(t)},!0),Fr("dragDrop",!0),Fr("cursorBlinkRate",530),Fr("cursorScrollMargin",0),Fr("cursorHeight",1,_e,!0),Fr("singleCursorHeightPerLine",!0,_e,!0),Fr("workTime",100),Fr("workDelay",100),Fr("flattenSpans",!0,r,!0),Fr("addModeClass",!1,r,!0),Fr("pollInterval",100),Fr("undoDepth",200,function(t,e){t.doc.history.undoDepth=e}),Fr("historyEventDelay",1250),Fr("viewportMargin",10,function(t){t.refresh()},!0),Fr("maxHighlightLength",1e4,r,!0),Fr("moveInputWithCursor",!0,function(t,e){e||(t.display.inputDiv.style.top=t.display.inputDiv.style.left=0)}),Fr("tabindex",null,function(t,e){t.display.input.tabIndex=e||""}),Fr("autofocus",null);var $a=t.modes={},Wa=t.mimeModes={};t.defineMode=function(e,n){t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),$a[e]=n},t.defineMIME=function(t,e){Wa[t]=e},t.resolveMode=function(e){if("string"==typeof e&&Wa.hasOwnProperty(e))e=Wa[e];else if(e&&"string"==typeof e.name&&Wa.hasOwnProperty(e.name)){var n=Wa[e.name];"string"==typeof n&&(n={name:n}),e=ko(n,e),e.name=n.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,n){var n=t.resolveMode(n),r=$a[n.name];if(!r)return t.getMode(e,"text/plain");var i=r(e,n);if(Ua.hasOwnProperty(n.name)){var o=Ua[n.name];for(var a in o)o.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&(i["_"+a]=i[a]),i[a]=o[a])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var a in n.modeProps)i[a]=n.modeProps[a];return i},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var Ua=t.modeExtensions={};t.extendMode=function(t,e){var n=Ua.hasOwnProperty(t)?Ua[t]:Ua[t]={};Co(e,n)},t.defineExtension=function(e,n){t.prototype[e]=n},t.defineDocExtension=function(t,e){ls.prototype[t]=e},t.defineOption=Fr;var Ba=[];t.defineInitHook=function(t){Ba.push(t)};var Qa=t.helpers={};t.registerHelper=function(e,n,r){Qa.hasOwnProperty(e)||(Qa[e]=t[e]={_global:[]}),Qa[e][n]=r},t.registerGlobalHelper=function(e,n,r,i){t.registerHelper(e,n,i),Qa[e]._global.push({pred:r,val:i})};var Xa=t.copyState=function(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var n={};for(var r in e){var i=e[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},Va=t.startState=function(t,e,n){return t.startState?t.startState(e,n):!0};t.innerMode=function(t,e){for(;t.innerMode;){var n=t.innerMode(e);if(!n||n.mode==t)break;e=n.state,t=n.mode}return n||{mode:t,state:e}};var Ya=t.commands={selectAll:function(t){t.setSelection(ka(t.firstLine(),0),ka(t.lastLine()),xs)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),xs)},killLine:function(t){Er(t,function(e){if(e.empty()){var n=Ii(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:ka(e.head.line+1,0)}:{from:e.head,to:ka(e.head.line,n)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){Er(t,function(e){return{from:ka(e.from().line,0),to:ee(t.doc,ka(e.to().line+1,0))}})},delLineLeft:function(t){Er(t,function(t){return{from:ka(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){Er(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return{from:r,to:e.from()}})},delWrappedLineRight:function(t){Er(t,function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:r}})},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(ka(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(ka(t.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return Xo(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){return Yo(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){t.extendSelectionsBy(function(e){return Vo(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},ks)},goLineLeft:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},ks)},goLineLeftSmart:function(t){t.extendSelectionsBy(function(e){var n=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:n},"div");return r.ch<t.getLine(r.line).search(/\S/)?Yo(t,e.head):r},ks)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("	")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),r=t.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=Cs(t.getLine(o.line),o.ch,r);e.push(new Array(r-a%r+1).join(" "))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){pn(t,function(){for(var e=t.listSelections(),n=[],r=0;r<e.length;r++){var i=e[r].head,o=Ii(t.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new ka(i.line,i.ch-1)),i.ch>0)i=new ka(i.line,i.ch+1),t.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),ka(i.line,i.ch-2),i,"+transpose");else if(i.line>t.doc.first){var a=Ii(t.doc,i.line-1).text;a&&t.replaceRange(o.charAt(0)+"\n"+a.charAt(a.length-1),ka(i.line-1,a.length-1),ka(i.line,1),"+transpose")}n.push(new G(i,i))}t.setSelections(n)})},newlineAndIndent:function(t){pn(t,function(){for(var e=t.listSelections().length,n=0;e>n;n++){var r=t.listSelections()[n];t.replaceRange("\n",r.anchor,r.head,"+input"),t.indentLine(r.from().line+1,null,!0),Sr(t)}})},toggleOverwrite:function(t){t.toggleOverwrite()}},Za=t.keyMap={};Za.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Za.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Za.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},Za.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Za["default"]=ma?Za.macDefault:Za.pcDefault,t.normalizeKeyMap=function(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete t[n];continue}for(var i=wo(n.split(" "),zr),o=0;o<i.length;o++){var a,s;o==i.length-1?(s=n,a=r):(s=i.slice(0,o+1).join(" "),a="...");var u=e[s];if(u){if(u!=a)throw new Error("Inconsistent bindings for "+s)}else e[s]=a}delete t[n]}for(var l in e)t[l]=e[l];return t};var Ga=t.lookupKey=function(t,e,n,r){e=Dr(e);var i=e.call?e.call(t,r):e[t];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&n(i))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Ga(t,e.fallthrough,n,r);for(var o=0;o<e.fallthrough.length;o++){var a=Ga(t,e.fallthrough[o],n,r);if(a)return a}}},Ka=t.isModifierKey=function(t){var e="string"==typeof t?t:qs[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},Ja=t.keyName=function(t,e){if(la&&34==t.keyCode&&t["char"])return!1;var n=qs[t.keyCode],r=n;return null==r||t.altGraphKey?!1:(t.altKey&&"Alt"!=n&&(r="Alt-"+r),(ba?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(r="Ctrl-"+r),(ba?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(r="Cmd-"+r),!e&&t.shiftKey&&"Shift"!=n&&(r="Shift-"+r),r)};t.fromTextArea=function(e,n){function r(){e.value=l.getValue()}if(n||(n={}),n.value=e.value,!n.tabindex&&e.tabindex&&(n.tabindex=e.tabindex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),null==n.autofocus){var i=zo();n.autofocus=i==e||null!=e.getAttribute("autofocus")&&i==document.body}if(e.form&&(gs(e.form,"submit",r),!n.leaveSubmitMethodAlone)){var o=e.form,a=o.submit;try{var s=o.submit=function(){r(),o.submit=a,o.submit(),o.submit=s}}catch(u){}}e.style.display="none";var l=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},n);return l.save=r,l.getTextArea=function(){return e},l.toTextArea=function(){l.toTextArea=isNaN,r(),e.parentNode.removeChild(l.getWrapperElement()),e.style.display="",e.form&&(ms(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=a))},l};var ts=t.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};ts.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var n=e==t;else var n=e&&(t.test?t.test(e):t(e));return n?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Cs(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Cs(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Cs(this.string,null,this.tabSize)-(this.lineStart?Cs(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,n){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&e!==!1&&(this.pos+=r[0].length),r)}var i=function(t){return n?t.toLowerCase():t},o=this.string.substr(this.pos,t.length);return i(o)==i(t)?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var es=t.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t};mo(es),es.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&on(t),go(this,"clear")){var n=this.find();n&&co(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=qr(a.markedSpans,this);t&&!this.collapsed?xn(t,$i(a),"text"):t&&(null!=s.to&&(i=$i(a)),null!=s.from&&(r=$i(a))),a.markedSpans=$r(a.markedSpans,s),null==s.from&&this.collapsed&&!li(this.doc,a)&&t&&qi(a,nn(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var u=oi(this.lines[o]),l=h(u);l>t.display.maxLineLength&&(t.display.maxLine=u,t.display.maxLineLength=l,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&_n(t,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&ge(t.doc)),t&&co(t,"markerCleared",t,this),e&&sn(t),this.parent&&this.parent.clear()}},es.prototype.find=function(t,e){null==t&&"bookmark"==this.type&&(t=1);for(var n,r,i=0;i<this.lines.length;++i){var o=this.lines[i],a=qr(o.markedSpans,this);if(null!=a.from&&(n=ka(e?o:$i(o),a.from),-1==t))return n;if(null!=a.to&&(r=ka(e?o:$i(o),a.to),1==t))return r}return n&&{from:n,to:r}},es.prototype.changed=function(){var t=this.find(-1,!0),e=this,n=this.doc.cm;t&&n&&pn(n,function(){var r=t.line,i=$i(t.line),o=Ie(n,i);if(o&&(We(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!li(e.doc,r)&&null!=e.height){var a=e.height;e.height=null;var s=fi(e)-a;s&&qi(r,r.height+s)}})},es.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=xo(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},es.prototype.detachLine=function(t){if(this.lines.splice(xo(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};var ns=0,rs=t.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};mo(rs),rs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();co(this,"clear")}},rs.prototype.find=function(t,e){return this.primary.find(t,e)};var is=t.LineWidget=function(t,e,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.cm=t,this.node=e};mo(is),is.prototype.clear=function(){var t=this.cm,e=this.line.widgets,n=this.line,r=$i(n);if(null!=r&&e){for(var i=0;i<e.length;++i)e[i]==this&&e.splice(i--,1);e.length||(n.widgets=null);var o=fi(this);pn(t,function(){hi(t,n,-o),xn(t,r,"widget"),qi(n,Math.max(0,n.height-o))})}},is.prototype.changed=function(){var t=this.height,e=this.cm,n=this.line;this.height=null;var r=fi(this)-t;r&&pn(e,function(){e.curOp.forceUpdate=!0,hi(e,n,r),qi(n,n.height+r)})};var os=t.Line=function(t,e,n){this.text=t,Gr(this,e),this.height=n?n(this):1};mo(os),os.prototype.lineNo=function(){return $i(this)};var as={},ss={};Di.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,r=t+e;r>n;++n){var i=this.lines[n];this.height-=i.height,gi(i),co(i,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=this},iterN:function(t,e,n){for(var r=t+e;r>t;++t)if(n(this.lines[t]))return!0}},ji.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(i>t){var o=Math.min(e,i-t),a=r.height;if(r.removeInner(t,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(e-=o))break;t=0}else t-=i}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Di))){var s=[];this.collapse(s),this.children=[new Di(s)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>=t){if(i.insertInner(t,e,n),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var a=i.lines.splice(i.lines.length-25,25),s=new Di(a);i.height-=s.height,this.children.splice(r+1,0,s),s.parent=this}this.maybeSpill()}break}t-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),n=new ji(e);if(t.parent){t.size-=n.size,t.height-=n.height;var r=xo(t.parent.children,t);t.parent.children.splice(r+1,0,n)}else{var i=new ji(t.children);i.parent=t,t.children=[i,n],t=i}n.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>t){var a=Math.min(e,o-t);if(i.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=o}}};var us=0,ls=t.Doc=function(t,e,n){if(!(this instanceof ls))return new ls(t,e,n);null==n&&(n=0),ji.call(this,[new Di([new os("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=ka(n,0);this.sel=J(r),this.history=new Qi(null),this.id=++us,this.modeOption=e,"string"==typeof t&&(t=Os(t)),zi(this,{from:r,to:r,text:t}),fe(this,J(r),xs)};ls.prototype=ko(ji.prototype,{constructor:ls,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,r=0;r<e.length;++r)n+=e[r].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Ri(this,this.first,this.first+this.size);return t===!1?e:e.join(t||"\n")},setValue:vn(function(t){var e=ka(this.first,0),n=this.first+this.size-1;dr(this,{from:e,to:ka(n,Ii(this,n).text.length),text:Os(t),origin:"setValue"},!0),fe(this,J(e))}),replaceRange:function(t,e,n,r){e=ee(this,e),n=n?ee(this,n):e,br(this,t,e,n,r)},getRange:function(t,e,n){var r=Hi(this,ee(this,t),ee(this,e));return n===!1?r:r.join(n||"\n")},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){return re(this,t)?Ii(this,t):void 0},getLineNumber:function(t){return $i(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Ii(this,t)),oi(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return ee(this,t)},getCursor:function(t){var e,n=this.sel.primary();return e=null==t||"head"==t?n.head:"anchor"==t?n.anchor:"end"==t||"to"==t||t===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:vn(function(t,e,n){le(this,ee(this,"number"==typeof t?ka(t,e||0):t),null,n)}),setSelection:vn(function(t,e,n){le(this,ee(this,t),ee(this,e||t),n)}),extendSelection:vn(function(t,e,n){ae(this,ee(this,t),e&&ee(this,e),n)}),extendSelections:vn(function(t,e){se(this,ie(this,t,e))}),extendSelectionsBy:vn(function(t,e){se(this,wo(this.sel.ranges,t),e)}),setSelections:vn(function(t,e,n){if(t.length){for(var r=0,i=[];r<t.length;r++)i[r]=new G(ee(this,t[r].anchor),ee(this,t[r].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),fe(this,K(i,e),n)}}),addSelection:vn(function(t,e,n){var r=this.sel.ranges.slice(0);r.push(new G(ee(this,t),ee(this,e||t))),fe(this,K(r,r.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,r=0;r<n.length;r++){var i=Hi(this,n[r].from(),n[r].to());e=e?e.concat(i):i}return t===!1?e:e.join(t||"\n")},getSelections:function(t){for(var e=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Hi(this,n[r].from(),n[r].to());t!==!1&&(i=i.join(t||"\n")),e[r]=i}return e},replaceSelection:function(t,e,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=t;this.replaceSelections(r,e,n||"+input")},replaceSelections:vn(function(t,e,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:Os(t[o]),origin:n}}for(var s=e&&"end"!=e&&hr(this,r,e),o=r.length-1;o>=0;o--)dr(this,r[o]);s?he(this,s):this.cm&&Sr(this.cm)}),undo:vn(function(){gr(this,"undo")}),redo:vn(function(){gr(this,"redo")}),undoSelection:vn(function(){gr(this,"undo",!0)}),redoSelection:vn(function(){gr(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new Qi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:ro(this.history.done),undone:ro(this.history.undone)}},setHistory:function(t){var e=this.history=new Qi(this.history.maxGeneration);e.done=ro(t.done.slice(0),null,!0),e.undone=ro(t.undone.slice(0),null,!0)},addLineClass:vn(function(t,e,n){return Ar(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[r]){if(Do(n).test(t[r]))return!1;t[r]+=" "+n}else t[r]=n;return!0})}),removeLineClass:vn(function(t,e,n){return Ar(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",i=t[r];if(!i)return!1;if(null==n)t[r]=null;else{var o=i.match(Do(n));if(!o)return!1;var a=o.index+o[0].length;t[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),markText:function(t,e,n){return jr(this,ee(this,t),ee(this,e),n,"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared};return t=ee(this,t),jr(this,t,t,n,"bookmark")},findMarksAt:function(t){t=ee(this,t);var e=[],n=Ii(this,t.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=t.ch)&&(null==i.to||i.to>=t.ch)&&e.push(i.marker.parent||i.marker)}return e},findMarks:function(t,e,n){t=ee(this,t),e=ee(this,e);var r=[],i=t.line;return this.iter(t.line,e.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var u=a[s];i==t.line&&t.ch>u.to||null==u.from&&i!=t.line||i==e.line&&u.from>e.ch||n&&!n(u.marker)||r.push(u.marker.parent||u.marker)}++i}),r},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&t.push(n[r].marker)}),t},posFromIndex:function(t){var e,n=this.first;return this.iter(function(r){var i=r.text.length+1;return i>t?(e=t,!0):(t-=i,void++n)}),ee(this,ka(n,e))},indexFromPos:function(t){t=ee(this,t);var e=t.ch;return t.line<this.first||t.ch<0?0:(this.iter(this.first,t.line,function(t){e+=t.text.length+1}),e)},copy:function(t){var e=new ls(Ri(this,this.first,this.first+this.size),this.modeOption,this.first);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var r=new ls(Ri(this,e,n),t.mode||this.modeOption,e);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Ir(r,Or(this)),r},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=this.linked[n];if(r.doc==e){this.linked.splice(n,1),e.unlinkDoc(this),Hr(Or(this));break}}if(e.history==this.history){var i=[e.id];Pi(e,function(t){i.push(t.id)},!0),e.history=new Qi(null),e.history.done=ro(this.history.done,i),e.history.undone=ro(this.history.undone,i)}},iterLinkedDocs:function(t){Pi(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),ls.prototype.eachLine=ls.prototype.iter;var cs="iter insert remove copy getEditor".split(" ");for(var hs in ls.prototype)ls.prototype.hasOwnProperty(hs)&&xo(cs,hs)<0&&(t.prototype[hs]=function(t){return function(){return t.apply(this.doc,arguments)}}(ls.prototype[hs]));mo(ls);var fs=t.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},ds=t.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},ps=t.e_stop=function(t){fs(t),ds(t)},gs=t.on=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var r=t._handlers||(t._handlers={}),i=r[e]||(r[e]=[]);i.push(n)}},ms=t.off=function(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var r=t._handlers&&t._handlers[e];if(!r)return;for(var i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}}},vs=t.signal=function(t,e){var n=t._handlers&&t._handlers[e];if(n)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},ys=null,bs=30,_s=t.Pass={toString:function(){return"CodeMirror.Pass"}},xs={scroll:!1},ws={origin:"*mouse"},ks={origin:"+move"};vo.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var Cs=t.countColumn=function(t,e,n,r,i){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var o=r||0,a=i||0;;){var s=t.indexOf("	",o);if(0>s||s>=e)return a+(e-o);a+=s-o,a+=n-a%n,o=s+1}},Ss=[""],Ms=function(t){t.select()};pa?Ms=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:ia&&(Ms=function(t){try{t.select()}catch(e){}}),[].indexOf&&(xo=function(t,e){return t.indexOf(e)}),[].map&&(wo=function(t,e){return t.map(e)});var Ts,As=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Es=t.isWordChar=function(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||As.test(t))},Ls=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Ts=document.createRange?function(t,e,n){var r=document.createRange();return r.setEnd(t,n),r.setStart(t,e),r}:function(t,e,n){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(i){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r},ia&&11>oa&&(zo=function(){try{return document.activeElement}catch(t){return document.body}});var Ns,Fs,zs=t.rmClass=function(t,e){var n=t.className,r=Do(e).exec(n);if(r){var i=n.slice(r.index+r[0].length);t.className=n.slice(0,r.index)+(i?r[1]+i:"")
}},Ds=t.addClass=function(t,e){var n=t.className;Do(e).test(n)||(t.className+=(n?" ":"")+e)},js=!1,Ps=function(){if(ia&&9>oa)return!1;var t=Eo("div");return"draggable"in t||"dragDrop"in t}(),Os=t.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],r=t.length;r>=e;){var i=t.indexOf("\n",e);-1==i&&(i=t.length);var o=t.slice(e,"\r"==t.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),e+=a+1):(n.push(o),e=i+1)}return n}:function(t){return t.split(/\r\n?|\n/)},Is=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(n){}return e&&e.parentElement()==t?0!=e.compareEndPoints("StartToEnd",e):!1},Hs=function(){var t=Eo("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),Rs=null,qs={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};t.keyNames=qs,function(){for(var t=0;10>t;t++)qs[t+48]=qs[t+96]=String(t);for(var t=65;90>=t;t++)qs[t]=String.fromCharCode(t);for(var t=1;12>=t;t++)qs[t+111]=qs[t+63235]="F"+t}();var $s,Ws=function(){function t(t){return 247>=t?n.charAt(t):t>=1424&&1524>=t?"R":t>=1536&&1773>=t?r.charAt(t-1536):t>=1774&&2220>=t?"r":t>=8192&&8203>=t?"w":8204==t?"b":"L"}function e(t,e,n){this.level=t,this.from=e,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,u=/[1n]/,l="L";return function(n){if(!i.test(n))return!1;for(var r,c=n.length,h=[],f=0;c>f;++f)h.push(r=t(n.charCodeAt(f)));for(var f=0,d=l;c>f;++f){var r=h[f];"m"==r?h[f]=d:d=r}for(var f=0,p=l;c>f;++f){var r=h[f];"1"==r&&"r"==p?h[f]="n":a.test(r)&&(p=r,"r"==r&&(h[f]="R"))}for(var f=1,d=h[0];c-1>f;++f){var r=h[f];"+"==r&&"1"==d&&"1"==h[f+1]?h[f]="1":","!=r||d!=h[f+1]||"1"!=d&&"n"!=d||(h[f]=d),d=r}for(var f=0;c>f;++f){var r=h[f];if(","==r)h[f]="N";else if("%"==r){for(var g=f+1;c>g&&"%"==h[g];++g);for(var m=f&&"!"==h[f-1]||c>g&&"1"==h[g]?"1":"N",v=f;g>v;++v)h[v]=m;f=g-1}}for(var f=0,p=l;c>f;++f){var r=h[f];"L"==p&&"1"==r?h[f]="L":a.test(r)&&(p=r)}for(var f=0;c>f;++f)if(o.test(h[f])){for(var g=f+1;c>g&&o.test(h[g]);++g);for(var y="L"==(f?h[f-1]:l),b="L"==(c>g?h[g]:l),m=y||b?"L":"R",v=f;g>v;++v)h[v]=m;f=g-1}for(var _,x=[],f=0;c>f;)if(s.test(h[f])){var w=f;for(++f;c>f&&s.test(h[f]);++f);x.push(new e(0,w,f))}else{var k=f,C=x.length;for(++f;c>f&&"L"!=h[f];++f);for(var v=k;f>v;)if(u.test(h[v])){v>k&&x.splice(C,0,new e(1,k,v));var S=v;for(++v;f>v&&u.test(h[v]);++v);x.splice(C,0,new e(2,S,v)),k=v}else++v;f>k&&x.splice(C,0,new e(1,k,f))}return 1==x[0].level&&(_=n.match(/^\s+/))&&(x[0].from=_[0].length,x.unshift(new e(0,0,_[0].length))),1==_o(x).level&&(_=n.match(/\s+$/))&&(_o(x).to-=_[0].length,x.push(new e(0,c-_[0].length,c))),x[0].level!=_o(x).level&&x.push(new e(x[0].level,c,c)),x}}();return t.version="4.10.0",t}),function(t,e){if("function"==typeof define&&define.amd)define([],e);else if("object"==typeof exports){var n=e();"object"==typeof module&&module&&module.exports&&(exports=module.exports=n),exports.randomColor=n}else t.randomColor=e()}(this,function(){function t(t){var e=o(t.hue),n=u(e);return 0>n&&(n=360+n),n}function e(t,e){if("random"===e.luminosity)return u([0,100]);if("monochrome"===e.hue)return 0;var n=a(t),r=n[0],i=n[1];switch(e.luminosity){case"bright":r=55;break;case"dark":r=i-10;break;case"light":i=55}return u([r,i])}function n(t,e,n){var r=i(t,e),o=100;switch(n.luminosity){case"dark":o=r+20;break;case"light":r=(o+r)/2;break;case"random":r=0,o=100}return u([r,o])}function r(t,e){switch(e.format){case"hsvArray":return t;case"hslArray":return d(t);case"hsl":var n=d(t);return"hsl("+n[0]+", "+n[1]+"%, "+n[2]+"%)";case"rgbArray":return f(t);case"rgb":var r=f(t);return"rgb("+r.join(", ")+")";default:return l(t)}}function i(t,e){for(var n=s(t).lowerBounds,r=0;r<n.length-1;r++){var i=n[r][0],o=n[r][1],a=n[r+1][0],u=n[r+1][1];if(e>=i&&a>=e){var l=(u-o)/(a-i),c=o-l*i;return l*e+c}}return 0}function o(t){if("number"==typeof parseInt(t)){var e=parseInt(t);if(360>e&&e>0)return[e,e]}if("string"==typeof t&&p[t]){var n=p[t];if(n.hueRange)return n.hueRange}return[0,360]}function a(t){return s(t).saturationRange}function s(t){t>=334&&360>=t&&(t-=360);for(var e in p){var n=p[e];if(n.hueRange&&t>=n.hueRange[0]&&t<=n.hueRange[1])return p[e]}return"Color not found"}function u(t){return Math.floor(t[0]+Math.random()*(t[1]+1-t[0]))}function l(t){function e(t){var e=t.toString(16);return 1==e.length?"0"+e:e}var n=f(t),r="#"+e(n[0])+e(n[1])+e(n[2]);return r}function c(t,e,n){var r=n[0][0],i=n[n.length-1][0],o=n[n.length-1][1],a=n[0][1];p[t]={hueRange:e,lowerBounds:n,saturationRange:[r,i],brightnessRange:[o,a]}}function h(){c("monochrome",null,[[0,0],[100,0]]),c("red",[-26,18],[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50]]),c("orange",[19,46],[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70]]),c("yellow",[47,62],[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75]]),c("green",[63,178],[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40]]),c("blue",[179,257],[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35]]),c("purple",[258,282],[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42]]),c("pink",[283,334],[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73]])}function f(t){var e=t[0];0===e&&(e=1),360===e&&(e=359),e/=360;var n=t[1]/100,r=t[2]/100,i=Math.floor(6*e),o=6*e-i,a=r*(1-n),s=r*(1-o*n),u=r*(1-(1-o)*n),l=256,c=256,h=256;switch(i){case 0:l=r,c=u,h=a;break;case 1:l=s,c=r,h=a;break;case 2:l=a,c=r,h=u;break;case 3:l=a,c=s,h=r;break;case 4:l=u,c=a,h=r;break;case 5:l=r,c=a,h=s}var f=[Math.floor(255*l),Math.floor(255*c),Math.floor(255*h)];return f}function d(t){var e=t[0],n=t[1]/100,r=t[2]/100,i=(2-n)*r;return[e,Math.round(n*r/(1>i?i:2-i)*1e4)/100,i/2*100]}var p={};h();var g=function(i){i=i||{};var o,a,s;if(null!=i.count){var u=i.count,l=[];for(i.count=null;u>l.length;)l.push(g(i));return i.count=u,l}return o=t(i),a=e(o,i),s=n(o,a,i),r([o,a,s],i)};return g}),!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function n(t,e){return e>t?-1:t>e?1:t>=e?0:0/0}function r(t){return null===t?0/0:+t}function i(t){return!isNaN(t)}function o(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function a(t){return t.length}function s(t){for(var e=1;t*e%1;)e*=10;return e}function u(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function l(){this._=Object.create(null)}function c(t){return(t+="")===gs||t[0]===ms?ms+t:t}function h(t){return(t+="")[0]===ms?t.slice(1):t}function f(t){return c(t)in this._}function d(t){return(t=c(t))in this._&&delete this._[t]}function p(){var t=[];for(var e in this._)t.push(h(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(t){return t}function b(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function _(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=vs.length;r>n;++n){var i=vs[n]+e;if(i in t)return i}}function x(){}function w(){}function k(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new l;return e.on=function(e,i){var o,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function C(){ns.event.preventDefault()}function S(){for(var t,e=ns.event;t=e.sourceEvent;)e=t;return e}function M(t){for(var e=new w,n=0,r=arguments.length;++n<r;)e[arguments[n]]=k(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=ns.event;i.target=t,ns.event=i,e[i.type].apply(n,r)}finally{ns.event=o}}},e}function T(t){return bs(t,ks),t}function A(t){return"function"==typeof t?t:function(){return _s(t,this)}}function E(t){return"function"==typeof t?t:function(){return xs(t,this)}}function L(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=ns.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function N(t){return t.trim().replace(/\s+/g," ")}function F(t){return new RegExp("(?:^|\\s+)"+ns.requote(t)+"(?:\\s+|$)","g")}function z(t){return(t+"").trim().split(/^|\s+/)}function D(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=z(t).map(j);var i=t.length;return"function"==typeof e?r:n}function j(t){var e=F(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",N(i+" "+t))):n.setAttribute("class",N(i.replace(e," ")))}}function P(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function O(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function I(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n?e.createElementNS(n,t):e.createElement(t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ns.ns.qualify(t)).local?n:e}function H(){var t=this.parentNode;t&&t.removeChild(this)}function R(t){return{__data__:t}}function q(t){return function(){return ws(this,t)}}function $(t){return arguments.length||(t=n),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function W(t,e){for(var n=0,r=t.length;r>n;n++)for(var i,o=t[n],a=0,s=o.length;s>a;a++)(i=o[a])&&e(i,a,n);return t}function U(t){return bs(t,Ss),t}function B(t){var e,n;return function(r,i,o){var a,s=t[o].update,u=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<u;);return a}}function Q(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function i(){var i=u(e,is(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=n),i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+ns.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),u=X;s>0&&(t=t.slice(0,s));var l=Ms.get(t);return l&&(t=l,u=V),s?e?i:r:e?x:o}function X(t,e){return function(n){var r=ns.event;ns.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{ns.event=r}}}function V(t,e){var n=X(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function Y(n){var r=".dragsuppress-"+ ++As,i="click"+r,o=ns.select(e(n)).on("touchmove"+r,C).on("dragstart"+r,C).on("selectstart"+r,C);if(null==Ts&&(Ts="onselectstart"in n?!1:_(n.style,"userSelect")),Ts){var a=t(n).style,s=a[Ts];a[Ts]="none"}return function(t){if(o.on(r,null),Ts&&(a[Ts]=s),t){var e=function(){o.on(i,null)};o.on(i,function(){C(),e()},!0),setTimeout(e,0)}}}function Z(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(0>Es){var o=e(t);if(o.scrollX||o.scrollY){r=ns.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=r[0][0].getScreenCTM();Es=!(a.f||a.e),r.remove()}}return Es?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function G(){return ns.event.changedTouches[0].identifier}function K(t){return t>0?1:0>t?-1:0}function J(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function te(t){return t>1?0:-1>t?Fs:Math.acos(t)}function ee(t){return t>1?js:-1>t?-js:Math.asin(t)}function ne(t){return((t=Math.exp(t))-1/t)/2}function re(t){return((t=Math.exp(t))+1/t)/2}function ie(t){return((t=Math.exp(2*t))-1)/(t+1)}function oe(t){return(t=Math.sin(t/2))*t}function ae(){}function se(t,e,n){return this instanceof se?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof se?new se(t.h,t.s,t.l):xe(""+t,we,se):new se(t,e,n)}function ue(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(a-o)*t/60:180>t?a:240>t?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+e):n+e-n*e,o=2*n-a,new ve(i(t+120),i(t),i(t-120))}function le(t,e,n){return this instanceof le?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof le?new le(t.h,t.c,t.l):t instanceof he?de(t.l,t.a,t.b):de((t=ke((t=ns.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new le(t,e,n)}function ce(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new he(n,Math.cos(t*=Ps)*e,Math.sin(t)*e)}function he(t,e,n){return this instanceof he?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof he?new he(t.l,t.a,t.b):t instanceof le?ce(t.h,t.c,t.l):ke((t=ve(t)).r,t.g,t.b):new he(t,e,n)}function fe(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return i=pe(i)*Xs,r=pe(r)*Vs,o=pe(o)*Ys,new ve(me(3.2404542*i-1.5371385*r-.4985314*o),me(-.969266*i+1.8760108*r+.041556*o),me(.0556434*i-.2040259*r+1.0572252*o))}function de(t,e,n){return t>0?new le(Math.atan2(n,e)*Os,Math.sqrt(e*e+n*n),t):new le(0/0,0/0,t)}function pe(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function ge(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function me(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ve(t,e,n){return this instanceof ve?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof ve?new ve(t.r,t.g,t.b):xe(""+t,ve,ue):new ve(t,e,n)}function ye(t){return new ve(t>>16,t>>8&255,255&t)}function be(t){return ye(t)+""}function _e(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function xe(t,e,n){var r,i,o,a=0,s=0,u=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(Se(i[0]),Se(i[1]),Se(i[2]))}return(o=Ks.get(t.toLowerCase()))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,u=15&o,u=u<<4|u):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,u=255&o)),e(a,s,u))}function we(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,u=(a+o)/2;return s?(i=.5>u?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=0/0,i=u>0&&1>u?0:r),new se(r,i,u)}function ke(t,e,n){t=Ce(t),e=Ce(e),n=Ce(n);var r=ge((.4124564*t+.3575761*e+.1804375*n)/Xs),i=ge((.2126729*t+.7151522*e+.072175*n)/Vs),o=ge((.0193339*t+.119192*e+.9503041*n)/Ys);return he(116*i-16,500*(r-i),200*(i-o))}function Ce(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Se(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Me(t){return"function"==typeof t?t:function(){return t}}function Te(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Ae(e,n,t,r)}}function Ae(t,e,n,r){function i(){var t,e=u.status;if(!e&&Le(u)||e>=200&&300>e||304===e){try{t=n.call(o,u)}catch(r){return void a.error.call(o,r)}a.load.call(o,t)}else a.error.call(o,u)}var o={},a=ns.dispatch("beforesend","progress","load","error"),s={},u=new XMLHttpRequest,l=null;return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(t)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=i:u.onreadystatechange=function(){u.readyState>3&&i()},u.onprogress=function(t){var e=ns.event;ns.event=t;try{a.progress.call(o,u)}finally{ns.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(l=t,o):l},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(is(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),u.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),u.setRequestHeader)for(var c in s)u.setRequestHeader(c,s[c]);return null!=e&&u.overrideMimeType&&u.overrideMimeType(e),null!=l&&(u.responseType=l),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),a.beforesend.call(o,u),u.send(null==r?null:r),o},o.abort=function(){return u.abort(),o},ns.rebind(o,a,"on"),null==r?o:o.get(Ee(r))}function Ee(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Le(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Ne(){var t=Fe(),e=ze()-t;e>24?(isFinite(e)&&(clearTimeout(nu),nu=setTimeout(Ne,e)),eu=0):(eu=1,iu(Ne))}function Fe(){var t=Date.now();for(ru=Js;ru;)t>=ru.t&&(ru.f=ru.c(t-ru.t)),ru=ru.n;return t}function ze(){for(var t,e=Js,n=1/0;e;)e.f?e=t?t.n=e.n:Js=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return tu=t,n}function De(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function je(t,e){var n=Math.pow(10,3*ps(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Pe(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,o=[],a=0,s=r[0],u=0;i>0&&s>0&&(u+s+1>e&&(s=Math.max(1,e-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>e));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:y;return function(t){var n=au.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",u=n[4]||"",l=n[5],c=+n[6],h=n[7],f=n[8],d=n[9],p=1,g="",m="",v=!1,y=!0;switch(f&&(f=+f.substring(1)),(l||"0"===r&&"="===a)&&(l=r="0",a="="),d){case"n":h=!0,d="g";break;case"%":p=100,m="%",d="f";break;case"p":p=100,m="%",d="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+d.toLowerCase());case"c":y=!1;case"d":v=!0,f=0;break;case"s":p=-1,d="r"}"$"===u&&(g=i[0],m=i[1]),"r"!=d||f||(d="g"),null!=f&&("g"==d?f=Math.max(1,Math.min(21,f)):("e"==d||"f"==d)&&(f=Math.max(0,Math.min(20,f)))),d=su.get(d)||Oe;var b=l&&h;return function(t){var n=m;if(v&&t%1)return"";var i=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>p){var u=ns.formatPrefix(t,f);t=u.scale(t),n=u.symbol+m}else t*=p;t=d(t,f);var _,x,w=t.lastIndexOf(".");if(0>w){var k=y?t.lastIndexOf("e"):-1;0>k?(_=t,x=""):(_=t.substring(0,k),x=t.substring(k))}else _=t.substring(0,w),x=e+t.substring(w+1);!l&&h&&(_=o(_,1/0));var C=g.length+_.length+x.length+(b?0:i.length),S=c>C?new Array(C=c-C+1).join(r):"";return b&&(_=o(S+_,S.length?c-x.length:1/0)),i+=g,t=_+x,("<"===a?i+t+S:">"===a?S+i+t:"^"===a?S.substring(0,C>>=1)+i+t+S.substring(C):i+(b?t:S+t))+n}}}function Oe(t){return t+""}function Ie(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function He(t,e,n){function r(e){var n=t(e),r=o(n,1);return r-e>e-n?n:r}function i(n){return e(n=t(new lu(n-1)),1),n}function o(t,n){return e(t=new lu(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;r>a;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{lu=Ie;var r=new Ie;return r._=t,a(r,e,n)}finally{lu=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var u=t.utc=Re(t);return u.floor=u,u.round=Re(r),u.ceil=Re(i),u.offset=Re(o),u.range=s,t}function Re(t){return function(e,n){try{lu=Ie;var r=new Ie;return r._=e,t(r,n)._}finally{lu=Date}}}function qe(t){function e(t){function e(e){for(var n,i,o,a=[],s=-1,u=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=hu[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=A[n])&&(n=o(e,null==i?"e"===n?" ":"0":i)),a.push(n),u=s+1);return a.push(t.slice(u,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,t,e,0);if(i!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&lu!==Ie,a=new(o?Ie:lu);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?a._:a},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,o,a,s=0,u=e.length,l=n.length;u>s;){if(r>=l)return-1;if(i=e.charCodeAt(s++),37===i){if(a=e.charAt(s++),o=E[a in hu?e.charAt(s++):a],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){w.lastIndex=0;var r=w.exec(e.slice(n));return r?(t.w=k.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){_.lastIndex=0;var r=_.exec(e.slice(n));return r?(t.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){M.lastIndex=0;var r=M.exec(e.slice(n));return r?(t.m=T.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){C.lastIndex=0;var r=C.exec(e.slice(n));return r?(t.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,A.c.toString(),e,r)}function u(t,e,r){return n(t,A.x.toString(),e,r)}function l(t,e,r){return n(t,A.X.toString(),e,r)}function c(t,e,n){var r=b.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var h=t.dateTime,f=t.date,d=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{lu=Ie;var e=new lu;return e._=t,r(e)}finally{lu=Date}}var r=e(t);return n.parse=function(t){try{lu=Ie;var e=r.parse(t);return e&&e._}finally{lu=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=un;var b=ns.map(),_=We(g),x=Ue(g),w=We(m),k=Ue(m),C=We(v),S=Ue(v),M=We(y),T=Ue(y);p.forEach(function(t,e){b.set(t.toLowerCase(),e)});var A={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(h),d:function(t,e){return $e(t.getDate(),e,2)},e:function(t,e){return $e(t.getDate(),e,2)},H:function(t,e){return $e(t.getHours(),e,2)},I:function(t,e){return $e(t.getHours()%12||12,e,2)},j:function(t,e){return $e(1+uu.dayOfYear(t),e,3)},L:function(t,e){return $e(t.getMilliseconds(),e,3)},m:function(t,e){return $e(t.getMonth()+1,e,2)},M:function(t,e){return $e(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return $e(t.getSeconds(),e,2)},U:function(t,e){return $e(uu.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return $e(uu.mondayOfYear(t),e,2)},x:e(f),X:e(d),y:function(t,e){return $e(t.getFullYear()%100,e,2)},Y:function(t,e){return $e(t.getFullYear()%1e4,e,4)},Z:an,"%":function(){return"%"}},E={a:r,A:i,b:o,B:a,c:s,d:Je,e:Je,H:en,I:en,j:tn,L:on,m:Ke,M:nn,p:c,S:rn,U:Qe,w:Be,W:Xe,x:u,X:l,y:Ye,Y:Ve,Z:Ze,"%":sn};return e}function $e(t,e,n){var r=0>t?"-":"",i=(r?-t:t)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(e)+i:i)}function We(t){return new RegExp("^(?:"+t.map(ns.requote).join("|")+")","i")}function Ue(t){for(var e=new l,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Be(t,e,n){fu.lastIndex=0;var r=fu.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Qe(t,e,n){fu.lastIndex=0;var r=fu.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Xe(t,e,n){fu.lastIndex=0;var r=fu.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Ve(t,e,n){fu.lastIndex=0;var r=fu.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ye(t,e,n){fu.lastIndex=0;var r=fu.exec(e.slice(n,n+2));return r?(t.y=Ge(+r[0]),n+r[0].length):-1}function Ze(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Ge(t){return t+(t>68?1900:2e3)}function Ke(t,e,n){fu.lastIndex=0;var r=fu.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Je(t,e,n){fu.lastIndex=0;var r=fu.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function tn(t,e,n){fu.lastIndex=0;var r=fu.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function en(t,e,n){fu.lastIndex=0;var r=fu.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function nn(t,e,n){fu.lastIndex=0;var r=fu.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function rn(t,e,n){fu.lastIndex=0;var r=fu.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function on(t,e,n){fu.lastIndex=0;var r=fu.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function an(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=ps(e)/60|0,i=ps(e)%60;return n+$e(r,"0",2)+$e(i,"0",2)}function sn(t,e,n){du.lastIndex=0;var r=du.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function un(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function ln(){}function cn(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function hn(t,e){t&&vu.hasOwnProperty(t.type)&&vu[t.type](t,e)}function fn(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function dn(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)fn(t[n],e,1);e.polygonEnd()}function pn(){function t(t,e){t*=Ps,e=e*Ps/2+Fs/4;var n=t-r,a=n>=0?1:-1,s=a*n,u=Math.cos(e),l=Math.sin(e),c=o*l,h=i*u+c*Math.cos(s),f=c*a*Math.sin(s);bu.add(Math.atan2(f,h)),r=t,i=u,o=l}var e,n,r,i,o;_u.point=function(a,s){_u.point=t,r=(e=a)*Ps,i=Math.cos(s=(n=s)*Ps/2+Fs/4),o=Math.sin(s)},_u.lineEnd=function(){t(e,n)}}function gn(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function mn(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function vn(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function yn(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function bn(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function _n(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function xn(t){return[Math.atan2(t[1],t[0]),ee(t[2])]}function wn(t,e){return ps(t[0]-e[0])<Ls&&ps(t[1]-e[1])<Ls}function kn(t,e){t*=Ps;var n=Math.cos(e*=Ps);Cn(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Cn(t,e,n){++xu,ku+=(t-ku)/xu,Cu+=(e-Cu)/xu,Su+=(n-Su)/xu}function Sn(){function t(t,i){t*=Ps;var o=Math.cos(i*=Ps),a=o*Math.cos(t),s=o*Math.sin(t),u=Math.sin(i),l=Math.atan2(Math.sqrt((l=n*u-r*s)*l+(l=r*a-e*u)*l+(l=e*s-n*a)*l),e*a+n*s+r*u);wu+=l,Mu+=l*(e+(e=a)),Tu+=l*(n+(n=s)),Au+=l*(r+(r=u)),Cn(e,n,r)}var e,n,r;Fu.point=function(i,o){i*=Ps;var a=Math.cos(o*=Ps);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Fu.point=t,Cn(e,n,r)}}function Mn(){Fu.point=kn}function Tn(){function t(t,e){t*=Ps;var n=Math.cos(e*=Ps),a=n*Math.cos(t),s=n*Math.sin(t),u=Math.sin(e),l=i*u-o*s,c=o*a-r*u,h=r*s-i*a,f=Math.sqrt(l*l+c*c+h*h),d=r*a+i*s+o*u,p=f&&-te(d)/f,g=Math.atan2(f,d);Eu+=p*l,Lu+=p*c,Nu+=p*h,wu+=g,Mu+=g*(r+(r=a)),Tu+=g*(i+(i=s)),Au+=g*(o+(o=u)),Cn(r,i,o)}var e,n,r,i,o;Fu.point=function(a,s){e=a,n=s,Fu.point=t,a*=Ps;var u=Math.cos(s*=Ps);r=u*Math.cos(a),i=u*Math.sin(a),o=Math.sin(s),Cn(r,i,o)},Fu.lineEnd=function(){t(e,n),Fu.lineEnd=Mn,Fu.point=kn}}function An(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function En(){return!0}function Ln(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(wn(n,r)){i.lineStart();for(var s=0;e>s;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var u=new Fn(n,t,null,!0),l=new Fn(n,null,u,!1);u.o=l,o.push(u),a.push(l),u=new Fn(r,t,null,!1),l=new Fn(r,null,u,!0),u.o=l,o.push(u),a.push(l)}}),a.sort(e),Nn(o),Nn(a),o.length){for(var s=0,u=n,l=a.length;l>s;++s)a[s].e=u=!u;for(var c,h,f=o[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(var s=0,l=c.length;l>s;++s)i.point((h=c[s])[0],h[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p){c=d.p.z;for(var s=c.length-1;s>=0;--s)i.point((h=c[s])[0],h[1])}else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,p=!p}while(!d.v);i.lineEnd()}}}function Nn(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Fn(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function zn(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);m.point(n[0],n[1])}function u(){y.point=s,m.lineStart()}function l(){y.point=a,m.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);_.point(n[0],n[1])}function h(){_.lineStart(),g=[]}function f(){c(g[0][0],g[0][1]),_.lineEnd();var t,e=_.clean(),n=b.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&e){t=n[0];var i,r=t.length-1,a=-1;if(r>0){for(x||(o.polygonStart(),x=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),d.push(n.filter(Dn))}var d,p,g,m=e(o),v=i.invert(r[0],r[1]),y={point:a,lineStart:u,lineEnd:l,polygonStart:function(){y.point=c,y.lineStart=h,y.lineEnd=f,d=[],p=[]},polygonEnd:function(){y.point=a,y.lineStart=u,y.lineEnd=l,d=ns.merge(d);var t=Rn(v,p);d.length?(x||(o.polygonStart(),x=!0),Ln(d,Pn,t,n,o)):t&&(x||(o.polygonStart(),x=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},b=jn(),_=e(b),x=!1;return y}}function Dn(t){return t.length>1}function jn(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:x,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Pn(t,e){return((t=t.x)[0]<0?t[1]-js-Ls:js-t[1])-((e=e.x)[0]<0?e[1]-js-Ls:js-e[1])}function On(t){var e,n=0/0,r=0/0,i=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Fs:-Fs,u=ps(o-n);ps(u-Fs)<Ls?(t.point(n,r=(r+a)/2>0?js:-js),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Fs&&(ps(n-i)<Ls&&(n-=i*Ls),ps(o-s)<Ls&&(o-=s*Ls),r=In(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=0/0},clean:function(){return 2-e}}}function In(t,e,n,r){var i,o,a=Math.sin(t-n);return ps(a)>Ls?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function Hn(t,e,n,r){var i;if(null==t)i=n*js,r.point(-Fs,i),r.point(0,i),r.point(Fs,i),r.point(Fs,0),r.point(Fs,-i),r.point(0,-i),r.point(-Fs,-i),r.point(-Fs,0),r.point(-Fs,i);
else if(ps(t[0]-e[0])>Ls){var o=t[0]<e[0]?Fs:-Fs;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Rn(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;bu.reset();for(var s=0,u=e.length;u>s;++s){var l=e[s],c=l.length;if(c)for(var h=l[0],f=h[0],d=h[1]/2+Fs/4,p=Math.sin(d),g=Math.cos(d),m=1;;){m===c&&(m=0),t=l[m];var v=t[0],y=t[1]/2+Fs/4,b=Math.sin(y),_=Math.cos(y),x=v-f,w=x>=0?1:-1,k=w*x,C=k>Fs,S=p*b;if(bu.add(Math.atan2(S*w*Math.sin(k),g*_+S*Math.cos(k))),o+=C?x+w*zs:x,C^f>=n^v>=n){var M=vn(gn(h),gn(t));_n(M);var T=vn(i,M);_n(T);var A=(C^x>=0?-1:1)*ee(T[2]);(r>A||r===A&&(M[0]||M[1]))&&(a+=C^x>=0?1:-1)}if(!m++)break;f=v,p=b,g=_,h=t}}return(-Ls>o||Ls>o&&0>bu)^1&a}function qn(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var d,p=[h,f],g=e(h,f),m=a?g?0:i(h,f):g?i(h+(0>h?Fs:-Fs),f):0;if(!n&&(l=u=g)&&t.lineStart(),g!==u&&(d=r(n,p),(wn(n,d)||wn(p,d))&&(p[0]+=Ls,p[1]+=Ls,g=e(p[0],p[1]))),g!==u)c=0,g?(t.lineStart(),d=r(p,n),t.point(d[0],d[1])):(d=r(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(s&&n&&a^g){var v;m&o||!(v=r(p,n,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&wn(n,p)||t.point(p[0],p[1]),n=p,u=g,o=m},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}}function r(t,e,n){var r=gn(t),i=gn(e),a=[1,0,0],s=vn(r,i),u=mn(s,s),l=s[0],c=u-l*l;if(!c)return!n&&t;var h=o*u/c,f=-o*l/c,d=vn(a,s),p=bn(a,h),g=bn(s,f);yn(p,g);var m=d,v=mn(p,m),y=mn(m,m),b=v*v-y*(mn(p,p)-1);if(!(0>b)){var _=Math.sqrt(b),x=bn(m,(-v-_)/y);if(yn(x,p),x=xn(x),!n)return x;var w,k=t[0],C=e[0],S=t[1],M=e[1];k>C&&(w=k,k=C,C=w);var T=C-k,A=ps(T-Fs)<Ls,E=A||Ls>T;if(!A&&S>M&&(w=S,S=M,M=w),E?A?S+M>0^x[1]<(ps(x[0]-k)<Ls?S:M):S<=x[1]&&x[1]<=M:T>Fs^(k<=x[0]&&x[0]<=C)){var L=bn(m,(-v+_)/y);return yn(L,p),[x,xn(L)]}}}function i(e,n){var r=a?t:Fs-t,i=0;return-r>e?i|=1:e>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var o=Math.cos(t),a=o>0,s=ps(o)>Ls,u=pr(t,6*Ps);return zn(e,n,u,a?[0,-t]:[-Fs,t-Fs])}function $n(t,e,n,r){return function(i){var o,a=i.a,s=i.b,u=a.x,l=a.y,c=s.x,h=s.y,f=0,d=1,p=c-u,g=h-l;if(o=t-u,p||!(o>0)){if(o/=p,0>p){if(f>o)return;d>o&&(d=o)}else if(p>0){if(o>d)return;o>f&&(f=o)}if(o=n-u,p||!(0>o)){if(o/=p,0>p){if(o>d)return;o>f&&(f=o)}else if(p>0){if(f>o)return;d>o&&(d=o)}if(o=e-l,g||!(o>0)){if(o/=g,0>g){if(f>o)return;d>o&&(d=o)}else if(g>0){if(o>d)return;o>f&&(f=o)}if(o=r-l,g||!(0>o)){if(o/=g,0>g){if(o>d)return;o>f&&(f=o)}else if(g>0){if(f>o)return;d>o&&(d=o)}return f>0&&(i.a={x:u+f*p,y:l+f*g}),1>d&&(i.b={x:u+d*p,y:l+d*g}),i}}}}}}function Wn(t,e,n,r){function i(r,i){return ps(r[0]-t)<Ls?i>0?0:3:ps(r[0]-n)<Ls?i>0?2:1:ps(r[1]-e)<Ls?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function u(t){for(var e=0,n=m.length,r=t[1],i=0;n>i;++i)for(var o,a=1,s=m[i],u=s.length,l=s[0];u>a;++a)o=s[a],l[1]<=r?o[1]>r&&J(l,o,t)>0&&++e:o[1]<=r&&J(l,o,t)<0&&--e,l=o;return 0!==e}function l(o,s,u,l){var c=0,h=0;if(null==o||(c=i(o,u))!==(h=i(s,u))||a(o,s)<0^u>0){do l.point(0===c||3===c?t:n,c>1?r:e);while((c=(c+u+4)%4)!==h)}else l.point(s[0],s[1])}function c(i,o){return i>=t&&n>=i&&o>=e&&r>=o}function h(t,e){c(t,e)&&s.point(t,e)}function f(){E.point=p,m&&m.push(v=[]),C=!0,k=!1,x=w=0/0}function d(){g&&(p(y,b),_&&k&&T.rejoin(),g.push(T.buffer())),E.point=h,k&&s.lineEnd()}function p(t,e){t=Math.max(-Du,Math.min(Du,t)),e=Math.max(-Du,Math.min(Du,e));var n=c(t,e);if(m&&v.push([t,e]),C)y=t,b=e,_=n,C=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&k)s.point(t,e);else{var r={a:{x:x,y:w},b:{x:t,y:e}};A(r)?(k||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),S=!1):n&&(s.lineStart(),s.point(t,e),S=!1)}x=t,w=e,k=n}var g,m,v,y,b,_,x,w,k,C,S,M=s,T=jn(),A=$n(t,e,n,r),E={point:h,lineStart:f,lineEnd:d,polygonStart:function(){s=T,g=[],m=[],S=!0},polygonEnd:function(){s=M,g=ns.merge(g);var e=u([t,r]),n=S&&e,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),l(null,null,1,s),s.lineEnd()),i&&Ln(g,o,e,l,s),s.polygonEnd()),g=m=v=null}};return E}}function Un(t){var e=0,n=Fs/3,r=ar(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Fs/180,n=t[1]*Fs/180):[e/Fs*180,n/Fs*180]},i}function Bn(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,ee((o-(t*t+n*n)*i*i)/(2*i))]},n}function Qn(){function t(t,e){Pu+=i*t-r*e,r=t,i=e}var e,n,r,i;qu.point=function(o,a){qu.point=t,e=r=o,n=i=a},qu.lineEnd=function(){t(e,n)}}function Xn(t,e){Ou>t&&(Ou=t),t>Hu&&(Hu=t),Iu>e&&(Iu=e),e>Ru&&(Ru=e)}function Vn(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=Yn(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=Yn(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Yn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Zn(t,e){ku+=t,Cu+=e,++Su}function Gn(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);Mu+=a*(e+t)/2,Tu+=a*(n+r)/2,Au+=a,Zn(e=t,n=r)}var e,n;Wu.point=function(r,i){Wu.point=t,Zn(e=r,n=i)}}function Kn(){Wu.point=Zn}function Jn(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);Mu+=a*(r+t)/2,Tu+=a*(i+e)/2,Au+=a,a=i*t-r*e,Eu+=a*(r+t),Lu+=a*(i+e),Nu+=3*a,Zn(r=t,i=e)}var e,n,r,i;Wu.point=function(o,a){Wu.point=t,Zn(e=r=o,n=i=a)},Wu.lineEnd=function(){t(e,n)}}function tr(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,zs)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:x};return s}function er(t){function e(t){return(s?r:n)(t)}function n(e){return ir(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){b=0/0,C.point=o,e.lineStart()}function o(n,r){var o=gn([n,r]),a=t(n,r);i(b,_,y,x,w,k,b=a[0],_=a[1],y=n,x=o[0],w=o[1],k=o[2],s,e),e.point(b,_)}function a(){C.point=n,e.lineEnd()}function u(){r(),C.point=l,C.lineEnd=c}function l(t,e){o(h=t,f=e),d=b,p=_,g=x,m=w,v=k,C.point=o}function c(){i(b,_,y,x,w,k,d,p,h,g,m,v,s,e),C.lineEnd=a,a()}var h,f,d,p,g,m,v,y,b,_,x,w,k,C={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),C.lineStart=u},polygonEnd:function(){e.polygonEnd(),C.lineStart=r}};return C}function i(e,n,r,s,u,l,c,h,f,d,p,g,m,v){var y=c-e,b=h-n,_=y*y+b*b;if(_>4*o&&m--){var x=s+d,w=u+p,k=l+g,C=Math.sqrt(x*x+w*w+k*k),S=Math.asin(k/=C),M=ps(ps(k)-1)<Ls||ps(r-f)<Ls?(r+f)/2:Math.atan2(w,x),T=t(M,S),A=T[0],E=T[1],L=A-e,N=E-n,F=b*L-y*N;(F*F/_>o||ps((y*L+b*N)/_-.5)>.3||a>s*d+u*p+l*g)&&(i(e,n,r,s,u,l,A,E,M,x/=C,w/=C,k,m,v),v.point(A,E),i(A,E,M,x,w,k,c,h,f,d,p,g,m,v))}}var o=.5,a=Math.cos(30*Ps),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function nr(t){var e=er(function(e,n){return t([e*Os,n*Os])});return function(t){return sr(e(t))}}function rr(t){this.stream=t}function ir(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function or(t){return ar(function(){return t})()}function ar(t){function e(t){return t=s(t[0]*Ps,t[1]*Ps),[t[0]*f+u,l-t[1]*f]}function n(t){return t=s.invert((t[0]-u)/f,(l-t[1])/f),t&&[t[0]*Os,t[1]*Os]}function r(){s=An(a=cr(v,b,_),o);var t=o(g,m);return u=d-t[0]*f,l=p+t[1]*f,i()}function i(){return c&&(c.valid=!1,c=null),e}var o,a,s,u,l,c,h=er(function(t,e){return t=o(t,e),[t[0]*f+u,l-t[1]*f]}),f=150,d=480,p=250,g=0,m=0,v=0,b=0,_=0,x=zu,w=y,k=null,C=null;return e.stream=function(t){return c&&(c.valid=!1),c=sr(x(a,h(w(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(x=null==t?(k=t,zu):qn((k=+t)*Ps),i()):k},e.clipExtent=function(t){return arguments.length?(C=t,w=t?Wn(t[0][0],t[0][1],t[1][0],t[1][1]):y,i()):C},e.scale=function(t){return arguments.length?(f=+t,r()):f},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],r()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Ps,m=t[1]%360*Ps,r()):[g*Os,m*Os]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Ps,b=t[1]%360*Ps,_=t.length>2?t[2]%360*Ps:0,r()):[v*Os,b*Os,_*Os]},ns.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function sr(t){return ir(t,function(e,n){t.point(e*Ps,n*Ps)})}function ur(t,e){return[t,e]}function lr(t,e){return[t>Fs?t-zs:-Fs>t?t+zs:t,e]}function cr(t,e,n){return t?e||n?An(fr(t),dr(e,n)):fr(t):e||n?dr(e,n):lr}function hr(t){return function(e,n){return e+=t,[e>Fs?e-zs:-Fs>e?e+zs:e,n]}}function fr(t){var e=hr(t);return e.invert=hr(-t),e}function dr(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*r+s*i;return[Math.atan2(u*o-c*a,s*r-l*i),ee(c*o+u*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,u=Math.sin(t)*n,l=Math.sin(e),c=l*o-u*a;return[Math.atan2(u*o+l*a,s*r+c*i),ee(c*r-s*i)]},n}function pr(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var u=a*e;null!=i?(i=gr(n,i),o=gr(n,o),(a>0?o>i:i>o)&&(i+=a*zs)):(i=t+a*zs,o=t-.5*u);for(var l,c=i;a>0?c>o:o>c;c-=u)s.point((l=xn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function gr(t,e){var n=gn(e);n[0]-=t,_n(n);var r=te(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ls)%(2*Math.PI)}function mr(t,e,n){var r=ns.range(t,e-Ls,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function vr(t,e,n){var r=ns.range(t,e-Ls,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function yr(t){return t.source}function br(t){return t.target}function _r(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),u=i*Math.cos(t),l=i*Math.sin(t),c=a*Math.cos(n),h=a*Math.sin(n),f=2*Math.asin(Math.sqrt(oe(r-e)+i*a*oe(n-t))),d=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*d,n=Math.sin(f-t)*d,r=n*u+e*c,i=n*l+e*h,a=n*o+e*s;return[Math.atan2(i,r)*Os,Math.atan2(a,Math.sqrt(r*r+i*i))*Os]}:function(){return[t*Os,e*Os]};return p.distance=f,p}function xr(){function t(t,i){var o=Math.sin(i*=Ps),a=Math.cos(i),s=ps((t*=Ps)-e),u=Math.cos(s);Uu+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*u)*s),n*o+r*a*u),e=t,n=o,r=a}var e,n,r;Bu.point=function(i,o){e=i*Ps,n=Math.sin(o*=Ps),r=Math.cos(o),Bu.point=t},Bu.lineEnd=function(){Bu.point=Bu.lineEnd=x}}function wr(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function kr(t,e){function n(t,e){a>0?-js+Ls>e&&(e=-js+Ls):e>js-Ls&&(e=js-Ls);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Fs/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=K(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-js]},n):Sr}function Cr(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return ps(i)<Ls?ur:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-K(i)*Math.sqrt(t*t+n*n)]},n)}function Sr(t,e){return[t,Math.log(Math.tan(Fs/4+e/2))]}function Mr(t){var e,n=or(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Fs*r(),u=i();o([[u[0]-s,u[1]-s],[u[0]+s,u[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function Tr(t,e){return[Math.log(Math.tan(Fs/4+e/2)),-t]}function Ar(t){return t[0]}function Er(t){return t[1]}function Lr(t){for(var e=t.length,n=[0,1],r=2,i=2;e>i;i++){for(;r>1&&J(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Nr(t,e){return t[0]-e[0]||t[1]-e[1]}function Fr(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function zr(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,u=t[1],l=n[1],c=e[1]-u,h=r[1]-l,f=(s*(u-l)-h*(i-o))/(h*a-s*c);return[i+f*a,u+f*c]}function Dr(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function jr(){ni(this),this.edge=this.site=this.circle=null}function Pr(t){var e=rl.pop()||new jr;return e.site=t,e}function Or(t){Xr(t),tl.remove(t),rl.push(t),ni(t)}function Ir(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Or(t);for(var u=o;u.circle&&ps(n-u.circle.x)<Ls&&ps(r-u.circle.cy)<Ls;)o=u.P,s.unshift(u),Or(u),u=o;s.unshift(u),Xr(u);for(var l=a;l.circle&&ps(n-l.circle.x)<Ls&&ps(r-l.circle.cy)<Ls;)a=l.N,s.push(l),Or(l),l=a;s.push(l),Xr(l);var c,h=s.length;for(c=1;h>c;++c)l=s[c],u=s[c-1],Jr(l.edge,u.site,l.site,i);u=s[0],l=s[h-1],l.edge=Gr(u.site,l.site,null,i),Qr(u),Qr(l)}function Hr(t){for(var e,n,r,i,o=t.x,a=t.y,s=tl._;s;)if(r=Rr(s,a)-o,r>Ls)s=s.L;else{if(i=o-qr(s,a),!(i>Ls)){r>-Ls?(e=s.P,n=s):i>-Ls?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var u=Pr(t);if(tl.insert(e,u),e||n){if(e===n)return Xr(e),n=Pr(e.site),tl.insert(u,n),u.edge=n.edge=Gr(e.site,u.site),Qr(e),void Qr(n);if(!n)return void(u.edge=Gr(e.site,u.site));Xr(e),Xr(n);var l=e.site,c=l.x,h=l.y,f=t.x-c,d=t.y-h,p=n.site,g=p.x-c,m=p.y-h,v=2*(f*m-d*g),y=f*f+d*d,b=g*g+m*m,_={x:(m*y-d*b)/v+c,y:(f*b-g*y)/v+h};Jr(n.edge,l,p,_),u.edge=Gr(l,t,null,_),n.edge=Gr(t,p,null,_),Qr(e),Qr(n)}}function Rr(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;n=a.site;var s=n.x,u=n.y,l=u-e;if(!l)return s;var c=s-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+s)/2}function qr(t,e){var n=t.N;if(n)return Rr(n,e);var r=t.site;return r.y===e?r.x:1/0}function $r(t){this.site=t,this.edges=[]}function Wr(t){for(var e,n,r,i,o,a,s,u,l,c,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=Ju,m=g.length;m--;)if(o=g[m],o&&o.prepare())for(s=o.edges,u=s.length,a=0;u>a;)c=s[a].end(),r=c.x,i=c.y,l=s[++a%u].start(),e=l.x,n=l.y,(ps(r-e)>Ls||ps(i-n)>Ls)&&(s.splice(a,0,new ti(Kr(o.site,c,ps(r-h)<Ls&&p-i>Ls?{x:h,y:ps(e-h)<Ls?n:p}:ps(i-p)<Ls&&f-r>Ls?{x:ps(n-p)<Ls?e:f,y:p}:ps(r-f)<Ls&&i-d>Ls?{x:f,y:ps(e-f)<Ls?n:d}:ps(i-d)<Ls&&r-h>Ls?{x:ps(n-d)<Ls?e:h,y:d}:null),o.site,null)),++u)}function Ur(t,e){return e.angle-t.angle}function Br(){ni(this),this.x=this.y=this.arc=this.site=this.cy=null}function Qr(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,u=r.x-a,l=r.y-s,c=o.x-a,h=o.y-s,f=2*(u*h-l*c);if(!(f>=-Ns)){var d=u*u+l*l,p=c*c+h*h,g=(h*d-l*p)/f,m=(u*p-c*d)/f,h=m+s,v=il.pop()||new Br;v.arc=t,v.site=i,v.x=g+a,v.y=h+Math.sqrt(g*g+m*m),v.cy=h,t.circle=v;for(var y=null,b=nl._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}nl.insert(y,v),y||(el=v)}}}}function Xr(t){var e=t.circle;e&&(e.P||(el=e.N),nl.remove(e),il.push(e),ni(e),t.circle=null)}function Vr(t){for(var e,n=Ku,r=$n(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!Yr(e,t)||!r(e)||ps(e.a.x-e.b.x)<Ls&&ps(e.a.y-e.b.y)<Ls)&&(e.a=e.b=null,n.splice(i,1))}function Yr(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],u=e[0][1],l=e[1][1],c=t.l,h=t.r,f=c.x,d=c.y,p=h.x,g=h.y,m=(f+p)/2,v=(d+g)/2;if(g===d){if(a>m||m>=s)return;if(f>p){if(o){if(o.y>=l)return}else o={x:m,y:u};n={x:m,y:l}}else{if(o){if(o.y<u)return}else o={x:m,y:l};n={x:m,y:u}}}else if(r=(f-p)/(g-d),i=v-r*m,-1>r||r>1)if(f>p){if(o){if(o.y>=l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else if(g>d){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Zr(t,e){this.l=t,this.r=e,this.a=this.b=null}function Gr(t,e,n,r){var i=new Zr(t,e);return Ku.push(i),n&&Jr(i,t,e,n),r&&Jr(i,e,t,r),Ju[t.i].edges.push(new ti(i,t,e)),Ju[e.i].edges.push(new ti(i,e,t)),i}function Kr(t,e,n){var r=new Zr(t,null);return r.a=e,r.b=n,Ku.push(r),r}function Jr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function ti(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function ei(){this._=null}function ni(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ri(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function ii(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function oi(t){for(;t.L;)t=t.L;return t}function ai(t,e){var n,r,i,o=t.sort(si).pop();for(Ku=[],Ju=new Array(t.length),tl=new ei,nl=new ei;;)if(i=el,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))(o.x!==n||o.y!==r)&&(Ju[o.i]=new $r(o),Hr(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Ir(i.arc)}e&&(Vr(e),Wr(e));var a={cells:Ju,edges:Ku};return tl=nl=Ku=Ju=null,a}function si(t,e){return e.y-t.y||e.x-t.x}function ui(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function li(t){return t.x}function ci(t){return t.y}function hi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fi(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),u=e.nodes;u[0]&&fi(t,u[0],n,r,a,s),u[1]&&fi(t,u[1],a,r,i,s),u[2]&&fi(t,u[2],n,s,a,o),u[3]&&fi(t,u[3],a,s,i,o)}}function di(t,e,n,r,i,o,a){var s,u=1/0;return function l(t,c,h,f,d){if(!(c>o||h>a||r>f||i>d)){if(p=t.point){var p,g=e-t.x,m=n-t.y,v=g*g+m*m;if(u>v){var y=Math.sqrt(u=v);r=e-y,i=n-y,o=e+y,a=n+y,s=p}}for(var b=t.nodes,_=.5*(c+f),x=.5*(h+d),w=e>=_,k=n>=x,C=k<<1|w,S=C+4;S>C;++C)if(t=b[3&C])switch(3&C){case 0:l(t,c,h,_,x);break;case 1:l(t,_,h,f,x);break;case 2:l(t,c,x,_,d);break;case 3:l(t,_,x,f,d)}}}(t,r,i,o,a),s}function pi(t,e){t=ns.rgb(t),e=ns.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+_e(Math.round(n+o*t))+_e(Math.round(r+a*t))+_e(Math.round(i+s*t))}}function gi(t,e){var n,r={},i={};for(n in t)n in e?r[n]=yi(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function mi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function vi(t,e){var n,r,i,o=al.lastIndex=sl.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=al.exec(t))&&(r=sl.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:mi(n,r)})),o=sl.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?(e=u[0].x,function(t){return e(t)+""}):function(){return e}:(e=u.length,function(t){for(var n,r=0;e>r;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function yi(t,e){for(var n,r=ns.interpolators.length;--r>=0&&!(n=ns.interpolators[r](t,e)););return n}function bi(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)r.push(yi(t[n],e[n]));for(;o>n;++n)i[n]=t[n];for(;a>n;++n)i[n]=e[n];return function(t){for(n=0;s>n;++n)i[n]=r[n](t);return i}}function _i(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function xi(t){return function(e){return 1-t(1-e)}}function wi(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function ki(t){return t*t}function Ci(t){return t*t*t}function Si(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Mi(t){return function(e){return Math.pow(e,t)}}function Ti(t){return 1-Math.cos(t*js)}function Ai(t){return Math.pow(2,10*(t-1))}function Ei(t){return 1-Math.sqrt(1-t*t)}function Li(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/zs*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*zs/e)}}function Ni(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Fi(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function zi(t,e){t=ns.hcl(t),e=ns.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ce(n+o*t,r+a*t,i+s*t)+""}}function Di(t,e){t=ns.hsl(t),e=ns.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ue(n+o*t,r+a*t,i+s*t)+""}}function ji(t,e){t=ns.lab(t),e=ns.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return fe(n+o*t,r+a*t,i+s*t)+""}}function Pi(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Oi(t){var e=[t.a,t.b],n=[t.c,t.d],r=Hi(e),i=Ii(e,n),o=Hi(Ri(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Os,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Os:0}function Ii(t,e){return t[0]*e[0]+t[1]*e[1]}function Hi(t){var e=Math.sqrt(Ii(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Ri(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function qi(t,e){var n,r=[],i=[],o=ns.transform(t),a=ns.transform(e),s=o.translate,u=a.translate,l=o.rotate,c=a.rotate,h=o.skew,f=a.skew,d=o.scale,p=a.scale;return s[0]!=u[0]||s[1]!=u[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:mi(s[0],u[0])},{i:3,x:mi(s[1],u[1])})):r.push(u[0]||u[1]?"translate("+u+")":""),l!=c?(l-c>180?c+=360:c-l>180&&(l+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:mi(l,c)})):c&&r.push(r.pop()+"rotate("+c+")"),h!=f?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:mi(h,f)}):f&&r.push(r.pop()+"skewX("+f+")"),d[0]!=p[0]||d[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:mi(d[0],p[0])},{i:n-2,x:mi(d[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function $i(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Wi(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Ui(t){for(var e=t.source,n=t.target,r=Qi(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Bi(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Qi(t,e){if(t===e)return t;for(var n=Bi(t),r=Bi(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Xi(t){t.fixed|=2}function Vi(t){t.fixed&=-7}function Yi(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Zi(t){t.fixed&=-5}function Gi(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,u=-1;++u<s;)o=a[u],null!=o&&(Gi(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var l=e*n[t.point.index];t.charge+=t.pointCharge=l,r+=l*t.point.x,i+=l*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function Ki(t,e){return ns.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=io,t}function Ji(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function to(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function eo(t){return t.children}function no(t){return t.value}function ro(t,e){return e.value-t.value}function io(t){return ns.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function oo(t){return t.x}function ao(t){return t.y}function so(t,e,n){t.y0=e,t.y=n}function uo(t){return ns.range(t.length)}function lo(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function co(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function ho(t){return t.reduce(fo,0)}function fo(t,e){return t+e[1]}function po(t,e){return go(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function go(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function mo(t){return[ns.min(t),ns.max(t)]}function vo(t,e){return t.value-e.value}function yo(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function bo(t,e){t._pack_next=e,e._pack_prev=t}function _o(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function xo(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(l=n.length)){var n,r,i,o,a,s,u,l,c=1/0,h=-1/0,f=1/0,d=-1/0;if(n.forEach(wo),r=n[0],r.x=-r.r,r.y=0,e(r),l>1&&(i=n[1],i.x=i.r,i.y=0,e(i),l>2))for(o=n[2],So(r,i,o),e(o),yo(r,o),r._pack_prev=o,yo(o,i),i=r._pack_next,a=3;l>a;a++){So(r,i,o=n[a]);var p=0,g=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(_o(s,o)){p=1;break}if(1==p)for(u=r._pack_prev;u!==s._pack_prev&&!_o(u,o);u=u._pack_prev,m++);p?(m>g||g==m&&i.r<r.r?bo(r,i=s):bo(r=u,i),a--):(yo(r,o),i=o,e(o))}var v=(c+h)/2,y=(f+d)/2,b=0;for(a=0;l>a;a++)o=n[a],o.x-=v,o.y-=y,b=Math.max(b,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=b,n.forEach(ko)}}function wo(t){t._pack_next=t._pack_prev=t}function ko(t){delete t._pack_next,delete t._pack_prev}function Co(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Co(i[o],e,n,r)}function So(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o;a*=a,r*=r;var u=.5+(r-a)/(2*s),l=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+u*i+l*o,n.y=t.y+u*o-l*i}else n.x=t.x+r,n.y=t.y}function Mo(t,e){return t.parent==e.parent?1:2}function To(t){var e=t.children;return e.length?e[0]:t.t}function Ao(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Eo(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Lo(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function No(t,e,n){return t.a.parent===e.parent?t.a:n}function Fo(t){return 1+ns.max(t,function(t){return t.y})}function zo(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Do(t){var e=t.children;return e&&e.length?Do(e[0]):t}function jo(t){var e,n=t.children;return n&&(e=n.length)?jo(n[e-1]):t}function Po(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Oo(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Io(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Ho(t){return t.rangeExtent?t.rangeExtent():Io(t.range())}function Ro(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function qo(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function $o(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:yl}function Wo(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=ns.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function Uo(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?Wo:Ro,u=r?Wi:$i;return a=i(t,e,u,n),s=i(e,t,u,yi),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(Pi)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return Vo(t,e)},o.tickFormat=function(e,n){return Yo(t,e,n)},o.nice=function(e){return Qo(t,e),i()},o.copy=function(){return Uo(t,e,n,r)},i()}function Bo(t,e){return ns.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Qo(t,e){return qo(t,$o(Xo(t,e)[2]))}function Xo(t,e){null==e&&(e=10);var n=Io(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Vo(t,e){return ns.range.apply(ns,Xo(t,e))}function Yo(t,e,n){var r=Xo(t,e);if(n){var i=au.exec(n);if(i.shift(),"s"===i[8]){var o=ns.formatPrefix(Math.max(ps(r[0]),ps(r[1])));return i[7]||(i[7]="."+Zo(o.scale(r[2]))),i[8]="f",n=ns.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+Go(i[8],r)),n=i.join("")}else n=",."+Zo(r[2])+"f";return ns.format(n)}function Zo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Go(t,e){var n=Zo(e[2]);return t in bl?Math.abs(n-Zo(Math.max(ps(e[0]),ps(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Ko(t,e,n,r){function i(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=qo(r.map(i),n?Math:xl);return t.domain(e),r=e.map(o),a},a.ticks=function(){var t=Io(r),a=[],s=t[0],u=t[1],l=Math.floor(i(s)),c=Math.ceil(i(u)),h=e%1?2:e;if(isFinite(c-l)){if(n){for(;c>l;l++)for(var f=1;h>f;f++)a.push(o(l)*f);a.push(o(l))}else for(a.push(o(l));l++<c;)for(var f=h-1;f>0;f--)a.push(o(l)*f);for(l=0;a[l]<s;l++);for(c=a.length;a[c-1]>u;c--);a=a.slice(l,c)}return a},a.tickFormat=function(t,e){if(!arguments.length)return _l;arguments.length<2?e=_l:"function"!=typeof e&&(e=ns.format(e));var r,s=Math.max(.1,t/a.ticks().length),u=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(u(i(t)+r))<=s?e(t):""}},a.copy=function(){return Ko(t.copy(),e,n,r)},Bo(a,t)}function Jo(t,e,n){function r(e){return t(i(e))}var i=ta(e),o=ta(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return Vo(n,t)},r.tickFormat=function(t,e){return Yo(n,t,e)},r.nice=function(t){return r.domain(Qo(n,t))},r.exponent=function(a){return arguments.length?(i=ta(e=a),o=ta(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return Jo(t.copy(),e,n)},Bo(r,t)}function ta(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function ea(t,e){function n(n){return o[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):0/0))-1)%o.length]}function r(e,n){return ns.range(t.length).map(function(t){return e+n*t})}var i,o,a;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new l;for(var o,a=-1,s=r.length;++a<s;)i.has(o=r[a])||i.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=t.length<2?(u=(u+l)/2,0):(l-u)/(t.length-1+s);return o=r(u+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var u=i[0],l=i[1],c=t.length<2?(u=l=Math.round((u+l)/2),0):(l-u)/(t.length-1+s)|0;return o=r(u+Math.round(c*s/2+(l-u-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);
var l=i[1]<i[0],c=i[l-0],h=i[1-l],f=(h-c)/(t.length-s+2*u);return o=r(c+f*u,f),l&&o.reverse(),a=f*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,u){arguments.length<2&&(s=0),arguments.length<3&&(u=s);var l=i[1]<i[0],c=i[l-0],h=i[1-l],f=Math.floor((h-c)/(t.length-s+2*u));return o=r(c+Math.round((h-c-(t.length-s)*f)/2),f),l&&o.reverse(),a=Math.round(f*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Io(e.a[0])},n.copy=function(){return ea(t,e)},n.domain(t)}function na(t,e){function o(){var n=0,r=e.length;for(s=[];++n<r;)s[n-1]=ns.quantile(t,n/r);return a}function a(t){return isNaN(t=+t)?void 0:e[ns.bisect(s,t)]}var s;return a.domain=function(e){return arguments.length?(t=e.map(r).filter(i).sort(n),o()):t},a.range=function(t){return arguments.length?(e=t,o()):e},a.quantiles=function(){return s},a.invertExtent=function(n){return n=e.indexOf(n),0>n?[0/0,0/0]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},a.copy=function(){return na(t,e)},o()}function ra(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=0>e?0/0:e/o+t,[e,e+1/o]},r.copy=function(){return ra(t,e,n)},i()}function ia(t,e){function n(n){return n>=n?e[ns.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return ia(t,e)},n}function oa(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Vo(t,e)},e.tickFormat=function(e,n){return Yo(t,e,n)},e.copy=function(){return oa(t)},e}function aa(){return 0}function sa(t){return t.innerRadius}function ua(t){return t.outerRadius}function la(t){return t.startAngle}function ca(t){return t.endAngle}function ha(t){return t&&t.padAngle}function fa(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function da(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),u=s*a,l=-s*o,c=t[0]+u,h=t[1]+l,f=e[0]+u,d=e[1]+l,p=(c+f)/2,g=(h+d)/2,m=f-c,v=d-h,y=m*m+v*v,b=n-r,_=c*d-f*h,x=(0>v?-1:1)*Math.sqrt(b*b*y-_*_),w=(_*v-m*x)/y,k=(-_*m-v*x)/y,C=(_*v+m*x)/y,S=(-_*m+v*x)/y,M=w-p,T=k-g,A=C-p,E=S-g;return M*M+T*T>A*A+E*E&&(w=C,k=S),[[w-u,k-l],[w*n/b,k*n/b]]}function pa(t){function e(e){function a(){l.push("M",o(t(c),s))}for(var u,l=[],c=[],h=-1,f=e.length,d=Me(n),p=Me(r);++h<f;)i.call(this,u=e[h],h)?c.push([+d.call(this,u,h),+p.call(this,u,h)]):c.length&&(a(),c=[]);return c.length&&a(),l.length?l.join(""):null}var n=Ar,r=Er,i=En,o=ga,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Tl.get(t)||ga).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function ga(t){return t.join("L")}function ma(t){return ga(t)+"Z"}function va(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")}function ya(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function ba(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function _a(t,e){return t.length<4?ga(t):t[1]+ka(t.slice(1,-1),Ca(t,e))}function xa(t,e){return t.length<3?ga(t):t[0]+ka((t.push(t[0]),t),Ca([t[t.length-2]].concat(t,[t[1]]),e))}function wa(t,e){return t.length<3?ga(t):t[0]+ka(t,Ca(t,e))}function ka(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return ga(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,u=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],u=2),e.length>1){s=e[1],o=t[u],u++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,u++)o=t[u],s=e[l],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[u];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function Ca(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,u=t.length;++s<u;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function Sa(t){if(t.length<3)return ga(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],u=[i,",",o,"L",Ea(Ll,a),",",Ea(Ll,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),La(u,a,s);return t.pop(),u.push("L",r),u.join("")}function Ma(t){if(t.length<4)return ga(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(Ea(Ll,o)+","+Ea(Ll,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),La(n,o,a);return n.join("")}function Ta(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[Ea(Ll,a),",",Ea(Ll,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),La(e,a,s);return e.join("")}function Aa(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,u=t[n][1]-a,l=-1;++l<=n;)r=t[l],i=l/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*u);return Sa(t)}function Ea(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function La(t,e,n){t.push("C",Ea(Al,e),",",Ea(Al,n),",",Ea(El,e),",",Ea(El,n),",",Ea(Ll,e),",",Ea(Ll,n))}function Na(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Fa(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Na(i,o);++e<n;)r[e]=(a+(a=Na(i=o,o=t[e+1])))/2;return r[e]=a,r}function za(t){for(var e,n,r,i,o=[],a=Fa(t),s=-1,u=t.length-1;++s<u;)e=Na(t[s],t[s+1]),ps(e)<Ls?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=u;)i=(t[Math.min(u,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Da(t){return t.length<3?ga(t):t[0]+ka(t,za(t))}function ja(t){for(var e,n,r,i=-1,o=t.length;++i<o;)e=t[i],n=e[0],r=e[1]-js,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function Pa(t){function e(e){function u(){g.push("M",s(t(v),h),c,l(t(m.reverse()),h),"Z")}for(var f,d,p,g=[],m=[],v=[],y=-1,b=e.length,_=Me(n),x=Me(i),w=n===r?function(){return d}:Me(r),k=i===o?function(){return p}:Me(o);++y<b;)a.call(this,f=e[y],y)?(m.push([d=+_.call(this,f,y),p=+x.call(this,f,y)]),v.push([+w.call(this,f,y),+k.call(this,f,y)])):m.length&&(u(),m=[],v=[]);return m.length&&u(),g.length?g.join(""):null}var n=Ar,r=Ar,i=0,o=Er,a=En,s=ga,u=s.key,l=s,c="L",h=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(u="function"==typeof t?s=t:(s=Tl.get(t)||ga).key,l=s.reverse||s,c=s.closed?"M":"L",e):u},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Oa(t){return t.radius}function Ia(t){return[t.x,t.y]}function Ha(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-js;return[n*Math.cos(r),n*Math.sin(r)]}}function Ra(){return 64}function qa(){return"circle"}function $a(t){var e=Math.sqrt(t/Fs);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Wa(t){return function(){var e,n;(e=this[t])&&(n=e[e.active])&&(--e.count?delete e[e.active]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function Ua(t,e,n){return bs(t,Ol),t.namespace=e,t.id=n,t}function Ba(t,e,n,r){var i=t.id,o=t.namespace;return W(t,"function"==typeof n?function(t,a,s){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function Qa(t){return null==t&&(t=""),function(){this.textContent=t}}function Xa(t){return null==t?"__transition__":"__transition_"+t+"__"}function Va(t,e,n,r,i){var o=t[n]||(t[n]={active:0,count:0}),a=o[r];if(!a){var s=i.time;a=o[r]={tween:new l,time:s,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++o.count,ns.timer(function(i){function u(n){if(o.active>r)return c();var i=o[o.active];i&&(--o.count,delete o[o.active],i.event&&i.event.interrupt.call(t,t.__data__,i.index)),o.active=r,a.event&&a.event.start.call(t,t.__data__,e),a.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&g.push(r)}),f=a.ease,h=a.duration,ns.timer(function(){return p.c=l(n||1)?En:l,1},0,s)}function l(n){if(o.active!==r)return 1;for(var i=n/h,s=f(i),u=g.length;u>0;)g[--u].call(t,s);return i>=1?(a.event&&a.event.end.call(t,t.__data__,e),c()):void 0}function c(){return--o.count?delete o[r]:delete t[n],1}var h,f,d=a.delay,p=ru,g=[];return p.t=d+s,i>=d?u(i-d):void(p.c=u)},0,s)}}function Ya(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function Za(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function Ga(t){return t.toISOString()}function Ka(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,o=ns.bisect(Ql,i);return o==Ql.length?[e.year,Xo(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/Ql[o-1]<Ql[o]/i?o-1:o]:[Yl,Xo(t,n)[2]]}return r.invert=function(e){return Ja(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Ja)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Ja(+n+1),e).length}var o=r.domain(),a=Io(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);return s&&(t=s[0],e=s[1]),r.domain(qo(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Ja(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Ja(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Io(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Ja(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Ka(t.copy(),e,n)},Bo(r,t)}function Ja(t){return new Date(t)}function ts(t){return JSON.parse(t.responseText)}function es(t){var e=os.createRange();return e.selectNode(os.body),e.createContextualFragment(t.responseText)}var ns={version:"3.5.5"},rs=[].slice,is=function(t){return rs.call(t)},os=this.document;if(os)try{is(os.documentElement.childNodes)[0].nodeType}catch(as){is=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),os)try{os.createElement("DIV").style.setProperty("opacity",0,"")}catch(ss){var us=this.Element.prototype,ls=us.setAttribute,cs=us.setAttributeNS,hs=this.CSSStyleDeclaration.prototype,fs=hs.setProperty;us.setAttribute=function(t,e){ls.call(this,t,e+"")},us.setAttributeNS=function(t,e,n){cs.call(this,t,e,n+"")},hs.setProperty=function(t,e,n){fs.call(this,t,e+"",n)}}ns.ascending=n,ns.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},ns.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},ns.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},ns.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},ns.sum=function(t,e){var n,r=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)i(n=+t[a])&&(r+=n);else for(;++a<o;)i(n=+e.call(t,t[a],a))&&(r+=n);return r},ns.mean=function(t,e){var n,o=0,a=t.length,s=-1,u=a;if(1===arguments.length)for(;++s<a;)i(n=r(t[s]))?o+=n:--u;else for(;++s<a;)i(n=r(e.call(t,t[s],s)))?o+=n:--u;return u?o/u:void 0},ns.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},ns.median=function(t,e){var o,a=[],s=t.length,u=-1;if(1===arguments.length)for(;++u<s;)i(o=r(t[u]))&&a.push(o);else for(;++u<s;)i(o=r(e.call(t,t[u],u)))&&a.push(o);return a.length?ns.quantile(a.sort(n),.5):void 0},ns.variance=function(t,e){var n,o,a=t.length,s=0,u=0,l=-1,c=0;if(1===arguments.length)for(;++l<a;)i(n=r(t[l]))&&(o=n-s,s+=o/++c,u+=o*(n-s));else for(;++l<a;)i(n=r(e.call(t,t[l],l)))&&(o=n-s,s+=o/++c,u+=o*(n-s));return c>1?u/(c-1):void 0},ns.deviation=function(){var t=ns.variance.apply(this,arguments);return t?Math.sqrt(t):t};var ds=o(n);ns.bisectLeft=ds.left,ns.bisect=ns.bisectRight=ds.right,ns.bisector=function(t){return o(1===t.length?function(e,r){return n(t(e),r)}:t)},ns.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,2>o&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},ns.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},ns.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],o=new Array(0>r?0:r);r>n;)o[n]=[e=i,i=t[++n]];return o},ns.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=ns.min(arguments,a),n=new Array(e);++t<e;)for(var r,i=-1,o=n[t]=new Array(r);++i<r;)o[i]=arguments[i][t];return n},ns.transpose=function(t){return ns.zip.apply(ns,t)},ns.keys=function(t){var e=[];for(var n in t)e.push(n);return e},ns.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ns.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ns.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n};var ps=Math.abs;ns.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],o=s(ps(n)),a=-1;if(t*=o,e*=o,n*=o,0>n)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},ns.map=function(t,e){var n=new l;if(t instanceof l)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var gs="__proto__",ms="\x00";u(l,{has:f,get:function(t){return this._[c(t)]},set:function(t,e){return this._[c(t)]=e},remove:d,keys:p,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:h(e),value:this._[e]});return t},size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,h(e),this._[e])}}),ns.nest=function(){function t(e,a,s){if(s>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var u,c,h,f,d=-1,p=a.length,g=o[s++],m=new l;++d<p;)(f=m.get(u=g(c=a[d])))?f.push(c):m.set(u,[c]);return e?(c=e(),h=function(n,r){c.set(n,t(e,r,s))}):(c={},h=function(n,r){c[n]=t(e,r,s)}),m.forEach(h),c}function e(t,n){if(n>=o.length)return t;var r=[],i=a[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(ns.map,n,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return a[o.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},ns.set=function(t){var e=new v;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},u(v,{has:f,add:function(t){return this._[c(t+="")]=!0,t},remove:d,values:p,size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,h(e))}}),ns.behavior={},ns.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=b(t,e,e[n]);return t};var vs=["webkit","ms","moz","Moz","o","O"];ns.dispatch=function(){for(var t=new w,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=k(t);return t},w.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},ns.event=null,ns.requote=function(t){return t.replace(ys,"\\$&")};var ys=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,bs={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},_s=function(t,e){return e.querySelector(t)},xs=function(t,e){return e.querySelectorAll(t)},ws=function(t,e){var n=t.matches||t[_(t,"matchesSelector")];return(ws=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(_s=function(t,e){return Sizzle(t,e)[0]||null},xs=Sizzle,ws=Sizzle.matchesSelector),ns.selection=function(){return ns.select(os.documentElement)};var ks=ns.selection.prototype=[];ks.select=function(t){var e,n,r,i,o=[];t=A(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var u=-1,l=r.length;++u<l;)(i=r[u])?(e.push(n=t.call(i,i.__data__,u,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return T(o)},ks.selectAll=function(t){var e,n,r=[];t=E(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,u=a.length;++s<u;)(n=a[s])&&(r.push(e=is(t.call(n,n.__data__,s,i))),e.parentNode=n);return T(r)};var Cs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ns.ns={prefix:Cs,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),Cs.hasOwnProperty(n)?{space:Cs[n],local:t}:t}},ks.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=ns.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(L(e,t[e]));return this}return this.each(L(t,e))},ks.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=z(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!F(t[i]).test(e))return!1;return!0}for(e in t)this.each(D(e,t[e]));return this}return this.each(D(t,e))},ks.style=function(t,n,r){var i=arguments.length;if(3>i){if("string"!=typeof t){2>i&&(n="");for(r in t)this.each(P(r,t[r],n));return this}if(2>i){var o=this.node();return e(o).getComputedStyle(o,null).getPropertyValue(t)}r=""}return this.each(P(t,n,r))},ks.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(O(e,t[e]));return this}return this.each(O(t,e))},ks.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},ks.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},ks.append=function(t){return t=I(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},ks.insert=function(t,e){return t=I(t),e=A(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},ks.remove=function(){return this.each(H)},ks.data=function(t,e){function n(t,n){var r,i,o,a=t.length,h=n.length,f=Math.min(a,h),d=new Array(h),p=new Array(h),g=new Array(a);if(e){var m,v=new l,y=new Array(a);for(r=-1;++r<a;)v.has(m=e.call(i=t[r],i.__data__,r))?g[r]=i:v.set(m,i),y[r]=m;for(r=-1;++r<h;)(i=v.get(m=e.call(n,o=n[r],r)))?i!==!0&&(d[r]=i,i.__data__=o):p[r]=R(o),v.set(m,!0);for(r=-1;++r<a;)v.get(y[r])!==!0&&(g[r]=t[r])}else{for(r=-1;++r<f;)i=t[r],o=n[r],i?(i.__data__=o,d[r]=i):p[r]=R(o);for(;h>r;++r)p[r]=R(n[r]);for(;a>r;++r)g[r]=t[r]}p.update=d,p.parentNode=d.parentNode=g.parentNode=t.parentNode,s.push(p),u.push(d),c.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(t[o]=i.__data__);return t}var s=U([]),u=T([]),c=T([]);if("function"==typeof t)for(;++o<a;)n(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],t);return u.enter=function(){return s},u.exit=function(){return c},u},ks.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},ks.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=q(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,u=n.length;u>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return T(i)},ks.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},ks.sort=function(t){t=$.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},ks.each=function(t){return W(this,function(e,n,r){t.call(e,e.__data__,n,r)})},ks.call=function(t){var e=is(arguments);return t.apply(e[0]=this,e),this},ks.empty=function(){return!this.node()},ks.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},ks.size=function(){var t=0;return W(this,function(){++t}),t};var Ss=[];ns.selection.enter=U,ns.selection.enter.prototype=Ss,Ss.append=ks.append,Ss.empty=ks.empty,Ss.node=ks.node,Ss.call=ks.call,Ss.size=ks.size,Ss.select=function(t){for(var e,n,r,i,o,a=[],s=-1,u=this.length;++s<u;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(e.push(r[l]=n=t.call(i.parentNode,o.__data__,l,s)),n.__data__=o.__data__):e.push(null)}return T(a)},Ss.insert=function(t,e){return arguments.length<2&&(e=B(this)),ks.insert.call(this,t,e)},ns.select=function(e){var n;return"string"==typeof e?(n=[_s(e,os)],n.parentNode=os.documentElement):(n=[e],n.parentNode=t(e)),T([n])},ns.selectAll=function(t){var e;return"string"==typeof t?(e=is(xs(t,os)),e.parentNode=os.documentElement):(e=t,e.parentNode=null),T([e])},ks.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e=!1);for(n in t)this.each(Q(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(Q(t,e,n))};var Ms=ns.map({mouseenter:"mouseover",mouseleave:"mouseout"});os&&Ms.forEach(function(t){"on"+t in os&&Ms.remove(t)});var Ts,As=0;ns.mouse=function(t){return Z(t,S())};var Es=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ns.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=S().changedTouches),e)for(var r,i=0,o=e.length;o>i;++i)if((r=e[i]).identifier===n)return Z(t,r)},ns.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",a)}function n(t,e,n,o,a){return function(){function s(){var t,n,r=e(f,g);r&&(t=r[0]-b[0],n=r[1]-b[1],p|=t|n,b=r,d({type:"drag",x:r[0]+l[0],y:r[1]+l[1],dx:t,dy:n}))}function u(){e(f,g)&&(v.on(o+m,null).on(a+m,null),y(p&&ns.event.target===h),d({type:"dragend"}))}var l,c=this,h=ns.event.target,f=c.parentNode,d=r.of(c,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=ns.select(n(h)).on(o+m,s).on(a+m,u),y=Y(h),b=e(f,g);i?(l=i.apply(c,arguments),l=[l.x-b[0],l.y-b[1]]):l=[0,0],d({type:"dragstart"})}}var r=M(t,"drag","dragstart","dragend"),i=null,o=n(x,ns.mouse,e,"mousemove","mouseup"),a=n(G,ns.touch,y,"touchmove","touchend");return t.origin=function(e){return arguments.length?(i=e,t):i},ns.rebind(t,r,"on")},ns.touches=function(t,e){return arguments.length<2&&(e=S().touches),e?is(e).map(function(e){var n=Z(t,e);return n.identifier=e.identifier,n}):[]};var Ls=1e-6,Ns=Ls*Ls,Fs=Math.PI,zs=2*Fs,Ds=zs-Ls,js=Fs/2,Ps=Fs/180,Os=180/Fs,Is=Math.SQRT2,Hs=2,Rs=4;ns.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=re(g),a=o/(Hs*f)*(n*ie(Is*e+g)-ne(g));return[r+a*l,i+a*c,o*n/re(Is*e+g)]}return[r+t*l,i+t*c,o*Math.exp(Is*e)]}var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],u=e[2],l=a-r,c=s-i,h=l*l+c*c,f=Math.sqrt(h),d=(u*u-o*o+Rs*h)/(2*o*Hs*f),p=(u*u-o*o-Rs*h)/(2*u*Hs*f),g=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(p*p+1)-p),v=m-g,y=(v||Math.log(u/o))/Is;return n.duration=1e3*y,n},ns.behavior.zoom=function(){function t(t){t.on(N,h).on($s+".zoom",d).on("dblclick.zoom",p).on(D,f)}function n(t){return[(t[0]-S.x)/S.k,(t[1]-S.y)/S.k]}function r(t){return[t[0]*S.k+S.x,t[1]*S.k+S.y]}function i(t){S.k=Math.max(A[0],Math.min(A[1],t))}function o(t,e){e=r(e),S.x+=t[0]-e[0],S.y+=t[1]-e[1]}function a(e,n,r,a){e.__chart__={x:S.x,y:S.y,k:S.k},i(Math.pow(2,a)),o(m=n,r),e=ns.select(e),E>0&&(e=e.transition().duration(E)),e.call(t.event)}function s(){x&&x.domain(_.range().map(function(t){return(t-S.x)/S.k}).map(_.invert)),k&&k.domain(w.range().map(function(t){return(t-S.y)/S.k}).map(w.invert))}function u(t){L++||t({type:"zoomstart"})}function l(t){s(),t({type:"zoom",scale:S.k,translate:[S.x,S.y]})}function c(t){--L||t({type:"zoomend"}),m=null}function h(){function t(){h=1,o(ns.mouse(i),d),l(s)}function r(){f.on(F,null).on(z,null),p(h&&ns.event.target===a),c(s)}var i=this,a=ns.event.target,s=j.of(i,arguments),h=0,f=ns.select(e(i)).on(F,t).on(z,r),d=n(ns.mouse(i)),p=Y(i);Pl.call(i),u(s)}function f(){function t(){var t=ns.touches(p);return d=S.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=n(t))}),t}function e(){var e=ns.event.target;ns.select(e).on(_,r).on(x,s),w.push(e);for(var n=ns.event.changedTouches,i=0,o=n.length;o>i;++i)m[n[i].identifier]=null;var u=t(),l=Date.now();if(1===u.length){if(500>l-b){var c=u[0];a(p,c,m[c.identifier],Math.floor(Math.log(S.k)/Math.LN2)+1),C()}b=l}else if(u.length>1){var c=u[0],h=u[1],f=c[0]-h[0],d=c[1]-h[1];v=f*f+d*d}}function r(){var t,e,n,r,a=ns.touches(p);Pl.call(p);for(var s=0,u=a.length;u>s;++s,r=null)if(n=a[s],r=m[n.identifier]){if(e)break;t=n,e=r}if(r){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],i(h*d)}b=null,o(t,e),l(g)}function s(){if(ns.event.touches.length){for(var e=ns.event.changedTouches,n=0,r=e.length;r>n;++n)delete m[e[n].identifier];for(var i in m)return void t()}ns.selectAll(w).on(y,null),k.on(N,h).on(D,f),M(),c(g)}var d,p=this,g=j.of(p,arguments),m={},v=0,y=".zoom-"+ns.event.changedTouches[0].identifier,_="touchmove"+y,x="touchend"+y,w=[],k=ns.select(p),M=Y(p);e(),u(g),k.on(N,null).on(D,e)}function d(){var t=j.of(this,arguments);y?clearTimeout(y):(g=n(m=v||ns.mouse(this)),Pl.call(this),u(t)),y=setTimeout(function(){y=null,c(t)},50),C(),i(Math.pow(2,.002*qs())*S.k),o(m,g),l(t)}function p(){var t=ns.mouse(this),e=Math.log(S.k)/Math.LN2;a(this,t,n(t),ns.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,m,v,y,b,_,x,w,k,S={x:0,y:0,k:1},T=[960,500],A=Ws,E=250,L=0,N="mousedown.zoom",F="mousemove.zoom",z="mouseup.zoom",D="touchstart.zoom",j=M(t,"zoomstart","zoom","zoomend");return $s||($s="onwheel"in os?(qs=function(){return-ns.event.deltaY*(ns.event.deltaMode?120:1)},"wheel"):"onmousewheel"in os?(qs=function(){return ns.event.wheelDelta},"mousewheel"):(qs=function(){return-ns.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=j.of(this,arguments),e=S;Dl?ns.select(this).transition().each("start.zoom",function(){S=this.__chart__||{x:0,y:0,k:1},u(t)}).tween("zoom:zoom",function(){var n=T[0],r=T[1],i=m?m[0]:n/2,o=m?m[1]:r/2,a=ns.interpolateZoom([(i-S.x)/S.k,(o-S.y)/S.k,n/S.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),s=n/r[2];this.__chart__=S={x:i-r[0]*s,y:o-r[1]*s,k:s},l(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=S,u(t),l(t),c(t))})},t.translate=function(e){return arguments.length?(S={x:+e[0],y:+e[1],k:S.k},s(),t):[S.x,S.y]},t.scale=function(e){return arguments.length?(S={x:S.x,y:S.y,k:+e},s(),t):S.k},t.scaleExtent=function(e){return arguments.length?(A=null==e?Ws:[+e[0],+e[1]],t):A},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(T=e&&[+e[0],+e[1]],t):T},t.duration=function(e){return arguments.length?(E=+e,t):E},t.x=function(e){return arguments.length?(x=e,_=e.copy(),S={x:0,y:0,k:1},t):x},t.y=function(e){return arguments.length?(k=e,w=e.copy(),S={x:0,y:0,k:1},t):k},ns.rebind(t,j,"on")};var qs,$s,Ws=[0,1/0];ns.color=ae,ae.prototype.toString=function(){return this.rgb()+""},ns.hsl=se;var Us=se.prototype=new ae;Us.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new se(this.h,this.s,this.l/t)},Us.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new se(this.h,this.s,t*this.l)},Us.rgb=function(){return ue(this.h,this.s,this.l)},ns.hcl=le;var Bs=le.prototype=new ae;Bs.brighter=function(t){return new le(this.h,this.c,Math.min(100,this.l+Qs*(arguments.length?t:1)))},Bs.darker=function(t){return new le(this.h,this.c,Math.max(0,this.l-Qs*(arguments.length?t:1)))},Bs.rgb=function(){return ce(this.h,this.c,this.l).rgb()},ns.lab=he;var Qs=18,Xs=.95047,Vs=1,Ys=1.08883,Zs=he.prototype=new ae;Zs.brighter=function(t){return new he(Math.min(100,this.l+Qs*(arguments.length?t:1)),this.a,this.b)},Zs.darker=function(t){return new he(Math.max(0,this.l-Qs*(arguments.length?t:1)),this.a,this.b)},Zs.rgb=function(){return fe(this.l,this.a,this.b)},ns.rgb=ve;var Gs=ve.prototype=new ae;Gs.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&i>e&&(e=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new ve(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new ve(i,i,i)},Gs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ve(t*this.r,t*this.g,t*this.b)},Gs.hsl=function(){return we(this.r,this.g,this.b)},Gs.toString=function(){return"#"+_e(this.r)+_e(this.g)+_e(this.b)};var Ks=ns.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});
Ks.forEach(function(t,e){Ks.set(t,ye(e))}),ns.functor=Me,ns.xhr=Te(y),ns.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=Ae(t,e,null==n?r:i(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),u=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(c>=l)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<l;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l>c;){var r=t.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==u)continue;return t.slice(e,c-s)}return t.slice(e)}for(var r,i,o={},a={},s=[],l=t.length,c=0,h=0;(r=n())!==a;){for(var f=[];r!==o&&r!==a;)f.push(r),r=n();e&&null==(f=e(f,h++))||s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new v,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(a).join(t)].concat(e.map(function(e){return i.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},ns.csv=ns.dsv(",","text/csv"),ns.tsv=ns.dsv("	","text/tab-separated-values");var Js,tu,eu,nu,ru,iu=this[_(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ns.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var i=n+e,o={c:t,t:i,f:!1,n:null};tu?tu.n=o:Js=o,tu=o,eu||(nu=clearTimeout(nu),eu=1,iu(Ne))},ns.timer.flush=function(){Fe(),ze()},ns.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ou=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(je);ns.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=ns.round(t,De(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),ou[8+n/3]};var au=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,su=ns.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ns.round(t,De(t,e))).toFixed(Math.max(0,Math.min(20,De(t*(1+1e-15),e))))}}),uu=ns.time={},lu=Date;Ie.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){cu.setUTCDate.apply(this._,arguments)},setDay:function(){cu.setUTCDay.apply(this._,arguments)},setFullYear:function(){cu.setUTCFullYear.apply(this._,arguments)},setHours:function(){cu.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){cu.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){cu.setUTCMinutes.apply(this._,arguments)},setMonth:function(){cu.setUTCMonth.apply(this._,arguments)},setSeconds:function(){cu.setUTCSeconds.apply(this._,arguments)},setTime:function(){cu.setTime.apply(this._,arguments)}};var cu=Date.prototype;uu.year=He(function(t){return t=uu.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),uu.years=uu.year.range,uu.years.utc=uu.year.utc.range,uu.day=He(function(t){var e=new lu(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),uu.days=uu.day.range,uu.days.utc=uu.day.utc.range,uu.dayOfYear=function(t){var e=uu.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=uu[t]=He(function(t){return(t=uu.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=uu.year(t).getDay();return Math.floor((uu.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});uu[t+"s"]=n.range,uu[t+"s"].utc=n.utc.range,uu[t+"OfYear"]=function(t){var n=uu.year(t).getDay();return Math.floor((uu.dayOfYear(t)+(n+e)%7)/7)}}),uu.week=uu.sunday,uu.weeks=uu.sunday.range,uu.weeks.utc=uu.sunday.utc.range,uu.weekOfYear=uu.sundayOfYear;var hu={"-":"",_:" ",0:"0"},fu=/^\s*\d+/,du=/^%/;ns.locale=function(t){return{numberFormat:Pe(t),timeFormat:qe(t)}};var pu=ns.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ns.format=pu.numberFormat,ns.geo={},ln.prototype={s:0,t:0,add:function(t){cn(t,this.t,gu),cn(gu.s,this.s,this),this.s?this.t+=gu.t:this.s=gu.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var gu=new ln;ns.geo.stream=function(t,e){t&&mu.hasOwnProperty(t.type)?mu[t.type](t,e):hn(t,e)};var mu={Feature:function(t,e){hn(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)hn(n[r].geometry,e)}},vu={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){fn(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)fn(n[r],e,0)},Polygon:function(t,e){dn(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)dn(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)hn(n[r],e)}};ns.geo.area=function(t){return yu=0,ns.geo.stream(t,_u),yu};var yu,bu=new ln,_u={sphere:function(){yu+=4*Fs},point:x,lineStart:x,lineEnd:x,polygonStart:function(){bu.reset(),_u.lineStart=pn},polygonEnd:function(){var t=2*bu;yu+=0>t?4*Fs+t:t,_u.lineStart=_u.lineEnd=_u.point=x}};ns.geo.bounds=function(){function t(t,e){b.push(_=[c=t,f=t]),h>e&&(h=e),e>d&&(d=e)}function e(e,n){var r=gn([e*Ps,n*Ps]);if(v){var i=vn(v,r),o=[i[1],-i[0],0],a=vn(o,i);_n(a),a=xn(a);var u=e-p,l=u>0?1:-1,g=a[0]*Os*l,m=ps(u)>180;if(m^(g>l*p&&l*e>g)){var y=a[1]*Os;y>d&&(d=y)}else if(g=(g+360)%360-180,m^(g>l*p&&l*e>g)){var y=-a[1]*Os;h>y&&(h=y)}else h>n&&(h=n),n>d&&(d=n);m?p>e?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e):f>=c?(c>e&&(c=e),e>f&&(f=e)):e>p?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e)}else t(e,n);v=r,p=e}function n(){x.point=e}function r(){_[0]=c,_[1]=f,x.point=t,v=null}function i(t,n){if(v){var r=t-p;y+=ps(r)>180?r+(r>0?360:-360):r}else g=t,m=n;_u.point(t,n),e(t,n)}function o(){_u.lineStart()}function a(){i(g,m),_u.lineEnd(),ps(y)>Ls&&(c=-(f=180)),_[0]=c,_[1]=f,v=null}function s(t,e){return(e-=t)<0?e+360:e}function u(t,e){return t[0]-e[0]}function l(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,f,d,p,g,m,v,y,b,_,x={point:t,lineStart:n,lineEnd:r,polygonStart:function(){x.point=i,x.lineStart=o,x.lineEnd=a,y=0,_u.polygonStart()},polygonEnd:function(){_u.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=r,0>bu?(c=-(f=180),h=-(d=90)):y>Ls?d=90:-Ls>y&&(h=-90),_[0]=c,_[1]=f}};return function(t){d=f=-(c=h=1/0),b=[],ns.geo.stream(t,x);var e=b.length;if(e){b.sort(u);for(var n,r=1,i=b[0],o=[i];e>r;++r)n=b[r],l(n[0],i)||l(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,p=-1/0,e=o.length-1,r=0,i=o[e];e>=r;i=n,++r)n=o[r],(a=s(i[1],n[0]))>p&&(p=a,c=n[0],f=i[1])}return b=_=null,1/0===c||1/0===h?[[0/0,0/0],[0/0,0/0]]:[[c,h],[f,d]]}}(),ns.geo.centroid=function(t){xu=wu=ku=Cu=Su=Mu=Tu=Au=Eu=Lu=Nu=0,ns.geo.stream(t,Fu);var e=Eu,n=Lu,r=Nu,i=e*e+n*n+r*r;return Ns>i&&(e=Mu,n=Tu,r=Au,Ls>wu&&(e=ku,n=Cu,r=Su),i=e*e+n*n+r*r,Ns>i)?[0/0,0/0]:[Math.atan2(n,e)*Os,ee(r/Math.sqrt(i))*Os]};var xu,wu,ku,Cu,Su,Mu,Tu,Au,Eu,Lu,Nu,Fu={sphere:x,point:kn,lineStart:Sn,lineEnd:Mn,polygonStart:function(){Fu.lineStart=Tn},polygonEnd:function(){Fu.lineStart=Sn}},zu=zn(En,On,Hn,[-Fs,-Fs/2]),Du=1e9;ns.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(s){return arguments.length?(o=Wn(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(ns.geo.conicEqualArea=function(){return Un(Bn)}).raw=Bn,ns.geo.albers=function(){return ns.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ns.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}var e,n,r,i,o=ns.geo.albers(),a=ns.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ns.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var l=o.scale(),c=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[c-.455*l,h-.238*l],[c+.455*l,h+.238*l]]).stream(u).point,r=a.translate([c-.307*l,h+.201*l]).clipExtent([[c-.425*l+Ls,h+.12*l+Ls],[c-.214*l-Ls,h+.234*l-Ls]]).stream(u).point,i=s.translate([c-.205*l,h+.212*l]).clipExtent([[c-.214*l+Ls,h+.166*l+Ls],[c-.115*l-Ls,h+.234*l-Ls]]).stream(u).point,t},t.scale(1070)};var ju,Pu,Ou,Iu,Hu,Ru,qu={point:x,lineStart:x,lineEnd:x,polygonStart:function(){Pu=0,qu.lineStart=Qn},polygonEnd:function(){qu.lineStart=qu.lineEnd=qu.point=x,ju+=ps(Pu/2)}},$u={point:Xn,lineStart:x,lineEnd:x,polygonStart:x,polygonEnd:x},Wu={point:Zn,lineStart:Gn,lineEnd:Kn,polygonStart:function(){Wu.lineStart=Jn},polygonEnd:function(){Wu.point=Zn,Wu.lineStart=Gn,Wu.lineEnd=Kn}};ns.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),ns.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,r,i,o,a,s=4.5;return t.area=function(t){return ju=0,ns.geo.stream(t,i(qu)),ju},t.centroid=function(t){return ku=Cu=Su=Mu=Tu=Au=Eu=Lu=Nu=0,ns.geo.stream(t,i(Wu)),Nu?[Eu/Nu,Lu/Nu]:Au?[Mu/Au,Tu/Au]:Su?[ku/Su,Cu/Su]:[0/0,0/0]},t.bounds=function(t){return Hu=Ru=-(Ou=Iu=1/0),ns.geo.stream(t,i($u)),[[Ou,Iu],[Hu,Ru]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||nr(t):y,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new Vn:new tr(t),"function"!=typeof s&&o.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(ns.geo.albersUsa()).context(null)},ns.geo.transform=function(t){return{stream:function(e){var n=new rr(e);for(var r in t)n[r]=t[r];return n}}},rr.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ns.geo.projection=or,ns.geo.projectionMutator=ar,(ns.geo.equirectangular=function(){return or(ur)}).raw=ur.invert=ur,ns.geo.rotation=function(t){function e(e){return e=t(e[0]*Ps,e[1]*Ps),e[0]*=Os,e[1]*=Os,e}return t=cr(t[0]%360*Ps,t[1]*Ps,t.length>2?t[2]*Ps:0),e.invert=function(e){return e=t.invert(e[0]*Ps,e[1]*Ps),e[0]*=Os,e[1]*=Os,e},e},lr.invert=ur,ns.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=cr(-t[0]*Ps,-t[1]*Ps,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=Os,t[1]*=Os}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=pr((e=+r)*Ps,i*Ps),t):e},t.precision=function(r){return arguments.length?(n=pr(e*Ps,(i=+r)*Ps),t):i},t.angle(90)},ns.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Ps,i=t[1]*Ps,o=e[1]*Ps,a=Math.sin(r),s=Math.cos(r),u=Math.sin(i),l=Math.cos(i),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=l*c-u*h*s)*n),u*c+l*h*s)},ns.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ns.range(Math.ceil(o/m)*m,i,m).map(f).concat(ns.range(Math.ceil(l/v)*v,u,v).map(d)).concat(ns.range(Math.ceil(r/p)*p,n,p).filter(function(t){return ps(t%m)>Ls}).map(c)).concat(ns.range(Math.ceil(s/g)*g,a,g).filter(function(t){return ps(t%v)>Ls}).map(h))}var n,r,i,o,a,s,u,l,c,h,f,d,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(d(u).slice(1),f(i).reverse().slice(1),d(l).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],l=+e[0][1],u=+e[1][1],o>i&&(e=o,o=i,i=e),l>u&&(e=l,l=u,u=e),t.precision(y)):[[o,l],[i,u]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=mr(s,a,90),h=vr(r,n,y),f=mr(l,u,90),d=vr(o,i,y),t):y},t.majorExtent([[-180,-90+Ls],[180,90-Ls]]).minorExtent([[-180,-80-Ls],[180,80+Ls]])},ns.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=yr,i=br;return t.distance=function(){return ns.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},ns.geo.interpolate=function(t,e){return _r(t[0]*Ps,t[1]*Ps,e[0]*Ps,e[1]*Ps)},ns.geo.length=function(t){return Uu=0,ns.geo.stream(t,Bu),Uu};var Uu,Bu={sphere:x,point:x,lineStart:xr,lineEnd:x,polygonStart:x,polygonEnd:x},Qu=wr(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ns.geo.azimuthalEqualArea=function(){return or(Qu)}).raw=Qu;var Xu=wr(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},y);(ns.geo.azimuthalEquidistant=function(){return or(Xu)}).raw=Xu,(ns.geo.conicConformal=function(){return Un(kr)}).raw=kr,(ns.geo.conicEquidistant=function(){return Un(Cr)}).raw=Cr;var Vu=wr(function(t){return 1/t},Math.atan);(ns.geo.gnomonic=function(){return or(Vu)}).raw=Vu,Sr.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-js]},(ns.geo.mercator=function(){return Mr(Sr)}).raw=Sr;var Yu=wr(function(){return 1},Math.asin);(ns.geo.orthographic=function(){return or(Yu)}).raw=Yu;var Zu=wr(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ns.geo.stereographic=function(){return or(Zu)}).raw=Zu,Tr.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-js]},(ns.geo.transverseMercator=function(){var t=Mr(Tr),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Tr,ns.geom={},ns.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=Me(n),o=Me(r),a=t.length,s=[],u=[];for(e=0;a>e;e++)s.push([+i.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(Nr),e=0;a>e;e++)u.push([s[e][0],-s[e][1]]);var l=Lr(s),c=Lr(u),h=c[0]===l[0],f=c[c.length-1]===l[l.length-1],d=[];for(e=l.length-1;e>=0;--e)d.push(t[s[l[e]][2]]);for(e=+h;e<c.length-f;++e)d.push(t[s[c[e]][2]]);return d}var n=Ar,r=Er;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},ns.geom.polygon=function(t){return bs(t,Gu),t};var Gu=ns.geom.polygon.prototype=[];Gu.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},Gu.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},Gu.clip=function(t){for(var e,n,r,i,o,a,s=Dr(t),u=-1,l=this.length-Dr(this),c=this[l-1];++u<l;){for(e=t.slice(),t.length=0,i=this[u],o=e[(r=e.length-s)-1],n=-1;++n<r;)a=e[n],Fr(a,c,i)?(Fr(o,c,i)||t.push(zr(o,a,c,i)),t.push(a)):Fr(o,c,i)&&t.push(zr(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var Ku,Ju,tl,el,nl,rl=[],il=[];$r.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Ur),e.length},ti.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ei.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=oi(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ri(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ii(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(ii(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ri(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?oi(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,ri(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ii(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ri(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,ii(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ri(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,ii(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},ns.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return ai(n(t),s).cells.forEach(function(n,s){var u=n.edges,l=n.site,c=e[s]=u.length?u.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=r&&l.x<=o&&l.y>=i&&l.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Ls)*Ls,y:Math.round(a(t,e)/Ls)*Ls,i:e}})}var r=Ar,i=Er,o=r,a=i,s=ol;return t?e(t):(e.links=function(t){return ai(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return ai(n(t)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(Ur),u=-1,l=s.length,c=s[l-1].edge,h=c.l===a?c.r:c.l;++u<l;)i=c,o=h,c=s[u].edge,h=c.l===a?c.r:c.l,r<o.i&&r<h.i&&ui(a,o,h)<0&&e.push([t[r],t[o.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(o=Me(r=t),e):r},e.y=function(t){return arguments.length?(a=Me(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?ol:t,e):s===ol?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===ol?null:s&&s[1]},e)};var ol=[[-1e6,-1e6],[1e6,1e6]];ns.geom.delaunay=function(t){return ns.geom.voronoi().triangles(t)},ns.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var u=t.x,c=t.y;if(null!=u)if(ps(u-n)+ps(c-r)<.01)l(t,e,n,r,i,o,a,s);else{var h=t.point;t.x=t.y=t.point=null,l(t,h,u,c,i,o,a,s),l(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else l(t,e,n,r,i,o,a,s)}function l(t,e,n,r,i,a,s,u){var l=.5*(i+s),c=.5*(a+u),h=n>=l,f=r>=c,d=f<<1|h;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]=hi()),h?i=l:s=l,f?a=c:u=c,o(t,e,n,r,i,a,s,u)}var c,h,f,d,p,g,m,v,y,b=Me(s),_=Me(u);if(null!=e)g=e,m=n,v=r,y=i;else if(v=y=-(g=m=1/0),h=[],f=[],p=t.length,a)for(d=0;p>d;++d)c=t[d],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),h.push(c.x),f.push(c.y);else for(d=0;p>d;++d){var x=+b(c=t[d],d),w=+_(c,d);g>x&&(g=x),m>w&&(m=w),x>v&&(v=x),w>y&&(y=w),h.push(x),f.push(w)}var k=v-g,C=y-m;k>C?y=m+k:v=g+C;var S=hi();if(S.add=function(t){o(S,t,+b(t,++d),+_(t,d),g,m,v,y)},S.visit=function(t){fi(t,S,g,m,v,y)},S.find=function(t){return di(S,t[0],t[1],g,m,v,y)},d=-1,null==e){for(;++d<p;)o(S,t[d],h[d],f[d],g,m,v,y);--d}else t.forEach(S.add);return h=f=t=c=null,S}var a,s=Ar,u=Er;return(a=arguments.length)?(s=li,u=ci,3===a&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(u=t,o):u},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},ns.interpolateRgb=pi,ns.interpolateObject=gi,ns.interpolateNumber=mi,ns.interpolateString=vi;var al=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sl=new RegExp(al.source,"g");ns.interpolate=yi,ns.interpolators=[function(t,e){var n=typeof e;return("string"===n?Ks.has(e)||/^(#|rgb\(|hsl\()/.test(e)?pi:vi:e instanceof ae?pi:Array.isArray(e)?bi:"object"===n&&isNaN(e)?gi:mi)(t,e)}],ns.interpolateArray=bi;var ul=function(){return y},ll=ns.map({linear:ul,poly:Mi,quad:function(){return ki},cubic:function(){return Ci},sin:function(){return Ti},exp:function(){return Ai},circle:function(){return Ei},elastic:Li,back:Ni,bounce:function(){return Fi}}),cl=ns.map({"in":y,out:xi,"in-out":wi,"out-in":function(t){return wi(xi(t))}});ns.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=ll.get(n)||ul,r=cl.get(r)||y,_i(r(n.apply(null,rs.call(arguments,1))))},ns.interpolateHcl=zi,ns.interpolateHsl=Di,ns.interpolateLab=ji,ns.interpolateRound=Pi,ns.transform=function(t){var e=os.createElementNS(ns.ns.prefix.svg,"g");return(ns.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Oi(n?n.matrix:hl)})(t)},Oi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var hl={a:1,b:0,c:0,d:1,e:0,f:0};ns.interpolateTransform=qi,ns.layout={},ns.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Ui(t[n]));return e}},ns.layout.chord=function(){function t(){var t,l,h,f,d,p={},g=[],m=ns.range(o),v=[];for(n=[],r=[],t=0,f=-1;++f<o;){for(l=0,d=-1;++d<o;)l+=i[f][d];g.push(l),v.push(ns.range(o)),t+=l}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(zs-c*o)/t,l=0,f=-1;++f<o;){for(h=l,d=-1;++d<o;){var y=m[f],b=v[y][d],_=i[y][b],x=l,w=l+=_*t;p[y+"-"+b]={index:y,subindex:b,startAngle:x,endAngle:w,value:_}}r[y]={index:y,startAngle:h,endAngle:l,value:(l-h)/t},l+=c}for(f=-1;++f<o;)for(d=f-1;++d<o;){var k=p[f+"-"+d],C=p[d+"-"+f];(k.value||C.value)&&n.push(k.value<C.value?{source:C,target:k}:{source:k,target:C})}u&&e()}function e(){n.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,u,l={},c=0;return l.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,l):i},l.padding=function(t){return arguments.length?(c=t,n=r=null,l):c},l.sortGroups=function(t){return arguments.length?(a=t,n=r=null,l):a},l.sortSubgroups=function(t){return arguments.length?(s=t,n=null,l):s},l.sortChords=function(t){return arguments.length?(u=t,n&&e(),l):u},l.chords=function(){return n||t(),n},l.groups=function(){return r||t(),r},l},ns.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,u=o*o+a*a;if(u>s*s/m){if(p>u){var l=e.charge/u;t.px-=o*l,t.py-=a*l}return!0}if(e.point&&u&&p>u){var l=e.pointCharge/u;t.px-=o*l,t.py-=a*l}}return!e.charge}}function e(t){t.px=ns.event.x,t.py=ns.event.y,s.resume()}var n,r,i,o,a,s={},u=ns.dispatch("start","tick","end"),l=[1,1],c=.9,h=fl,f=dl,d=-30,p=pl,g=.1,m=.64,v=[],b=[];return s.tick=function(){if((r*=.99)<.005)return u.end({type:"end",alpha:r=0}),!0;var e,n,s,h,f,p,m,y,_,x=v.length,w=b.length;for(n=0;w>n;++n)s=b[n],h=s.source,f=s.target,y=f.x-h.x,_=f.y-h.y,(p=y*y+_*_)&&(p=r*o[n]*((p=Math.sqrt(p))-i[n])/p,y*=p,_*=p,f.x-=y*(m=h.weight/(f.weight+h.weight)),f.y-=_*m,h.x+=y*(m=1-m),h.y+=_*m);if((m=r*g)&&(y=l[0]/2,_=l[1]/2,n=-1,m))for(;++n<x;)s=v[n],s.x+=(y-s.x)*m,s.y+=(_-s.y)*m;if(d)for(Gi(e=ns.geom.quadtree(v),r,a),n=-1;++n<x;)(s=v[n]).fixed||e.visit(t(s));for(n=-1;++n<x;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);u.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(b=t,s):b},s.size=function(t){return arguments.length?(l=t,s):l},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(m=t*t,s):Math.sqrt(m)},s.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(u.start({type:"start",alpha:r=t}),ns.timer(s.tick)),s):r},s.start=function(){function t(t,r){if(!n){for(n=new Array(u),s=0;u>s;++s)n[s]=[];for(s=0;c>s;++s){var i=b[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[e],s=-1,l=a.length;++s<l;)if(!isNaN(o=a[s][t]))return o;return Math.random()*r}var e,n,r,u=v.length,c=b.length,p=l[0],g=l[1];for(e=0;u>e;++e)(r=v[e]).index=e,r.weight=0;for(e=0;c>e;++e)r=b[e],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(e=0;u>e;++e)r=v[e],isNaN(r.x)&&(r.x=t("x",p)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof h)for(e=0;c>e;++e)i[e]=+h.call(this,b[e],e);else for(e=0;c>e;++e)i[e]=h;if(o=[],"function"==typeof f)for(e=0;c>e;++e)o[e]=+f.call(this,b[e],e);else for(e=0;c>e;++e)o[e]=f;if(a=[],"function"==typeof d)for(e=0;u>e;++e)a[e]=+d.call(this,v[e],e);else for(e=0;u>e;++e)a[e]=d;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=ns.behavior.drag().origin(y).on("dragstart.force",Xi).on("drag.force",e).on("dragend.force",Vi)),arguments.length?void this.on("mouseover.force",Yi).on("mouseout.force",Zi).call(n):n},ns.rebind(s,u,"on")};var fl=20,dl=1,pl=1/0;ns.layout.hierarchy=function(){function t(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(l=n.call(t,o,o.depth))&&(u=l.length)){for(var u,l,c;--u>=0;)a.push(c=l[u]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=l}else r&&(o.value=+r.call(t,o,o.depth)||0),delete o.children;return to(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)}),s}var e=ro,n=eo,r=no;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(Ji(e,function(t){t.children&&(t.value=0)}),to(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},ns.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,u,l=-1;for(r=e.value?r/e.value:0;++l<a;)t(s=o[l],n,u=s.value*r,i),n+=u}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=ns.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},Ki(n,r)},ns.layout.pie=function(){function t(a){var s,u=a.length,l=a.map(function(n,r){return+e.call(t,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),h=("function"==typeof i?i.apply(this,arguments):i)-c,f=Math.min(Math.abs(h)/u,+("function"==typeof o?o.apply(this,arguments):o)),d=f*(0>h?-1:1),p=(h-u*d)/ns.sum(l),g=ns.range(u),m=[];return null!=n&&g.sort(n===gl?function(t,e){return l[e]-l[t]}:function(t,e){return n(a[t],a[e])}),g.forEach(function(t){m[t]={data:a[t],value:s=l[t],startAngle:c,endAngle:c+=s*p+d,padAngle:f}}),m}var e=Number,n=gl,r=0,i=zs,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var gl={};ns.layout.stack=function(){function t(s,u){if(!(f=s.length))return s;var l=s.map(function(n,r){return e.call(t,n,r)}),c=l.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),h=n.call(t,c,u);l=ns.permute(l,h),c=ns.permute(c,h);var f,d,p,g,m=r.call(t,c,u),v=l[0].length;for(p=0;v>p;++p)for(i.call(t,l[0][p],g=m[p],c[0][p][1]),d=1;f>d;++d)i.call(t,l[d][p],g+=c[d-1][p][1],c[d][p][1]);return s}var e=y,n=uo,r=lo,i=so,o=oo,a=ao;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:ml.get(e)||uo,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:vl.get(e)||lo,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i
},t};var ml=ns.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(co),o=t.map(ho),a=ns.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,u=0,l=[],c=[];for(e=0;r>e;++e)n=a[e],u>s?(s+=o[n],l.push(n)):(u+=o[n],c.push(n));return c.reverse().concat(l)},reverse:function(t){return ns.range(t.length).reverse()},"default":uo}),vl=ns.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,u=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)u[n]=(s-a[n])/2;return u},wiggle:function(t){var e,n,r,i,o,a,s,u,l,c=t.length,h=t[0],f=h.length,d=[];for(d[0]=u=l=0,n=1;f>n;++n){for(e=0,i=0;c>e;++e)i+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];c>e;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>r;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}d[n]=u-=i?o/i*s:0,l>u&&(l=u)}for(n=0;f>n;++n)d[n]-=l;return d},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];if(r)for(e=0;i>e;e++)t[e][n][1]/=r;else for(e=0;i>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:lo});ns.layout.histogram=function(){function t(t,o){for(var a,s,u=[],l=t.map(n,this),c=r.call(this,l,o),h=i.call(this,c,l,o),o=-1,f=l.length,d=h.length-1,p=e?1:1/f;++o<d;)a=u[o]=[],a.dx=h[o+1]-(a.x=h[o]),a.y=0;if(d>0)for(o=-1;++o<f;)s=l[o],s>=c[0]&&s<=c[1]&&(a=u[ns.bisect(h,s,1,d)-1],a.y+=p,a.push(t[o]));return u}var e=!0,n=Number,r=mo,i=po;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=Me(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return go(t,e)}:Me(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},ns.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],u=i[0],l=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,to(s,function(t){t.r=+c(t.value)}),to(s,xo),r){var h=r*(e?1:Math.max(2*s.r/u,2*s.r/l))/2;to(s,function(t){t.r+=h}),to(s,xo),to(s,function(t){t.r-=h})}return Co(s,u/2,l/2,e?1:1/Math.max(2*s.r/u,2*s.r/l)),a}var e,n=ns.layout.hierarchy().sort(vo),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},Ki(t,n)},ns.layout.tree=function(){function t(t,i){var c=a.call(this,t,i),h=c[0],f=e(h);if(to(f,n),f.parent.m=-f.z,Ji(f,r),l)Ji(h,o);else{var d=h,p=h,g=h;Ji(h,function(t){t.x<d.x&&(d=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=s(d,p)/2-d.x,v=u[0]/(p.x+s(p,d)/2+m),y=u[1]/(g.depth||1);Ji(h,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;s>a;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Lo(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,o=t,a=e,u=i.parent.children[0],l=i.m,c=o.m,h=a.m,f=u.m;a=Ao(a),i=To(i),a&&i;)u=To(u),o=Ao(o),o.a=t,r=a.z+h-i.z-l+s(a._,i._),r>0&&(Eo(No(a,t,n),t,r),l+=r,c+=r),h+=a.m,l+=i.m,f+=u.m,c+=o.m;a&&!Ao(o)&&(o.t=a,o.m+=h-c),i&&!To(u)&&(u.t=i,u.m+=l-f,n=t)}return n}function o(t){t.x*=u[0],t.y=t.depth*u[1]}var a=ns.layout.hierarchy().sort(null).value(null),s=Mo,u=[1,1],l=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(l=null==(u=e)?o:null,t):l?null:u},t.nodeSize=function(e){return arguments.length?(l=null==(u=e)?null:o,t):l?u:null},Ki(t,a)},ns.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),u=s[0],l=0;to(u,function(t){var e=t.children;e&&e.length?(t.x=zo(e),t.y=Fo(e)):(t.x=a?l+=n(t,a):0,t.y=0,a=t)});var c=Do(u),h=jo(u),f=c.x-n(c,h)/2,d=h.x+n(h,c)/2;return to(u,i?function(t){t.x=(t.x-u.x)*r[0],t.y=(u.y-t.y)*r[1]}:function(t){t.x=(t.x-f)/(d-f)*r[0],t.y=(1-(u.y?t.y/u.y:1))*r[1]}),s}var e=ns.layout.hierarchy().sort(null).value(null),n=Mo,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},Ki(t,e)},ns.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var o=n.children;if(o&&o.length){var a,s,u,l=h(n),c=[],f=o.slice(),p=1/0,g="slice"===d?l.dx:"dice"===d?l.dy:"slice-dice"===d?1&n.depth?l.dy:l.dx:Math.min(l.dx,l.dy);for(t(f,l.dx*l.dy/n.value),c.area=0;(u=f.length)>0;)c.push(a=f[u-1]),c.area+=a.area,"squarify"!==d||(s=r(c,g))<=p?(f.pop(),p=s):(c.area-=c.pop().area,i(c,g,l,!1),g=Math.min(l.dx,l.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,g,l,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,a=h(e),s=r.slice(),u=[];for(t(s,a.dx*a.dy/e.value),u.area=0;o=s.pop();)u.push(o),u.area+=o.area,null!=o.z&&(i(u,o.z?a.dx:a.dy,a,!s.length),u.length=u.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*p/r,r/(e*o*p)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,l=n.y,c=e?u(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=t[o],i.x=s,i.y=l,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?u(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=t[o],i.x=s,i.y=l,i.dx=c,l+=i.dy=Math.min(n.y+n.dy-l,c?u(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=l[0],o.dy=l[1],a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),f&&(a=i),i}var a,s=ns.layout.hierarchy(),u=Math.round,l=[1,1],c=null,h=Po,f=!1,d="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(l=t,o):l},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Po(e):Oo(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Oo(e,t)}if(!arguments.length)return c;var r;return h=null==(c=t)?Po:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(u=t?Math.round:Number,o):u!=Number},o.sticky=function(t){return arguments.length?(f=t,a=null,o):f},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(d=t+"",o):d},Ki(o,s)},ns.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=ns.random.normal.apply(ns,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ns.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},ns.scale={};var yl={floor:y,ceil:y};ns.scale.linear=function(){return Uo([0,1],[0,1],yi,!1)};var bl={s:1,g:1,p:1,r:1,e:1};ns.scale.log=function(){return Ko(ns.scale.linear().domain([0,1]),10,!0,[1,10])};var _l=ns.format(".0e"),xl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ns.scale.pow=function(){return Jo(ns.scale.linear(),1,[0,1])},ns.scale.sqrt=function(){return ns.scale.pow().exponent(.5)},ns.scale.ordinal=function(){return ea([],{t:"range",a:[[]]})},ns.scale.category10=function(){return ns.scale.ordinal().range(wl)},ns.scale.category20=function(){return ns.scale.ordinal().range(kl)},ns.scale.category20b=function(){return ns.scale.ordinal().range(Cl)},ns.scale.category20c=function(){return ns.scale.ordinal().range(Sl)};var wl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(be),kl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(be),Cl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(be),Sl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(be);ns.scale.quantile=function(){return na([],[])},ns.scale.quantize=function(){return ra(0,1,[0,1])},ns.scale.threshold=function(){return ia([.5],[0,1])},ns.scale.identity=function(){return oa([0,1])},ns.svg={},ns.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),l=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-js,h=s.apply(this,arguments)-js,f=Math.abs(h-c),d=c>h?0:1;if(t>l&&(p=l,l=t,t=p),f>=Ds)return e(l,d)+(t?e(t,1-d):"")+"Z";var p,g,m,v,y,b,_,x,w,k,C,S,M=0,T=0,A=[];if((v=(+u.apply(this,arguments)||0)/2)&&(m=o===Ml?Math.sqrt(t*t+l*l):+o.apply(this,arguments),d||(T*=-1),l&&(T=ee(m/l*Math.sin(v))),t&&(M=ee(m/t*Math.sin(v)))),l){y=l*Math.cos(c+T),b=l*Math.sin(c+T),_=l*Math.cos(h-T),x=l*Math.sin(h-T);var E=Math.abs(h-c-2*T)<=Fs?0:1;if(T&&fa(y,b,_,x)===d^E){var L=(c+h)/2;y=l*Math.cos(L),b=l*Math.sin(L),_=x=null}}else y=b=0;if(t){w=t*Math.cos(h-M),k=t*Math.sin(h-M),C=t*Math.cos(c+M),S=t*Math.sin(c+M);var N=Math.abs(c-h+2*M)<=Fs?0:1;if(M&&fa(w,k,C,S)===1-d^N){var F=(c+h)/2;w=t*Math.cos(F),k=t*Math.sin(F),C=S=null}}else w=k=0;if((p=Math.min(Math.abs(l-t)/2,+i.apply(this,arguments)))>.001){g=l>t^d?0:1;var z=null==C?[w,k]:null==_?[y,b]:zr([y,b],[C,S],[_,x],[w,k]),D=y-z[0],j=b-z[1],P=_-z[0],O=x-z[1],I=1/Math.sin(Math.acos((D*P+j*O)/(Math.sqrt(D*D+j*j)*Math.sqrt(P*P+O*O)))/2),H=Math.sqrt(z[0]*z[0]+z[1]*z[1]);if(null!=_){var R=Math.min(p,(l-H)/(I+1)),q=da(null==C?[w,k]:[C,S],[y,b],l,R,d),$=da([_,x],[w,k],l,R,d);p===R?A.push("M",q[0],"A",R,",",R," 0 0,",g," ",q[1],"A",l,",",l," 0 ",1-d^fa(q[1][0],q[1][1],$[1][0],$[1][1]),",",d," ",$[1],"A",R,",",R," 0 0,",g," ",$[0]):A.push("M",q[0],"A",R,",",R," 0 1,",g," ",$[0])}else A.push("M",y,",",b);if(null!=C){var W=Math.min(p,(t-H)/(I-1)),U=da([y,b],[C,S],t,-W,d),B=da([w,k],null==_?[y,b]:[_,x],t,-W,d);p===W?A.push("L",B[0],"A",W,",",W," 0 0,",g," ",B[1],"A",t,",",t," 0 ",d^fa(B[1][0],B[1][1],U[1][0],U[1][1]),",",1-d," ",U[1],"A",W,",",W," 0 0,",g," ",U[0]):A.push("L",B[0],"A",W,",",W," 0 0,",g," ",U[0])}else A.push("L",w,",",k)}else A.push("M",y,",",b),null!=_&&A.push("A",l,",",l," 0 ",E,",",d," ",_,",",x),A.push("L",w,",",k),null!=C&&A.push("A",t,",",t," 0 ",N,",",1-d," ",C,",",S);return A.push("Z"),A.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=sa,r=ua,i=aa,o=Ml,a=la,s=ca,u=ha;return t.innerRadius=function(e){return arguments.length?(n=Me(e),t):n},t.outerRadius=function(e){return arguments.length?(r=Me(e),t):r},t.cornerRadius=function(e){return arguments.length?(i=Me(e),t):i},t.padRadius=function(e){return arguments.length?(o=e==Ml?Ml:Me(e),t):o},t.startAngle=function(e){return arguments.length?(a=Me(e),t):a},t.endAngle=function(e){return arguments.length?(s=Me(e),t):s},t.padAngle=function(e){return arguments.length?(u=Me(e),t):u},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-js;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Ml="auto";ns.svg.line=function(){return pa(y)};var Tl=ns.map({linear:ga,"linear-closed":ma,step:va,"step-before":ya,"step-after":ba,basis:Sa,"basis-open":Ma,"basis-closed":Ta,bundle:Aa,cardinal:wa,"cardinal-open":_a,"cardinal-closed":xa,monotone:Da});Tl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Al=[0,2/3,1/3,0],El=[0,1/3,2/3,0],Ll=[0,1/6,2/3,1/6];ns.svg.line.radial=function(){var t=pa(ja);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},ya.reverse=ba,ba.reverse=ya,ns.svg.area=function(){return Pa(y)},ns.svg.area.radial=function(){var t=Pa(ja);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ns.svg.chord=function(){function t(t,s){var u=e(this,o,t,s),l=e(this,a,t,s);return"M"+u.p0+r(u.r,u.p1,u.a1-u.a0)+(n(u,l)?i(u.r,u.p1,u.r,u.p0):i(u.r,u.p1,l.r,l.p0)+r(l.r,l.p1,l.a1-l.a0)+i(l.r,l.p1,u.r,u.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=u.call(t,i,r)-js,c=l.call(t,i,r)-js;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Fs)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=yr,a=br,s=Oa,u=la,l=ca;return t.radius=function(e){return arguments.length?(s=Me(e),t):s},t.source=function(e){return arguments.length?(o=Me(e),t):o},t.target=function(e){return arguments.length?(a=Me(e),t):a},t.startAngle=function(e){return arguments.length?(u=Me(e),t):u},t.endAngle=function(e){return arguments.length?(l=Me(e),t):l},t},ns.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,u=[o,{x:o.x,y:s},{x:a.x,y:s},a];return u=u.map(r),"M"+u[0]+"C"+u[1]+" "+u[2]+" "+u[3]}var e=yr,n=br,r=Ia;return t.source=function(n){return arguments.length?(e=Me(n),t):e},t.target=function(e){return arguments.length?(n=Me(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},ns.svg.diagonal.radial=function(){var t=ns.svg.diagonal(),e=Ia,n=t.projection;return t.projection=function(t){return arguments.length?n(Ha(e=t)):e},t},ns.svg.symbol=function(){function t(t,r){return(Nl.get(e.call(this,t,r))||$a)(n.call(this,t,r))}var e=qa,n=Ra;return t.type=function(n){return arguments.length?(e=Me(n),t):e},t.size=function(e){return arguments.length?(n=Me(e),t):n},t};var Nl=ns.map({circle:$a,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*zl)),n=e*zl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Fl),n=e*Fl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Fl),n=e*Fl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});ns.svg.symbolTypes=Nl.keys();var Fl=Math.sqrt(3),zl=Math.tan(30*Ps);ks.transition=function(t){for(var e,n,r=Dl||++Il,i=Xa(t),o=[],a=jl||{time:Date.now(),ease:Si,delay:0,duration:250},s=-1,u=this.length;++s<u;){o.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(n=l[c])&&Va(n,c,i,r,a),e.push(n)}return Ua(o,i,r)},ks.interrupt=function(t){return this.each(null==t?Pl:Wa(Xa(t)))};var Dl,jl,Pl=Wa(Xa()),Ol=[],Il=0;Ol.call=ks.call,Ol.empty=ks.empty,Ol.node=ks.node,Ol.size=ks.size,ns.transition=function(t,e){return t&&t.transition?Dl?t.transition(e):t:ns.selection().transition(t)},ns.transition.prototype=Ol,Ol.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=A(t);for(var s=-1,u=this.length;++s<u;){a.push(e=[]);for(var l=this[s],c=-1,h=l.length;++c<h;)(r=l[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Va(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return Ua(a,o,i)},Ol.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,u=[];t=E(t);for(var l=-1,c=this.length;++l<c;)for(var h=this[l],f=-1,d=h.length;++f<d;)if(r=h[f]){o=r[s][a],n=t.call(r,r.__data__,f,l),u.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Va(i,p,s,a,o),e.push(i)}return Ua(u,s,a)},Ol.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=q(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]);for(var n=this[o],s=0,u=n.length;u>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return Ua(i,this.namespace,this.id)},Ol.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):W(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Ol.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?qi:yi,s=ns.ns.qualify(t);return Ba(this,"attr."+t,e,s.local?o:i)},Ol.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=ns.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Ol.style=function(t,n,r){function i(){this.style.removeProperty(t)}function o(n){return null==n?i:(n+="",function(){var i,o=e(this).getComputedStyle(this,null).getPropertyValue(t);return o!==n&&(i=yi(o,n),function(e){this.style.setProperty(t,i(e),r)})})}var a=arguments.length;if(3>a){if("string"!=typeof t){2>a&&(n="");for(r in t)this.style(r,t[r],n);return this}r=""}return Ba(this,"style."+t,n,o)},Ol.styleTween=function(t,n,r){function i(i,o){var a=n.call(this,i,o,e(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),r)}}return arguments.length<3&&(r=""),this.tween("style."+t,i)},Ol.text=function(t){return Ba(this,"text",t,Qa)},Ol.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Ol.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=ns.ease.apply(ns,arguments)),W(this,function(r){r[n][e].ease=t}))},Ol.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:W(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},Ol.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:W(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Ol.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=jl,o=Dl;try{Dl=n,W(this,function(e,i,o){jl=e[r][n],t.call(e,e.__data__,i,o)})}finally{jl=i,Dl=o}}else W(this,function(i){var o=i[r][n];(o.event||(o.event=ns.dispatch("start","end","interrupt"))).on(t,e)});return this},Ol.transition=function(){for(var t,e,n,r,i=this.id,o=++Il,a=this.namespace,s=[],u=0,l=this.length;l>u;u++){s.push(t=[]);for(var e=this[u],c=0,h=e.length;h>c;c++)(n=e[c])&&(r=n[a][i],Va(n,c,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return Ua(s,a,o)},ns.svg.axis=function(){function t(t){t.each(function(){var t,l=ns.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),f=null==u?h.ticks?h.ticks.apply(h,s):h.domain():u,d=null==e?h.tickFormat?h.tickFormat.apply(h,s):y:e,p=l.selectAll(".tick").data(f,h),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Ls),m=ns.transition(p.exit()).style("opacity",Ls).remove(),v=ns.transition(p.order()).style("opacity",1),b=Math.max(i,0)+a,_=Ho(h),x=l.selectAll(".domain").data([0]),w=(x.enter().append("path").attr("class","domain"),ns.transition(x));g.append("line"),g.append("text");var k,C,S,M,T=g.select("line"),A=v.select("line"),E=p.select("text").text(d),L=g.select("text"),N=v.select("text"),F="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=Ya,k="x",S="y",C="x2",M="y2",E.attr("dy",0>F?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+_[0]+","+F*o+"V0H"+_[1]+"V"+F*o)):(t=Za,k="y",S="x",C="y2",M="x2",E.attr("dy",".32em").style("text-anchor",0>F?"end":"start"),w.attr("d","M"+F*o+","+_[0]+"H0V"+_[1]+"H"+F*o)),T.attr(M,F*i),L.attr(S,F*b),A.attr(C,0).attr(M,F*i),N.attr(k,0).attr(S,F*b),h.rangeBand){var z=h,D=z.rangeBand()/2;c=h=function(t){return z(t)+D}}else c.rangeBand?c=h:m.call(t,h,c);g.call(t,c,h),v.call(t,h,h)})}var e,n=ns.scale.linear(),r=Hl,i=6,o=6,a=3,s=[10],u=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in Rl?e+"":Hl,t):r},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(u=e,t):u},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,o=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Hl="bottom",Rl={top:1,right:1,bottom:1,left:1};ns.svg.brush=function(){function t(e){e.each(function(){var e=ns.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),a=e.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=e.selectAll(".resize").data(g,y);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return ql[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var u,h=ns.transition(e),f=ns.transition(a);l&&(u=Ho(l),f.attr("x",u[0]).attr("width",u[1]-u[0]),r(h)),c&&(u=Ho(c),f.attr("y",u[0]).attr("height",u[1]-u[0]),i(h)),n(h)})}function n(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function r(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function i(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function o(){function o(){32==ns.event.keyCode&&(E||(b=null,N[0]-=h[1],N[1]-=f[1],E=2),C())}function g(){32==ns.event.keyCode&&2==E&&(N[0]+=h[1],N[1]+=f[1],E=0,C())}function m(){var t=ns.mouse(x),e=!1;_&&(t[0]+=_[0],t[1]+=_[1]),E||(ns.event.altKey?(b||(b=[(h[0]+h[1])/2,(f[0]+f[1])/2]),N[0]=h[+(t[0]<b[0])],N[1]=f[+(t[1]<b[1])]):b=null),T&&v(t,l,0)&&(r(S),e=!0),A&&v(t,c,1)&&(i(S),e=!0),e&&(n(S),k({type:"brush",mode:E?"move":"resize"}))}function v(t,e,n){var r,i,o=Ho(e),u=o[0],l=o[1],c=N[n],g=n?f:h,m=g[1]-g[0];return E&&(u-=c,l-=m+c),r=(n?p:d)?Math.max(u,Math.min(l,t[n])):t[n],E?i=(r+=c)+m:(b&&(c=Math.max(u,Math.min(l,2*b[n]-r))),r>c?(i=r,r=c):i=c),g[0]!=r||g[1]!=i?(n?s=null:a=null,g[0]=r,g[1]=i,!0):void 0}function y(){m(),S.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ns.select("body").style("cursor",null),F.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),L(),k({type:"brushend"})}var b,_,x=this,w=ns.select(ns.event.target),k=u.of(x,arguments),S=ns.select(x),M=w.datum(),T=!/^(n|s)$/.test(M)&&l,A=!/^(e|w)$/.test(M)&&c,E=w.classed("extent"),L=Y(x),N=ns.mouse(x),F=ns.select(e(x)).on("keydown.brush",o).on("keyup.brush",g);if(ns.event.changedTouches?F.on("touchmove.brush",m).on("touchend.brush",y):F.on("mousemove.brush",m).on("mouseup.brush",y),S.interrupt().selectAll("*").interrupt(),E)N[0]=h[0]-N[0],N[1]=f[0]-N[1];else if(M){var z=+/w$/.test(M),D=+/^n/.test(M);_=[h[1-z]-N[0],f[1-D]-N[1]],N[0]=h[z],N[1]=f[D]}else ns.event.altKey&&(b=N.slice());S.style("pointer-events","none").selectAll(".resize").style("display",null),ns.select("body").style("cursor",w.style("cursor")),k({type:"brushstart"}),m()}var a,s,u=M(t,"brushstart","brush","brushend"),l=null,c=null,h=[0,0],f=[0,0],d=!0,p=!0,g=$l[0];return t.event=function(t){t.each(function(){var t=u.of(this,arguments),e={x:h,y:f,i:a,j:s},n=this.__chart__||e;this.__chart__=e,Dl?ns.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,h=n.x,f=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=bi(h,e.x),r=bi(f,e.y);return a=s=null,function(i){h=e.x=n(i),f=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,g=$l[!l<<1|!c],t):l},t.y=function(e){return arguments.length?(c=e,g=$l[!l<<1|!c],t):c},t.clamp=function(e){return arguments.length?(l&&c?(d=!!e[0],p=!!e[1]):l?d=!!e:c&&(p=!!e),t):l&&c?[d,p]:l?d:c?p:null},t.extent=function(e){var n,r,i,o,u;return arguments.length?(l&&(n=e[0],r=e[1],c&&(n=n[0],r=r[0]),a=[n,r],l.invert&&(n=l(n),r=l(r)),n>r&&(u=n,n=r,r=u),(n!=h[0]||r!=h[1])&&(h=[n,r])),c&&(i=e[0],o=e[1],l&&(i=i[1],o=o[1]),s=[i,o],c.invert&&(i=c(i),o=c(o)),i>o&&(u=i,i=o,o=u),(i!=f[0]||o!=f[1])&&(f=[i,o])),t):(l&&(a?(n=a[0],r=a[1]):(n=h[0],r=h[1],l.invert&&(n=l.invert(n),r=l.invert(r)),n>r&&(u=n,n=r,r=u))),c&&(s?(i=s[0],o=s[1]):(i=f[0],o=f[1],c.invert&&(i=c.invert(i),o=c.invert(o)),i>o&&(u=i,i=o,o=u))),l&&c?[[n,i],[r,o]]:l?[n,r]:c&&[i,o])},t.clear=function(){return t.empty()||(h=[0,0],f=[0,0],a=s=null),t},t.empty=function(){return!!l&&h[0]==h[1]||!!c&&f[0]==f[1]},ns.rebind(t,u,"on")};var ql={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},$l=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Wl=uu.format=pu.timeFormat,Ul=Wl.utc,Bl=Ul("%Y-%m-%dT%H:%M:%S.%LZ");Wl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Ga:Bl,Ga.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Ga.toString=Bl.toString,uu.second=He(function(t){return new lu(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),uu.seconds=uu.second.range,uu.seconds.utc=uu.second.utc.range,uu.minute=He(function(t){return new lu(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),uu.minutes=uu.minute.range,uu.minutes.utc=uu.minute.utc.range,uu.hour=He(function(t){var e=t.getTimezoneOffset()/60;return new lu(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),uu.hours=uu.hour.range,uu.hours.utc=uu.hour.utc.range,uu.month=He(function(t){return t=uu.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),uu.months=uu.month.range,uu.months.utc=uu.month.utc.range;var Ql=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Xl=[[uu.second,1],[uu.second,5],[uu.second,15],[uu.second,30],[uu.minute,1],[uu.minute,5],[uu.minute,15],[uu.minute,30],[uu.hour,1],[uu.hour,3],[uu.hour,6],[uu.hour,12],[uu.day,1],[uu.day,2],[uu.week,1],[uu.month,1],[uu.month,3],[uu.year,1]],Vl=Wl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",En]]),Yl={range:function(t,e,n){return ns.range(Math.ceil(t/n)*n,+e,n).map(Ja)},floor:y,ceil:y};Xl.year=uu.year,uu.scale=function(){return Ka(ns.scale.linear(),Xl,Vl)};var Zl=Xl.map(function(t){return[t[0].utc,t[1]]}),Gl=Ul.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",En]]);Zl.year=uu.year.utc,uu.scale.utc=function(){return Ka(ns.scale.linear(),Zl,Gl)},ns.text=Te(function(t){return t.responseText}),ns.json=function(t,e){return Ae(t,"application/json",ts,e)},ns.html=function(t,e){return Ae(t,"text/html",es,e)},ns.xml=Te(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(ns):"object"==typeof module&&module.exports&&(module.exports=ns),this.d3=ns}(),function(t,e){"use strict";"object"==typeof exports?module.exports=e(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],e):t.URI=e(t.punycode,t.IPv6,t.SecondLevelDomains,t)}(this,function(t,e,n,r){"use strict";function i(t,e){return this instanceof i?(void 0===t&&(t="undefined"!=typeof location?location.href+"":""),this.href(t),void 0!==e?this.absoluteTo(e):this):new i(t,e)}function o(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function s(t){return"Array"===a(t)}function u(t,e){var n,r,i={};if(s(e))for(n=0,r=e.length;r>n;n++)i[e[n]]=!0;else i[e]=!0;for(n=0,r=t.length;r>n;n++)void 0!==i[t[n]]&&(t.splice(n,1),r--,n--);return t}function l(t,e){var n,r;if(s(e)){for(n=0,r=e.length;r>n;n++)if(!l(t,e[n]))return!1;return!0}var i=a(e);for(n=0,r=t.length;r>n;n++)if("RegExp"===i){if("string"==typeof t[n]&&t[n].match(e))return!0}else if(t[n]===e)return!0;return!1}function c(t,e){if(!s(t)||!s(e))return!1;if(t.length!==e.length)return!1;t.sort(),e.sort();for(var n=0,r=t.length;r>n;n++)if(t[n]!==e[n])return!1;return!0}function h(t){return escape(t)}function f(t){return encodeURIComponent(t).replace(/[!'()*]/g,h).replace(/\*/g,"%2A")}function d(t){return function(e,n){return void 0===e?this._parts[t]||"":(this._parts[t]=e||null,this.build(!n),this)}}function p(t,e){return function(n,r){return void 0===n?this._parts[t]||"":(null!==n&&(n+="",n.charAt(0)===e&&(n=n.substring(1))),this._parts[t]=n,this.build(!r),this)}}var g=r&&r.URI;i.version="1.14.2";var m=i.prototype,v=Object.prototype.hasOwnProperty;i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\.-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?]+$/},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},i.getDomAttribute=function(t){if(!t||!t.nodeName)return void 0;
var e=t.nodeName.toLowerCase();return"input"===e&&"image"!==t.type?void 0:i.domAttributes[e]},i.encode=f,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=f,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},i.encodeQuery=function(t,e){var n=i.encode(t+"");return void 0===e&&(e=i.escapeQuerySpace),e?n.replace(/%20/g,"+"):n},i.decodeQuery=function(t,e){t+="",void 0===e&&(e=i.escapeQuerySpace);try{return i.decode(e?t.replace(/\+/g,"%20"):t)}catch(n){return t}},i.recodePath=function(t){for(var e=(t+"").split("/"),n=0,r=e.length;r>n;n++)e[n]=i.encodePathSegment(i.decode(e[n]));return e.join("/")},i.decodePath=function(t){for(var e=(t+"").split("/"),n=0,r=e.length;r>n;n++)e[n]=i.decodePathSegment(e[n]);return e.join("/")};var y,b={encode:"encode",decode:"decode"},_=function(t,e){return function(n){try{return i[e](n+"").replace(i.characters[t][e].expression,function(n){return i.characters[t][e].map[n]})}catch(r){return n}}};for(y in b)i[y+"PathSegment"]=_("pathname",b[y]);i.encodeReserved=_("reserved","encode"),i.parse=function(t,e){var n;return e||(e={}),n=t.indexOf("#"),n>-1&&(e.fragment=t.substring(n+1)||null,t=t.substring(0,n)),n=t.indexOf("?"),n>-1&&(e.query=t.substring(n+1)||null,t=t.substring(0,n)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=i.parseAuthority(t,e)):(n=t.indexOf(":"),n>-1&&(e.protocol=t.substring(0,n)||null,e.protocol&&!e.protocol.match(i.protocol_expression)?e.protocol=void 0:"//"===t.substring(n+1,n+3)?(t=t.substring(n+3),t=i.parseAuthority(t,e)):(t=t.substring(n+1),e.urn=!0))),e.path=t,e},i.parseHost=function(t,e){var n,r,i=t.indexOf("/");if(-1===i&&(i=t.length),"["===t.charAt(0))n=t.indexOf("]"),e.hostname=t.substring(1,n)||null,e.port=t.substring(n+2,i)||null,"/"===e.port&&(e.port=null);else{var o=t.indexOf(":"),a=t.indexOf("/"),s=t.indexOf(":",o+1);-1!==s&&(-1===a||a>s)?(e.hostname=t.substring(0,i)||null,e.port=null):(r=t.substring(0,i).split(":"),e.hostname=r[0]||null,e.port=r[1]||null)}return e.hostname&&"/"!==t.substring(i).charAt(0)&&(i++,t="/"+t),t.substring(i)||"/"},i.parseAuthority=function(t,e){return t=i.parseUserinfo(t,e),i.parseHost(t,e)},i.parseUserinfo=function(t,e){var n,r=t.indexOf("/"),o=t.lastIndexOf("@",r>-1?r:t.length-1);return o>-1&&(-1===r||r>o)?(n=t.substring(0,o).split(":"),e.username=n[0]?i.decode(n[0]):null,n.shift(),e.password=n[0]?i.decode(n.join(":")):null,t=t.substring(o+1)):(e.username=null,e.password=null),t},i.parseQuery=function(t,e){if(!t)return{};if(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!t)return{};for(var n,r,o,a={},s=t.split("&"),u=s.length,l=0;u>l;l++)n=s[l].split("="),r=i.decodeQuery(n.shift(),e),o=n.length?i.decodeQuery(n.join("="),e):null,v.call(a,r)?("string"==typeof a[r]&&(a[r]=[a[r]]),a[r].push(o)):a[r]=o;return a},i.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=i.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(e+="#"+t.fragment),e},i.buildHost=function(t){var e="";return t.hostname?(e+=i.ip6_expression.test(t.hostname)?"["+t.hostname+"]":t.hostname,t.port&&(e+=":"+t.port),e):""},i.buildAuthority=function(t){return i.buildUserinfo(t)+i.buildHost(t)},i.buildUserinfo=function(t){var e="";return t.username&&(e+=i.encode(t.username),t.password&&(e+=":"+i.encode(t.password)),e+="@"),e},i.buildQuery=function(t,e,n){var r,o,a,u,l="";for(o in t)if(v.call(t,o)&&o)if(s(t[o]))for(r={},a=0,u=t[o].length;u>a;a++)void 0!==t[o][a]&&void 0===r[t[o][a]+""]&&(l+="&"+i.buildQueryParameter(o,t[o][a],n),e!==!0&&(r[t[o][a]+""]=!0));else void 0!==t[o]&&(l+="&"+i.buildQueryParameter(o,t[o],n));return l.substring(1)},i.buildQueryParameter=function(t,e,n){return i.encodeQuery(t,n)+(null!==e?"="+i.encodeQuery(e,n):"")},i.addQuery=function(t,e,n){if("object"==typeof e)for(var r in e)v.call(e,r)&&i.addQuery(t,r,e[r]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===t[e])return void(t[e]=n);"string"==typeof t[e]&&(t[e]=[t[e]]),s(n)||(n=[n]),t[e]=(t[e]||[]).concat(n)}},i.removeQuery=function(t,e,n){var r,o,a;if(s(e))for(r=0,o=e.length;o>r;r++)t[e[r]]=void 0;else if("object"==typeof e)for(a in e)v.call(e,a)&&i.removeQuery(t,a,e[a]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");void 0!==n?t[e]===n?t[e]=void 0:s(t[e])&&(t[e]=u(t[e],n)):t[e]=void 0}},i.hasQuery=function(t,e,n,r){if("object"==typeof e){for(var o in e)if(v.call(e,o)&&!i.hasQuery(t,o,e[o]))return!1;return!0}if("string"!=typeof e)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(a(n)){case"Undefined":return e in t;case"Boolean":var u=Boolean(s(t[e])?t[e].length:t[e]);return n===u;case"Function":return!!n(t[e],e,t);case"Array":if(!s(t[e]))return!1;var h=r?l:c;return h(t[e],n);case"RegExp":return s(t[e])?r?l(t[e],n):!1:Boolean(t[e]&&t[e].match(n));case"Number":n=String(n);case"String":return s(t[e])?r?l(t[e],n):!1:t[e]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.commonPath=function(t,e){var n,r=Math.min(t.length,e.length);for(n=0;r>n;n++)if(t.charAt(n)!==e.charAt(n)){n--;break}return 1>n?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":(("/"!==t.charAt(n)||"/"!==e.charAt(n))&&(n=t.substring(0,n).lastIndexOf("/")),t.substring(0,n+1))},i.withinString=function(t,e,n){n||(n={});var r=n.start||i.findUri.start,o=n.end||i.findUri.end,a=n.trim||i.findUri.trim,s=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var u=r.exec(t);if(!u)break;var l=u.index;if(n.ignoreHtml){var c=t.slice(Math.max(l-3,0),l);if(c&&s.test(c))continue}var h=l+t.slice(l).search(o),f=t.slice(l,h).replace(a,"");if(!n.ignore||!n.ignore.test(f)){h=l+f.length;var d=e(f,l,h,t);t=t.slice(0,l)+d+t.slice(h),r.lastIndex=l+d.length}}return r.lastIndex=0,t},i.ensureValidHostname=function(e){if(e.match(i.invalid_hostname_characters)){if(!t)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(t.toASCII(e).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},i.noConflict=function(t){if(t){var e={URI:this.noConflict()};return r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(e.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(e.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(e.SecondLevelDomains=r.SecondLevelDomains.noConflict()),e}return r.URI===this&&(r.URI=g),this},m.build=function(t){return t===!0?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this},m.clone=function(){return new i(this)},m.valueOf=m.toString=function(){return this.build(!1)._string},m.protocol=d("protocol"),m.username=d("username"),m.password=d("password"),m.hostname=d("hostname"),m.port=d("port"),m.query=p("query","?"),m.fragment=p("fragment","#"),m.search=function(t,e){var n=this.query(t,e);return"string"==typeof n&&n.length?"?"+n:n},m.hash=function(t,e){var n=this.fragment(t,e);return"string"==typeof n&&n.length?"#"+n:n},m.pathname=function(t,e){if(void 0===t||t===!0){var n=this._parts.path||(this._parts.hostname?"/":"");return t?i.decodePath(n):n}return this._parts.path=t?i.recodePath(t):"/",this.build(!e),this},m.path=m.pathname,m.href=function(t,e){var n;if(void 0===t)return this.toString();this._string="",this._parts=i._parts();var r=t instanceof i,o="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName){var a=i.getDomAttribute(t);t=t[a]||"",o=!1}if(!r&&o&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t||t instanceof String)this._parts=i.parse(String(t),this._parts);else{if(!r&&!o)throw new TypeError("invalid input");var s=r?t._parts:t;for(n in s)v.call(this._parts,n)&&(this._parts[n]=s[n])}return this.build(!e),this},m.is=function(t){var e=!1,r=!1,o=!1,a=!1,s=!1,u=!1,l=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,r=i.ip4_expression.test(this._parts.hostname),o=i.ip6_expression.test(this._parts.hostname),e=r||o,a=!e,s=a&&n&&n.has(this._parts.hostname),u=a&&i.idn_expression.test(this._parts.hostname),l=a&&i.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return a;case"sld":return s;case"ip":return e;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return o;case"idn":return u;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var x=m.protocol,w=m.port,k=m.hostname;m.protocol=function(t,e){if(void 0!==t&&t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(i.protocol_expression)))throw new TypeError('Protocol "'+t+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return x.call(this,t,e)},m.scheme=m.protocol,m.port=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError('Port "'+t+'" contains characters other than [0-9]');return w.call(this,t,e)},m.hostname=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t){var n={};i.parseHost(t,n),t=n.hostname}return k.call(this,t,e)},m.host=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?i.buildHost(this._parts):"":(i.parseHost(t,this._parts),this.build(!e),this)},m.authority=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?i.buildAuthority(this._parts):"":(i.parseAuthority(t,this._parts),this.build(!e),this)},m.userinfo=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.username)return"";var n=i.buildUserinfo(this._parts);return n.substring(0,n.length-1)}return"@"!==t[t.length-1]&&(t+="@"),i.parseUserinfo(t,this._parts),this.build(!e),this},m.resource=function(t,e){var n;return void 0===t?this.path()+this.search()+this.hash():(n=i.parse(t),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!e),this)},m.subdomain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var r=this._parts.hostname.length-this.domain().length,a=this._parts.hostname.substring(0,r),s=new RegExp("^"+o(a));return t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&i.ensureValidHostname(t),this._parts.hostname=this._parts.hostname.replace(s,t),this.build(!e),this},m.domain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var r=this._parts.hostname.length-this.tld(e).length-1;return r=this._parts.hostname.lastIndexOf(".",r-1)+1,this._parts.hostname.substring(r)||""}if(!t)throw new TypeError("cannot set domain empty");if(i.ensureValidHostname(t),!this._parts.hostname||this.is("IP"))this._parts.hostname=t;else{var a=new RegExp(o(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(a,t)}return this.build(!e),this},m.tld=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(r+1);return e!==!0&&n&&n.list[i.toLowerCase()]?n.get(this._parts.hostname)||i:i}var a;if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(t))throw new TypeError('TLD "'+t+'" contains characters other than [A-Z0-9]');a=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,t)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");a=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(a,t)}return this.build(!e),this},m.directory=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,r=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return t?i.decodePath(r):r}var a=this._parts.path.length-this.filename().length,s=this._parts.path.substring(0,a),u=new RegExp("^"+o(s));return this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=i.recodePath(t),this._parts.path=this._parts.path.replace(u,t),this.build(!e),this},m.filename=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),r=this._parts.path.substring(n+1);return t?i.decodePathSegment(r):r}var a=!1;"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(a=!0);var s=new RegExp(o(this.filename())+"$");return t=i.recodePath(t),this._parts.path=this._parts.path.replace(s,t),a?this.normalizePath(e):this.build(!e),this},m.suffix=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||t===!0){if(!this._parts.path||"/"===this._parts.path)return"";var n,r,a=this.filename(),s=a.lastIndexOf(".");return-1===s?"":(n=a.substring(s+1),r=/^[a-z0-9%]+$/i.test(n)?n:"",t?i.decodePathSegment(r):r)}"."===t.charAt(0)&&(t=t.substring(1));var u,l=this.suffix();if(l)u=new RegExp(t?o(l)+"$":o("."+l)+"$");else{if(!t)return this;this._parts.path+="."+i.recodePath(t)}return u&&(t=i.recodePath(t),this._parts.path=this._parts.path.replace(u,t)),this.build(!e),this},m.segment=function(t,e,n){var r=this._parts.urn?":":"/",i=this.path(),o="/"===i.substring(0,1),a=i.split(r);if(void 0!==t&&"number"!=typeof t&&(n=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw new Error('Bad segment "'+t+'", must be 0-based integer');if(o&&a.shift(),0>t&&(t=Math.max(a.length+t,0)),void 0===e)return void 0===t?a:a[t];if(null===t||void 0===a[t])if(s(e)){a=[];for(var u=0,l=e.length;l>u;u++)(e[u].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(e[u]))}else(e||"string"==typeof e)&&(""===a[a.length-1]?a[a.length-1]=e:a.push(e));else e?a[t]=e:a.splice(t,1);return o&&a.unshift(""),this.path(a.join(r),n)},m.segmentCoded=function(t,e,n){var r,o,a;if("number"!=typeof t&&(n=e,e=t,t=void 0),void 0===e){if(r=this.segment(t,e,n),s(r))for(o=0,a=r.length;a>o;o++)r[o]=i.decode(r[o]);else r=void 0!==r?i.decode(r):void 0;return r}if(s(e))for(o=0,a=e.length;a>o;o++)e[o]=i.decode(e[o]);else e="string"==typeof e||e instanceof String?i.encode(e):e;return this.segment(t,e,n)};var C=m.query;return m.query=function(t,e){if(t===!0)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=t.call(this,n);return this._parts.query=i.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&"string"!=typeof t?(this._parts.query=i.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):C.call(this,t,e)},m.setQuery=function(t,e,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof t||t instanceof String)r[t]=void 0!==e?e:null;else{if("object"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in t)v.call(t,o)&&(r[o]=t[o])}return this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(n=e),this.build(!n),this},m.addQuery=function(t,e,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(r,t,void 0===e?null:e),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(n=e),this.build(!n),this},m.removeQuery=function(t,e,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(r,t,e),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(n=e),this.build(!n),this},m.hasQuery=function(t,e,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(r,t,e,n)},m.setSearch=m.setQuery,m.addSearch=m.addQuery,m.removeSearch=m.removeQuery,m.hasSearch=m.hasQuery,m.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},m.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},m.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},m.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},m.normalizePath=function(t){if(this._parts.urn)return this;if(!this._parts.path||"/"===this._parts.path)return this;var e,n,r,o=this._parts.path,a="";for("/"!==o.charAt(0)&&(e=!0,o="/"+o),o=o.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),e&&(a=o.substring(1).match(/^(\.\.\/)+/)||"",a&&(a=a[0]));;){if(n=o.indexOf("/.."),-1===n)break;0!==n?(r=o.substring(0,n).lastIndexOf("/"),-1===r&&(r=n),o=o.substring(0,r)+o.substring(n+3)):o=o.substring(3)}return e&&this.is("relative")&&(o=a+o.substring(1)),o=i.recodePath(o),this._parts.path=o,this.build(!t),this},m.normalizePathname=m.normalizePath,m.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},m.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},m.normalizeSearch=m.normalizeQuery,m.normalizeHash=m.normalizeFragment,m.iso8859=function(){var t=i.encode,e=i.decode;return i.encode=escape,i.decode=decodeURIComponent,this.normalize(),i.encode=t,i.decode=e,this},m.unicode=function(){var t=i.encode,e=i.decode;return i.encode=f,i.decode=unescape,this.normalize(),i.encode=t,i.decode=e,this},m.readable=function(){var e=this.clone();e.username("").password("").normalize();var n="";if(e._parts.protocol&&(n+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&t?(n+=t.toUnicode(e._parts.hostname),e._parts.port&&(n+=":"+e._parts.port)):n+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(n+="/"),n+=e.path(!0),e._parts.query){for(var r="",o=0,a=e._parts.query.split("&"),s=a.length;s>o;o++){var u=(a[o]||"").split("=");r+="&"+i.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==u[1]&&(r+="="+i.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=i.decodeQuery(e.hash(),!0)},m.absoluteTo=function(t){var e,n,r,o=this.clone(),a=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t instanceof i||(t=new i(t)),o._parts.protocol||(o._parts.protocol=t._parts.protocol),this._parts.hostname)return o;for(n=0;r=a[n];n++)o._parts[r]=t._parts[r];return o._parts.path?".."===o._parts.path.substring(-2)&&(o._parts.path+="/"):(o._parts.path=t._parts.path,o._parts.query||(o._parts.query=t._parts.query)),"/"!==o.path().charAt(0)&&(e=t.directory(),o._parts.path=(e?e+"/":"")+o._parts.path,o.normalizePath()),o.build(),o},m.relativeTo=function(t){var e,n,r,o,a,s=this.clone().normalize();if(s._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(t=new i(t).normalize(),e=s._parts,n=t._parts,o=s.path(),a=t.path(),"/"!==o.charAt(0))throw new Error("URI is already relative");if("/"!==a.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(e.protocol===n.protocol&&(e.protocol=null),e.username!==n.username||e.password!==n.password)return s.build();if(null!==e.protocol||null!==e.username||null!==e.password)return s.build();if(e.hostname!==n.hostname||e.port!==n.port)return s.build();if(e.hostname=null,e.port=null,o===a)return e.path="",s.build();if(r=i.commonPath(s.path(),t.path()),!r)return s.build();var u=n.path.substring(r.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return e.path=u+e.path.substring(r.length),s.build()},m.equals=function(t){var e,n,r,o=this.clone(),a=new i(t),u={},l={},h={};if(o.normalize(),a.normalize(),o.toString()===a.toString())return!0;if(e=o.query(),n=a.query(),o.query(""),a.query(""),o.toString()!==a.toString())return!1;if(e.length!==n.length)return!1;u=i.parseQuery(e,this._parts.escapeQuerySpace),l=i.parseQuery(n,this._parts.escapeQuerySpace);for(r in u)if(v.call(u,r)){if(s(u[r])){if(!c(u[r],l[r]))return!1}else if(u[r]!==l[r])return!1;h[r]=!0}for(r in l)if(v.call(l,r)&&!h[r])return!1;return!0},m.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},m.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},i}),function(t,e){"use strict";"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.IPv6=e(t)}(this,function(t){"use strict";function e(t){var e=t.toLowerCase(),n=e.split(":"),r=n.length,i=8;""===n[0]&&""===n[1]&&""===n[2]?(n.shift(),n.shift()):""===n[0]&&""===n[1]?n.shift():""===n[r-1]&&""===n[r-2]&&n.pop(),r=n.length,-1!==n[r-1].indexOf(".")&&(i=7);var o;for(o=0;r>o&&""!==n[o];o++);if(i>o){for(n.splice(o,1,"0000");n.length<i;)n.splice(o,0,"0000");r=n.length}for(var a,s=0;i>s;s++){a=n[s].split("");for(var u=0;3>u&&("0"===a[0]&&a.length>1);u++)a.splice(0,1);n[s]=a.join("")}var l=-1,c=0,h=0,f=-1,d=!1;for(s=0;i>s;s++)d?"0"===n[s]?h+=1:(d=!1,h>c&&(l=f,c=h)):"0"===n[s]&&(d=!0,f=s,h=1);h>c&&(l=f,c=h),c>1&&n.splice(l,c,""),r=n.length;var p="";for(""===n[0]&&(p=":"),s=0;r>s&&(p+=n[s],s!==r-1);s++)p+=":";return""===n[r-1]&&(p+=":"),p}function n(){return t.IPv6===this&&(t.IPv6=r),this}var r=t&&t.IPv6;return{best:e,noConflict:n}}),function(t,e){"use strict";"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.SecondLevelDomains=e(t)}(this,function(t){"use strict";var e=t&&t.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ","do":" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ","in":" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(t){var e=t.lastIndexOf(".");if(0>=e||e>=t.length-1)return!1;var r=t.lastIndexOf(".",e-1);if(0>=r||r>=e-1)return!1;var i=n.list[t.slice(e+1)];return i?i.indexOf(" "+t.slice(r+1,e)+" ")>=0:!1},is:function(t){var e=t.lastIndexOf(".");if(0>=e||e>=t.length-1)return!1;var r=t.lastIndexOf(".",e-1);if(r>=0)return!1;var i=n.list[t.slice(e+1)];return i?i.indexOf(" "+t.slice(0,e)+" ")>=0:!1},get:function(t){var e=t.lastIndexOf(".");if(0>=e||e>=t.length-1)return null;var r=t.lastIndexOf(".",e-1);if(0>=r||r>=e-1)return null;var i=n.list[t.slice(e+1)];return i?i.indexOf(" "+t.slice(r+1,e)+" ")<0?null:t.slice(r+1):null},noConflict:function(){return t.SecondLevelDomains===this&&(t.SecondLevelDomains=e),this}};return n}),function(t){function e(t){throw RangeError(L[t])}function n(t,e){for(var n=t.length;n--;)t[n]=e(t[n]);return t}function r(t,e){return n(t.split(E),e).join(".")}function i(t){for(var e,n,r=[],i=0,o=t.length;o>i;)e=t.charCodeAt(i++),e>=55296&&56319>=e&&o>i?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function o(t){return n(t,function(t){var e="";
return t>65535&&(t-=65536,e+=z(t>>>10&1023|55296),t=56320|1023&t),e+=z(t)}).join("")}function a(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:b}function s(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function u(t,e,n){var r=0;for(t=n?F(t/k):t>>1,t+=F(t/e);t>N*x>>1;r+=b)t=F(t/N);return F(r+(N+1)*t/(t+w))}function l(t){var n,r,i,s,l,c,h,f,d,p,g=[],m=t.length,v=0,w=S,k=C;for(r=t.lastIndexOf(M),0>r&&(r=0),i=0;r>i;++i)t.charCodeAt(i)>=128&&e("not-basic"),g.push(t.charCodeAt(i));for(s=r>0?r+1:0;m>s;){for(l=v,c=1,h=b;s>=m&&e("invalid-input"),f=a(t.charCodeAt(s++)),(f>=b||f>F((y-v)/c))&&e("overflow"),v+=f*c,d=k>=h?_:h>=k+x?x:h-k,!(d>f);h+=b)p=b-d,c>F(y/p)&&e("overflow"),c*=p;n=g.length+1,k=u(v-l,n,0==l),F(v/n)>y-w&&e("overflow"),w+=F(v/n),v%=n,g.splice(v++,0,w)}return o(g)}function c(t){var n,r,o,a,l,c,h,f,d,p,g,m,v,w,k,T=[];for(t=i(t),m=t.length,n=S,r=0,l=C,c=0;m>c;++c)g=t[c],128>g&&T.push(z(g));for(o=a=T.length,a&&T.push(M);m>o;){for(h=y,c=0;m>c;++c)g=t[c],g>=n&&h>g&&(h=g);for(v=o+1,h-n>F((y-r)/v)&&e("overflow"),r+=(h-n)*v,n=h,c=0;m>c;++c)if(g=t[c],n>g&&++r>y&&e("overflow"),g==n){for(f=r,d=b;p=l>=d?_:d>=l+x?x:d-l,!(p>f);d+=b)k=f-p,w=b-p,T.push(z(s(p+k%w,0))),f=F(k/w);T.push(z(s(f,0))),l=u(r,v,o==a),r=0,++o}++r,++n}return T.join("")}function h(t){return r(t,function(t){return T.test(t)?l(t.slice(4).toLowerCase()):t})}function f(t){return r(t,function(t){return A.test(t)?"xn--"+c(t):t})}var d="object"==typeof exports&&exports,p="object"==typeof module&&module&&module.exports==d&&module,g="object"==typeof global&&global;(g.global===g||g.window===g)&&(t=g);var m,v,y=2147483647,b=36,_=1,x=26,w=38,k=700,C=72,S=128,M="-",T=/^xn--/,A=/[^ -~]/,E=/\x2E|\u3002|\uFF0E|\uFF61/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=b-_,F=Math.floor,z=String.fromCharCode;if(m={version:"1.2.3",ucs2:{decode:i,encode:o},decode:l,encode:c,toASCII:f,toUnicode:h},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return m});else if(d&&!d.nodeType)if(p)p.exports=m;else for(v in m)m.hasOwnProperty(v)&&(d[v]=m[v]);else t.punycode=m}(this),function(t,e){"use strict";"object"==typeof exports?module.exports=e(require("./URI")):"function"==typeof define&&define.amd?define(["./URI"],e):t.URITemplate=e(t.URI,t)}(this,function(t,e){"use strict";function n(t){return n._cache[t]?n._cache[t]:this instanceof n?(this.expression=t,n._cache[t]=this,this):new n(t)}function r(t){this.data=t,this.cache={}}var i=e&&e.URITemplate,o=Object.prototype.hasOwnProperty,a=n.prototype,s={"":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encode"},"+":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},"#":{prefix:"#",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},".":{prefix:".",separator:".",named:!1,empty_name_separator:!1,encode:"encode"},"/":{prefix:"/",separator:"/",named:!1,empty_name_separator:!1,encode:"encode"},";":{prefix:";",separator:";",named:!0,empty_name_separator:!1,encode:"encode"},"?":{prefix:"?",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"},"&":{prefix:"&",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"}};return n._cache={},n.EXPRESSION_PATTERN=/\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g,n.VARIABLE_PATTERN=/^([^*:]+)((\*)|:(\d+))?$/,n.VARIABLE_NAME_PATTERN=/[^a-zA-Z0-9%_]/,n.expand=function(t,e){var r,i,o,a=s[t.operator],u=a.named?"Named":"Unnamed",l=t.variables,c=[];for(o=0;i=l[o];o++)r=e.get(i.name),r.val.length?c.push(n["expand"+u](r,a,i.explode,i.explode&&a.separator||",",i.maxlength,i.name)):r.type&&c.push("");return c.length?a.prefix+c.join(a.separator):""},n.expandNamed=function(e,n,r,i,o,a){var s,u,l,c="",h=n.encode,f=n.empty_name_separator,d=!e[h].length,p=2===e.type?"":t[h](a);for(u=0,l=e.val.length;l>u;u++)o?(s=t[h](e.val[u][1].substring(0,o)),2===e.type&&(p=t[h](e.val[u][0].substring(0,o)))):d?(s=t[h](e.val[u][1]),2===e.type?(p=t[h](e.val[u][0]),e[h].push([p,s])):e[h].push([void 0,s])):(s=e[h][u][1],2===e.type&&(p=e[h][u][0])),c&&(c+=i),r?c+=p+(f||s?"=":"")+s:(u||(c+=t[h](a)+(f||s?"=":"")),2===e.type&&(c+=p+","),c+=s);return c},n.expandUnnamed=function(e,n,r,i,o){var a,s,u,l,c="",h=n.encode,f=n.empty_name_separator,d=!e[h].length;for(u=0,l=e.val.length;l>u;u++)o?s=t[h](e.val[u][1].substring(0,o)):d?(s=t[h](e.val[u][1]),e[h].push([2===e.type?t[h](e.val[u][0]):void 0,s])):s=e[h][u][1],c&&(c+=i),2===e.type&&(a=o?t[h](e.val[u][0].substring(0,o)):e[h][u][0],c+=a,c+=r?f||s?"=":"":","),c+=s;return c},n.noConflict=function(){return e.URITemplate===n&&(e.URITemplate=i),n},a.expand=function(t){var e="";this.parts&&this.parts.length||this.parse(),t instanceof r||(t=new r(t));for(var i=0,o=this.parts.length;o>i;i++)e+="string"==typeof this.parts[i]?this.parts[i]:n.expand(this.parts[i],t);return e},a.parse=function(){var t,e,r,i=this.expression,o=n.EXPRESSION_PATTERN,a=n.VARIABLE_PATTERN,u=n.VARIABLE_NAME_PATTERN,l=[],c=0;for(o.lastIndex=0;;){if(e=o.exec(i),null===e){l.push(i.substring(c));break}if(l.push(i.substring(c,e.index)),c=e.index+e[0].length,!s[e[1]])throw new Error('Unknown Operator "'+e[1]+'" in "'+e[0]+'"');if(!e[3])throw new Error('Unclosed Expression "'+e[0]+'"');t=e[2].split(",");for(var h=0,f=t.length;f>h;h++){if(r=t[h].match(a),null===r)throw new Error('Invalid Variable "'+t[h]+'" in "'+e[0]+'"');if(r[1].match(u))throw new Error('Invalid Variable Name "'+r[1]+'" in "'+e[0]+'"');t[h]={name:r[1],explode:!!r[3],maxlength:r[4]&&parseInt(r[4],10)}}if(!t.length)throw new Error('Expression Missing Variable(s) "'+e[0]+'"');l.push({expression:e[0],operator:e[1],variables:t})}return l.length||l.push(i),this.parts=l,this},r.prototype.get=function(t){var e,n,r,i=this.data,a={type:0,val:[],encode:[],encodeReserved:[]};if(void 0!==this.cache[t])return this.cache[t];if(this.cache[t]=a,r="[object Function]"===String(Object.prototype.toString.call(i))?i(t):"[object Function]"===String(Object.prototype.toString.call(i[t]))?i[t](t):i[t],void 0===r||null===r)return a;if("[object Array]"===String(Object.prototype.toString.call(r))){for(e=0,n=r.length;n>e;e++)void 0!==r[e]&&null!==r[e]&&a.val.push([void 0,String(r[e])]);a.val.length&&(a.type=3)}else if("[object Object]"===String(Object.prototype.toString.call(r))){for(e in r)o.call(r,e)&&void 0!==r[e]&&null!==r[e]&&a.val.push([e,String(r[e])]);a.val.length&&(a.type=2)}else a.type=1,a.val.push([void 0,String(r)]);return a},t.expand=function(e,r){var i=new n(e),o=i.expand(r);return new t(o)},n}),function(t,e){"use strict";"object"==typeof exports?module.exports=e(require("jquery","./URI")):"function"==typeof define&&define.amd?define(["jquery","./URI"],e):e(t.jQuery,t.URI)}(this,function(t,e){"use strict";function n(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function r(t){var n=t.nodeName.toLowerCase(),r=e.domAttributes[n];return"input"===n&&"image"!==t.type?void 0:r}function i(e){return{get:function(n){return t(n).uri()[e]()},set:function(n,r){return t(n).uri()[e](r),r}}}function o(e,n){var i,o,u;return r(e)&&n?(i=n.match(c),i&&(i[5]||":"===i[2]||s[i[2]])?(u=t(e).uri(),i[5]?u.is(i[5]):":"===i[2]?(o=i[1].toLowerCase()+":",s[o]?s[o](u,i[4]):!1):(o=i[1].toLowerCase(),a[o]?s[i[2]](u[o](),i[4],o):!1)):!1):!1}var a={},s={"=":function(t,e){return t===e},"^=":function(t,e){return!!(t+"").match(new RegExp("^"+n(e),"i"))},"$=":function(t,e){return!!(t+"").match(new RegExp(n(e)+"$","i"))},"*=":function(t,e,r){return"directory"===r&&(t+="/"),!!(t+"").match(new RegExp(n(e),"i"))},"equals:":function(t,e){return t.equals(e)},"is:":function(t,e){return t.is(e)}};t.each("authority directory domain filename fragment hash host hostname href password path pathname port protocol query resource scheme search subdomain suffix tld username".split(" "),function(e,n){a[n]=!0,t.attrHooks["uri:"+n]=i(n)});var u={get:function(e){return t(e).uri()},set:function(e,n){return t(e).uri().href(n).toString()}};t.each(["src","href","action","uri","cite"],function(e,n){t.attrHooks[n]={set:u.set}}),t.attrHooks.uri.get=u.get,t.fn.uri=function(t){var n=this.first(),i=n.get(0),o=r(i);if(!o)throw new Error('Element "'+i.nodeName+'" does not have either property: href, src, action, cite');if(void 0!==t){var a=n.data("uri");if(a)return a.href(t);t instanceof e||(t=e(t||""))}else{if(t=n.data("uri"))return t;t=e(n.attr(o)||"")}return t._dom_element=i,t._dom_attribute=o,t.normalize(),n.data("uri",t),t},e.prototype.build=function(t){return this._dom_element?(this._string=e.build(this._parts),this._deferred_build=!1,this._dom_element.setAttribute(this._dom_attribute,this._string),this._dom_element[this._dom_attribute]=this._string):t===!0?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=e.build(this._parts),this._deferred_build=!1),this};var l,c=/^([a-zA-Z]+)\s*([\^\$*]?=|:)\s*(['"]?)(.+)\3|^\s*([a-zA-Z0-9]+)\s*$/;return l=t.expr.createPseudo?t.expr.createPseudo(function(t){return function(e){return o(e,t)}}):function(t,e,n){return o(t,n[3])},t.expr[":"].uri=l,t}),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.IPv6=e(t)}(this,function(t){var e=t&&t.IPv6;return{best:function(t){t=t.toLowerCase().split(":");var e=t.length,n=8;""===t[0]&&""===t[1]&&""===t[2]?(t.shift(),t.shift()):""===t[0]&&""===t[1]?t.shift():""===t[e-1]&&""===t[e-2]&&t.pop(),e=t.length,-1!==t[e-1].indexOf(".")&&(n=7);var r;for(r=0;e>r&&""!==t[r];r++);if(n>r)for(t.splice(r,1,"0000");t.length<n;)t.splice(r,0,"0000");for(r=0;n>r;r++){for(var e=t[r].split(""),i=0;3>i&&("0"===e[0]&&1<e.length);i++)e.splice(0,1);t[r]=e.join("")}var e=-1,o=i=0,a=-1,s=!1;for(r=0;n>r;r++)s?"0"===t[r]?o+=1:(s=!1,o>i&&(e=a,i=o)):"0"===t[r]&&(s=!0,a=r,o=1);for(o>i&&(e=a,i=o),i>1&&t.splice(e,i,""),e=t.length,n="",""===t[0]&&(n=":"),r=0;e>r&&(n+=t[r],r!==e-1);r++)n+=":";return""===t[e-1]&&(n+=":"),n},noConflict:function(){return t.IPv6===this&&(t.IPv6=e),this}}}),function(t){function e(t){throw RangeError(y[t])}function n(t,e){for(var n=t.length;n--;)t[n]=e(t[n]);return t}function r(t,e){return n(t.split(v),e).join(".")}function i(t){for(var e,n,r=[],i=0,o=t.length;o>i;)e=t.charCodeAt(i++),e>=55296&&56319>=e&&o>i?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function o(t){return n(t,function(t){var e="";return t>65535&&(t-=65536,e+=_(t>>>10&1023|55296),t=56320|1023&t),e+=_(t)}).join("")}function a(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function s(t,e,n){var r=0;for(t=n?b(t/700):t>>1,t+=b(t/e);t>455;r+=36)t=b(t/35);return b(r+36*t/(t+38))}function u(t){var n,r,i,a,u,l,c=[],h=t.length,f=0,d=128,p=72;for(r=t.lastIndexOf("-"),0>r&&(r=0),i=0;r>i;++i)128<=t.charCodeAt(i)&&e("not-basic"),c.push(t.charCodeAt(i));for(r=r>0?r+1:0;h>r;){for(i=f,n=1,a=36;r>=h&&e("invalid-input"),u=t.charCodeAt(r++),u=10>u-48?u-22:26>u-65?u-65:26>u-97?u-97:36,(u>=36||u>b((2147483647-f)/n))&&e("overflow"),f+=u*n,l=p>=a?1:a>=p+26?26:a-p,!(l>u);a+=36)u=36-l,n>b(2147483647/u)&&e("overflow"),n*=u;n=c.length+1,p=s(f-i,n,0==i),b(f/n)>2147483647-d&&e("overflow"),d+=b(f/n),f%=n,c.splice(f++,0,d)}return o(c)}function l(t){var n,r,o,u,l,c,h,f,d,p,g,m,v=[];for(t=i(t),p=t.length,n=128,r=0,l=72,c=0;p>c;++c)d=t[c],128>d&&v.push(_(d));for((o=u=v.length)&&v.push("-");p>o;){for(h=2147483647,c=0;p>c;++c)d=t[c],d>=n&&h>d&&(h=d);for(g=o+1,h-n>b((2147483647-r)/g)&&e("overflow"),r+=(h-n)*g,n=h,c=0;p>c;++c)if(d=t[c],n>d&&2147483647<++r&&e("overflow"),d==n){for(f=r,h=36;d=l>=h?1:h>=l+26?26:h-l,!(d>f);h+=36)m=f-d,f=36-d,v.push(_(a(d+m%f,0))),f=b(m/f);v.push(_(a(f,0))),l=s(r,g,o==u),r=0,++o}++r,++n}return v.join("")}var c="object"==typeof exports&&exports,h="object"==typeof module&&module&&module.exports==c&&module,f="object"==typeof global&&global;(f.global===f||f.window===f)&&(t=f);var d,p,g=/^xn--/,m=/[^ -~]/,v=/\x2E|\u3002|\uFF0E|\uFF61/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=Math.floor,_=String.fromCharCode;if(d={version:"1.2.3",ucs2:{decode:i,encode:o},decode:u,encode:l,toASCII:function(t){return r(t,function(t){return m.test(t)?"xn--"+l(t):t})},toUnicode:function(t){return r(t,function(t){return g.test(t)?u(t.slice(4).toLowerCase()):t})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return d});else if(c&&!c.nodeType)if(h)h.exports=d;else for(p in d)d.hasOwnProperty(p)&&(c[p]=d[p]);else t.punycode=d}(this),function(t,e){"object"==typeof exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.SecondLevelDomains=e(t)}(this,function(t){var e=t&&t.SecondLevelDomains,n={list:{ac:" com gov mil net org ",ae:" ac co gov mil name net org pro sch ",af:" com edu gov net org ",al:" com edu gov mil net org ",ao:" co ed gv it og pb ",ar:" com edu gob gov int mil net org tur ",at:" ac co gv or ",au:" asn com csiro edu gov id net org ",ba:" co com edu gov mil net org rs unbi unmo unsa untz unze ",bb:" biz co com edu gov info net org store tv ",bh:" biz cc com edu gov info net org ",bn:" com edu gov net org ",bo:" com edu gob gov int mil net org tv ",br:" adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg ",bs:" com edu gov net org ",bz:" du et om ov rg ",ca:" ab bc mb nb nf nl ns nt nu on pe qc sk yk ",ck:" biz co edu gen gov info net org ",cn:" ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj ",co:" com edu gov mil net nom org ",cr:" ac c co ed fi go or sa ",cy:" ac biz com ekloges gov ltd name net org parliament press pro tm ","do":" art com edu gob gov mil net org sld web ",dz:" art asso com edu gov net org pol ",ec:" com edu fin gov info med mil net org pro ",eg:" com edu eun gov mil name net org sci ",er:" com edu gov ind mil net org rochest w ",es:" com edu gob nom org ",et:" biz com edu gov info name net org ",fj:" ac biz com info mil name net org pro ",fk:" ac co gov net nom org ",fr:" asso com f gouv nom prd presse tm ",gg:" co net org ",gh:" com edu gov mil org ",gn:" ac com gov net org ",gr:" com edu gov mil net org ",gt:" com edu gob ind mil net org ",gu:" com edu gov net org ",hk:" com edu gov idv net org ",hu:" 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video ",id:" ac co go mil net or sch web ",il:" ac co gov idf k12 muni net org ","in":" ac co edu ernet firm gen gov i ind mil net nic org res ",iq:" com edu gov i mil net org ",ir:" ac co dnssec gov i id net org sch ",it:" edu gov ",je:" co net org ",jo:" com edu gov mil name net org sch ",jp:" ac ad co ed go gr lg ne or ",ke:" ac co go info me mobi ne or sc ",kh:" com edu gov mil net org per ",ki:" biz com de edu gov info mob net org tel ",km:" asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire ",kn:" edu gov net org ",kr:" ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan ",kw:" com edu gov net org ",ky:" com edu gov net org ",kz:" com edu gov mil net org ",lb:" com edu gov net org ",lk:" assn com edu gov grp hotel int ltd net ngo org sch soc web ",lr:" com edu gov net org ",lv:" asn com conf edu gov id mil net org ",ly:" com edu gov id med net org plc sch ",ma:" ac co gov m net org press ",mc:" asso tm ",me:" ac co edu gov its net org priv ",mg:" com edu gov mil nom org prd tm ",mk:" com edu gov inf name net org pro ",ml:" com edu gov net org presse ",mn:" edu gov org ",mo:" com edu gov net org ",mt:" com edu gov net org ",mv:" aero biz com coop edu gov info int mil museum name net org pro ",mw:" ac co com coop edu gov int museum net org ",mx:" com edu gob net org ",my:" com edu gov mil name net org sch ",nf:" arts com firm info net other per rec store web ",ng:" biz com edu gov mil mobi name net org sch ",ni:" ac co com edu gob mil net nom org ",np:" com edu gov mil net org ",nr:" biz com edu gov info net org ",om:" ac biz co com edu gov med mil museum net org pro sch ",pe:" com edu gob mil net nom org sld ",ph:" com edu gov i mil net ngo org ",pk:" biz com edu fam gob gok gon gop gos gov net org web ",pl:" art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora ",pr:" ac biz com edu est gov info isla name net org pro prof ",ps:" com edu gov net org plo sec ",pw:" belau co ed go ne or ",ro:" arts com firm info nom nt org rec store tm www ",rs:" ac co edu gov in org ",sb:" com edu gov net org ",sc:" com edu gov net org ",sh:" co com edu gov net nom org ",sl:" com edu gov net org ",st:" co com consulado edu embaixada gov mil net org principe saotome store ",sv:" com edu gob org red ",sz:" ac co org ",tr:" av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web ",tt:" aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel ",tw:" club com ebiz edu game gov idv mil net org ",mu:" ac co com gov net or org ",mz:" ac co edu gov org ",na:" co com ",nz:" ac co cri geek gen govt health iwi maori mil net org parliament school ",pa:" abo ac com edu gob ing med net nom org sld ",pt:" com edu gov int net nome org publ ",py:" com edu gov mil net org ",qa:" com edu gov mil net org ",re:" asso com nom ",ru:" ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk ",rw:" ac co com edu gouv gov int mil net ",sa:" com edu gov med net org pub sch ",sd:" com edu gov info med net org tv ",se:" a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z ",sg:" com edu gov idn net org per ",sn:" art com edu gouv org perso univ ",sy:" com edu gov mil net news org ",th:" ac co go in mi net or ",tj:" ac biz co com edu go gov info int mil name net nic org test web ",tn:" agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism ",tz:" ac co go ne or ",ua:" biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt ",ug:" ac co go ne or org sc ",uk:" ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc ",us:" dni fed isa kids nsn ",uy:" com edu gub mil net org ",ve:" co com edu gob info mil net org web ",vi:" co com k12 net org ",vn:" ac biz com edu gov health info int name net org pro ",ye:" co com gov ltd me net org plc ",yu:" ac co edu gov org ",za:" ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web ",zm:" ac co com edu gov net org sch "},has:function(t){var e=t.lastIndexOf(".");if(0>=e||e>=t.length-1)return!1;var r=t.lastIndexOf(".",e-1);if(0>=r||r>=e-1)return!1;var i=n.list[t.slice(e+1)];return i?0<=i.indexOf(" "+t.slice(r+1,e)+" "):!1},is:function(t){var e=t.lastIndexOf(".");if(0>=e||e>=t.length-1||0<=t.lastIndexOf(".",e-1))return!1;var r=n.list[t.slice(e+1)];return r?0<=r.indexOf(" "+t.slice(0,e)+" "):!1},get:function(t){var e=t.lastIndexOf(".");if(0>=e||e>=t.length-1)return null;var r=t.lastIndexOf(".",e-1);if(0>=r||r>=e-1)return null;var i=n.list[t.slice(e+1)];return!i||0>i.indexOf(" "+t.slice(r+1,e)+" ")?null:t.slice(r+1)},noConflict:function(){return t.SecondLevelDomains===this&&(t.SecondLevelDomains=e),this}};return n}),function(t,e){"object"==typeof exports?module.exports=e(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],e):t.URI=e(t.punycode,t.IPv6,t.SecondLevelDomains,t)}(this,function(t,e,n,r){function i(t,e){return this instanceof i?(void 0===t&&(t="undefined"!=typeof location?location.href+"":""),this.href(t),void 0!==e?this.absoluteTo(e):this):new i(t,e)}function o(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(t){return void 0===t?"Undefined":String(Object.prototype.toString.call(t)).slice(8,-1)}function s(t){return"Array"===a(t)}function u(t,e){var n,r;if(s(e)){for(n=0,r=e.length;r>n;n++)if(!u(t,e[n]))return!1;return!0}var i=a(e);for(n=0,r=t.length;r>n;n++)if("RegExp"===i){if("string"==typeof t[n]&&t[n].match(e))return!0}else if(t[n]===e)return!0;return!1}function l(t,e){if(!s(t)||!s(e)||t.length!==e.length)return!1;t.sort(),e.sort();for(var n=0,r=t.length;r>n;n++)if(t[n]!==e[n])return!1;return!0}function c(t){return escape(t)}function h(t){return encodeURIComponent(t).replace(/[!'()*]/g,c).replace(/\*/g,"%2A")}function f(t){return function(e,n){return void 0===e?this._parts[t]||"":(this._parts[t]=e||null,this.build(!n),this)}}function d(t,e){return function(n,r){return void 0===n?this._parts[t]||"":(null!==n&&(n+="",n.charAt(0)===e&&(n=n.substring(1))),this._parts[t]=n,this.build(!r),this)}}var p=r&&r.URI;i.version="1.14.2";var g=i.prototype,m=Object.prototype.hasOwnProperty;i._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:i.duplicateQueryParameters,escapeQuerySpace:i.escapeQuerySpace}},i.duplicateQueryParameters=!1,i.escapeQuerySpace=!0,i.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,i.idn_expression=/[^a-z0-9\.-]/i,i.punycode_expression=/(xn--)/i,i.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,i.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/gi,i.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/},i.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},i.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,i.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},i.getDomAttribute=function(t){if(t&&t.nodeName){var e=t.nodeName.toLowerCase();return"input"===e&&"image"!==t.type?void 0:i.domAttributes[e]}},i.encode=h,i.decode=decodeURIComponent,i.iso8859=function(){i.encode=escape,i.decode=unescape},i.unicode=function(){i.encode=h,i.decode=decodeURIComponent},i.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}},i.encodeQuery=function(t,e){var n=i.encode(t+"");return void 0===e&&(e=i.escapeQuerySpace),e?n.replace(/%20/g,"+"):n},i.decodeQuery=function(t,e){t+="",void 0===e&&(e=i.escapeQuerySpace);try{return i.decode(e?t.replace(/\+/g,"%20"):t)}catch(n){return t}},i.recodePath=function(t){t=(t+"").split("/");for(var e=0,n=t.length;n>e;e++)t[e]=i.encodePathSegment(i.decode(t[e]));return t.join("/")},i.decodePath=function(t){t=(t+"").split("/");for(var e=0,n=t.length;n>e;e++)t[e]=i.decodePathSegment(t[e]);return t.join("/")};var v,y={encode:"encode",decode:"decode"},b=function(t,e){return function(n){try{return i[e](n+"").replace(i.characters[t][e].expression,function(n){return i.characters[t][e].map[n]})}catch(r){return n}}};for(v in y)i[v+"PathSegment"]=b("pathname",y[v]);i.encodeReserved=b("reserved","encode"),i.parse=function(t,e){var n;return e||(e={}),n=t.indexOf("#"),n>-1&&(e.fragment=t.substring(n+1)||null,t=t.substring(0,n)),n=t.indexOf("?"),n>-1&&(e.query=t.substring(n+1)||null,t=t.substring(0,n)),"//"===t.substring(0,2)?(e.protocol=null,t=t.substring(2),t=i.parseAuthority(t,e)):(n=t.indexOf(":"),n>-1&&(e.protocol=t.substring(0,n)||null,e.protocol&&!e.protocol.match(i.protocol_expression)?e.protocol=void 0:"//"===t.substring(n+1,n+3)?(t=t.substring(n+3),t=i.parseAuthority(t,e)):(t=t.substring(n+1),e.urn=!0))),e.path=t,e},i.parseHost=function(t,e){var n,r=t.indexOf("/");if(-1===r&&(r=t.length),"["===t.charAt(0))n=t.indexOf("]"),e.hostname=t.substring(1,n)||null,e.port=t.substring(n+2,r)||null,"/"===e.port&&(e.port=null);else{var i=t.indexOf(":");n=t.indexOf("/"),i=t.indexOf(":",i+1),-1!==i&&(-1===n||n>i)?(e.hostname=t.substring(0,r)||null,e.port=null):(n=t.substring(0,r).split(":"),e.hostname=n[0]||null,e.port=n[1]||null)}return e.hostname&&"/"!==t.substring(r).charAt(0)&&(r++,t="/"+t),t.substring(r)||"/"},i.parseAuthority=function(t,e){return t=i.parseUserinfo(t,e),i.parseHost(t,e)},i.parseUserinfo=function(t,e){var n=t.indexOf("/"),r=t.lastIndexOf("@",n>-1?n:t.length-1);return r>-1&&(-1===n||n>r)?(n=t.substring(0,r).split(":"),e.username=n[0]?i.decode(n[0]):null,n.shift(),e.password=n[0]?i.decode(n.join(":")):null,t=t.substring(r+1)):(e.username=null,e.password=null),t},i.parseQuery=function(t,e){if(!t)return{};if(t=t.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,""),!t)return{};for(var n,r,o={},a=t.split("&"),s=a.length,u=0;s>u;u++)n=a[u].split("="),r=i.decodeQuery(n.shift(),e),n=n.length?i.decodeQuery(n.join("="),e):null,m.call(o,r)?("string"==typeof o[r]&&(o[r]=[o[r]]),o[r].push(n)):o[r]=n;return o},i.build=function(t){var e="";return t.protocol&&(e+=t.protocol+":"),t.urn||!e&&!t.hostname||(e+="//"),e+=i.buildAuthority(t)||"","string"==typeof t.path&&("/"!==t.path.charAt(0)&&"string"==typeof t.hostname&&(e+="/"),e+=t.path),"string"==typeof t.query&&t.query&&(e+="?"+t.query),"string"==typeof t.fragment&&t.fragment&&(e+="#"+t.fragment),e},i.buildHost=function(t){var e="";return t.hostname?(e=i.ip6_expression.test(t.hostname)?e+("["+t.hostname+"]"):e+t.hostname,t.port&&(e+=":"+t.port),e):""},i.buildAuthority=function(t){return i.buildUserinfo(t)+i.buildHost(t)},i.buildUserinfo=function(t){var e="";return t.username&&(e+=i.encode(t.username),t.password&&(e+=":"+i.encode(t.password)),e+="@"),e},i.buildQuery=function(t,e,n){var r,o,a,u,l="";for(o in t)if(m.call(t,o)&&o)if(s(t[o]))for(r={},a=0,u=t[o].length;u>a;a++)void 0!==t[o][a]&&void 0===r[t[o][a]+""]&&(l+="&"+i.buildQueryParameter(o,t[o][a],n),!0!==e&&(r[t[o][a]+""]=!0));else void 0!==t[o]&&(l+="&"+i.buildQueryParameter(o,t[o],n));return l.substring(1)},i.buildQueryParameter=function(t,e,n){return i.encodeQuery(t,n)+(null!==e?"="+i.encodeQuery(e,n):"")},i.addQuery=function(t,e,n){if("object"==typeof e)for(var r in e)m.call(e,r)&&i.addQuery(t,r,e[r]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");void 0===t[e]?t[e]=n:("string"==typeof t[e]&&(t[e]=[t[e]]),s(n)||(n=[n]),t[e]=(t[e]||[]).concat(n))}},i.removeQuery=function(t,e,n){var r;if(s(e))for(n=0,r=e.length;r>n;n++)t[e[n]]=void 0;else if("object"==typeof e)for(r in e)m.call(e,r)&&i.removeQuery(t,r,e[r]);else{if("string"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the first parameter");if(void 0!==n){if(t[e]===n)t[e]=void 0;else if(s(t[e])){r=t[e];var o,a,u={};if(s(n))for(o=0,a=n.length;a>o;o++)u[n[o]]=!0;else u[n]=!0;for(o=0,a=r.length;a>o;o++)void 0!==u[r[o]]&&(r.splice(o,1),a--,o--);t[e]=r}}else t[e]=void 0}},i.hasQuery=function(t,e,n,r){if("object"==typeof e){for(var o in e)if(m.call(e,o)&&!i.hasQuery(t,o,e[o]))return!1;return!0}if("string"!=typeof e)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(a(n)){case"Undefined":return e in t;case"Boolean":return t=Boolean(s(t[e])?t[e].length:t[e]),n===t;case"Function":return!!n(t[e],e,t);case"Array":return s(t[e])?(r?u:l)(t[e],n):!1;case"RegExp":return s(t[e])?r?u(t[e],n):!1:Boolean(t[e]&&t[e].match(n));case"Number":n=String(n);case"String":return s(t[e])?r?u(t[e],n):!1:t[e]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},i.commonPath=function(t,e){var n,r=Math.min(t.length,e.length);for(n=0;r>n;n++)if(t.charAt(n)!==e.charAt(n)){n--;break}return 1>n?t.charAt(0)===e.charAt(0)&&"/"===t.charAt(0)?"/":"":(("/"!==t.charAt(n)||"/"!==e.charAt(n))&&(n=t.substring(0,n).lastIndexOf("/")),t.substring(0,n+1))},i.withinString=function(t,e,n){n||(n={});var r=n.start||i.findUri.start,o=n.end||i.findUri.end,a=n.trim||i.findUri.trim,s=/[a-z0-9-]=["']?$/i;for(r.lastIndex=0;;){var u=r.exec(t);if(!u)break;if(u=u.index,n.ignoreHtml){var l=t.slice(Math.max(u-3,0),u);if(l&&s.test(l))continue}var l=u+t.slice(u).search(o),c=t.slice(u,l).replace(a,"");n.ignore&&n.ignore.test(c)||(l=u+c.length,c=e(c,u,l,t),t=t.slice(0,u)+c+t.slice(l),r.lastIndex=u+c.length)}return r.lastIndex=0,t},i.ensureValidHostname=function(e){if(e.match(i.invalid_hostname_characters)){if(!t)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(t.toASCII(e).match(i.invalid_hostname_characters))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},i.noConflict=function(t){return t?(t={URI:this.noConflict()},r.URITemplate&&"function"==typeof r.URITemplate.noConflict&&(t.URITemplate=r.URITemplate.noConflict()),r.IPv6&&"function"==typeof r.IPv6.noConflict&&(t.IPv6=r.IPv6.noConflict()),r.SecondLevelDomains&&"function"==typeof r.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=r.SecondLevelDomains.noConflict()),t):(r.URI===this&&(r.URI=p),this)},g.build=function(t){return!0===t?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=i.build(this._parts),this._deferred_build=!1),this
},g.clone=function(){return new i(this)},g.valueOf=g.toString=function(){return this.build(!1)._string},g.protocol=f("protocol"),g.username=f("username"),g.password=f("password"),g.hostname=f("hostname"),g.port=f("port"),g.query=d("query","?"),g.fragment=d("fragment","#"),g.search=function(t,e){var n=this.query(t,e);return"string"==typeof n&&n.length?"?"+n:n},g.hash=function(t,e){var n=this.fragment(t,e);return"string"==typeof n&&n.length?"#"+n:n},g.pathname=function(t,e){if(void 0===t||!0===t){var n=this._parts.path||(this._parts.hostname?"/":"");return t?i.decodePath(n):n}return this._parts.path=t?i.recodePath(t):"/",this.build(!e),this},g.path=g.pathname,g.href=function(t,e){var n;if(void 0===t)return this.toString();this._string="",this._parts=i._parts();var r=t instanceof i,o="object"==typeof t&&(t.hostname||t.path||t.pathname);if(t.nodeName&&(o=i.getDomAttribute(t),t=t[o]||"",o=!1),!r&&o&&void 0!==t.pathname&&(t=t.toString()),"string"==typeof t||t instanceof String)this._parts=i.parse(String(t),this._parts);else{if(!r&&!o)throw new TypeError("invalid input");for(n in r=r?t._parts:t)m.call(this._parts,n)&&(this._parts[n]=r[n])}return this.build(!e),this},g.is=function(t){var e=!1,r=!1,o=!1,a=!1,s=!1,u=!1,l=!1,c=!this._parts.urn;switch(this._parts.hostname&&(c=!1,r=i.ip4_expression.test(this._parts.hostname),o=i.ip6_expression.test(this._parts.hostname),e=r||o,s=(a=!e)&&n&&n.has(this._parts.hostname),u=a&&i.idn_expression.test(this._parts.hostname),l=a&&i.punycode_expression.test(this._parts.hostname)),t.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return a;case"sld":return s;case"ip":return e;case"ip4":case"ipv4":case"inet4":return r;case"ip6":case"ipv6":case"inet6":return o;case"idn":return u;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return l}return null};var _=g.protocol,x=g.port,w=g.hostname;g.protocol=function(t,e){if(void 0!==t&&t&&(t=t.replace(/:(\/\/)?$/,""),!t.match(i.protocol_expression)))throw new TypeError('Protocol "'+t+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return _.call(this,t,e)},g.scheme=g.protocol,g.port=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t&&(0===t&&(t=null),t&&(t+="",":"===t.charAt(0)&&(t=t.substring(1)),t.match(/[^0-9]/))))throw new TypeError('Port "'+t+'" contains characters other than [0-9]');return x.call(this,t,e)},g.hostname=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0!==t){var n={};i.parseHost(t,n),t=n.hostname}return w.call(this,t,e)},g.host=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?i.buildHost(this._parts):"":(i.parseHost(t,this._parts),this.build(!e),this)},g.authority=function(t,e){return this._parts.urn?void 0===t?"":this:void 0===t?this._parts.hostname?i.buildAuthority(this._parts):"":(i.parseAuthority(t,this._parts),this.build(!e),this)},g.userinfo=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.username)return"";var n=i.buildUserinfo(this._parts);return n.substring(0,n.length-1)}return"@"!==t[t.length-1]&&(t+="@"),i.parseUserinfo(t,this._parts),this.build(!e),this},g.resource=function(t,e){var n;return void 0===t?this.path()+this.search()+this.hash():(n=i.parse(t),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!e),this)},g.subdomain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}return n=this._parts.hostname.length-this.domain().length,n=this._parts.hostname.substring(0,n),n=new RegExp("^"+o(n)),t&&"."!==t.charAt(t.length-1)&&(t+="."),t&&i.ensureValidHostname(t),this._parts.hostname=this._parts.hostname.replace(n,t),this.build(!e),this},g.domain=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);return n&&2>n.length?this._parts.hostname:(n=this._parts.hostname.length-this.tld(e).length-1,n=this._parts.hostname.lastIndexOf(".",n-1)+1,this._parts.hostname.substring(n)||"")}if(!t)throw new TypeError("cannot set domain empty");return i.ensureValidHostname(t),!this._parts.hostname||this.is("IP")?this._parts.hostname=t:(n=new RegExp(o(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(n,t)),this.build(!e),this},g.tld=function(t,e){if(this._parts.urn)return void 0===t?"":this;if("boolean"==typeof t&&(e=t,t=void 0),void 0===t){if(!this._parts.hostname||this.is("IP"))return"";var r=this._parts.hostname.lastIndexOf("."),r=this._parts.hostname.substring(r+1);return!0!==e&&n&&n.list[r.toLowerCase()]?n.get(this._parts.hostname)||r:r}if(!t)throw new TypeError("cannot set TLD empty");if(t.match(/[^a-zA-Z0-9-]/)){if(!n||!n.is(t))throw new TypeError('TLD "'+t+'" contains characters other than [A-Z0-9]');r=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,t)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");r=new RegExp(o(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,t)}return this.build(!e),this},g.directory=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return t?i.decodePath(n):n}return n=this._parts.path.length-this.filename().length,n=this._parts.path.substring(0,n),n=new RegExp("^"+o(n)),this.is("relative")||(t||(t="/"),"/"!==t.charAt(0)&&(t="/"+t)),t&&"/"!==t.charAt(t.length-1)&&(t+="/"),t=i.recodePath(t),this._parts.path=this._parts.path.replace(n,t),this.build(!e),this},g.filename=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(n+1);return t?i.decodePathSegment(n):n}n=!1,"/"===t.charAt(0)&&(t=t.substring(1)),t.match(/\.?\//)&&(n=!0);var r=new RegExp(o(this.filename())+"$");return t=i.recodePath(t),this._parts.path=this._parts.path.replace(r,t),n?this.normalizePath(e):this.build(!e),this},g.suffix=function(t,e){if(this._parts.urn)return void 0===t?"":this;if(void 0===t||!0===t){if(!this._parts.path||"/"===this._parts.path)return"";var n=this.filename(),r=n.lastIndexOf(".");return-1===r?"":(n=n.substring(r+1),n=/^[a-z0-9%]+$/i.test(n)?n:"",t?i.decodePathSegment(n):n)}if("."===t.charAt(0)&&(t=t.substring(1)),n=this.suffix())r=new RegExp(t?o(n)+"$":o("."+n)+"$");else{if(!t)return this;this._parts.path+="."+i.recodePath(t)}return r&&(t=i.recodePath(t),this._parts.path=this._parts.path.replace(r,t)),this.build(!e),this},g.segment=function(t,e,n){var r=this._parts.urn?":":"/",i=this.path(),o="/"===i.substring(0,1),i=i.split(r);if(void 0!==t&&"number"!=typeof t&&(n=e,e=t,t=void 0),void 0!==t&&"number"!=typeof t)throw Error('Bad segment "'+t+'", must be 0-based integer');if(o&&i.shift(),0>t&&(t=Math.max(i.length+t,0)),void 0===e)return void 0===t?i:i[t];if(null===t||void 0===i[t])if(s(e)){i=[],t=0;for(var a=e.length;a>t;t++)(e[t].length||i.length&&i[i.length-1].length)&&(i.length&&!i[i.length-1].length&&i.pop(),i.push(e[t]))}else(e||"string"==typeof e)&&(""===i[i.length-1]?i[i.length-1]=e:i.push(e));else e?i[t]=e:i.splice(t,1);return o&&i.unshift(""),this.path(i.join(r),n)},g.segmentCoded=function(t,e,n){var r,o;if("number"!=typeof t&&(n=e,e=t,t=void 0),void 0===e){if(t=this.segment(t,e,n),s(t))for(r=0,o=t.length;o>r;r++)t[r]=i.decode(t[r]);else t=void 0!==t?i.decode(t):void 0;return t}if(s(e))for(r=0,o=e.length;o>r;r++)e[r]=i.decode(e[r]);else e="string"==typeof e||e instanceof String?i.encode(e):e;return this.segment(t,e,n)};var k=g.query;return g.query=function(t,e){if(!0===t)return i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"==typeof t){var n=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace),r=t.call(this,n);return this._parts.query=i.buildQuery(r||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this}return void 0!==t&&"string"!=typeof t?(this._parts.query=i.buildQuery(t,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!e),this):k.call(this,t,e)},g.setQuery=function(t,e,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof t||t instanceof String)r[t]=void 0!==e?e:null;else{if("object"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var o in t)m.call(t,o)&&(r[o]=t[o])}return this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(n=e),this.build(!n),this},g.addQuery=function(t,e,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.addQuery(r,t,void 0===e?null:e),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(n=e),this.build(!n),this},g.removeQuery=function(t,e,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.removeQuery(r,t,e),this._parts.query=i.buildQuery(r,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof t&&(n=e),this.build(!n),this},g.hasQuery=function(t,e,n){var r=i.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return i.hasQuery(r,t,e,n)},g.setSearch=g.setQuery,g.addSearch=g.addQuery,g.removeSearch=g.removeQuery,g.hasSearch=g.hasQuery,g.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},g.normalizeProtocol=function(t){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!t)),this},g.normalizeHostname=function(n){return this._parts.hostname&&(this.is("IDN")&&t?this._parts.hostname=t.toASCII(this._parts.hostname):this.is("IPv6")&&e&&(this._parts.hostname=e.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n)),this},g.normalizePort=function(t){return"string"==typeof this._parts.protocol&&this._parts.port===i.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!t)),this},g.normalizePath=function(t){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;var e,n,r,o=this._parts.path,a="";for("/"!==o.charAt(0)&&(e=!0,o="/"+o),o=o.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),e&&(a=o.substring(1).match(/^(\.\.\/)+/)||"")&&(a=a[0]);n=o.indexOf("/.."),-1!==n;)0!==n?(r=o.substring(0,n).lastIndexOf("/"),-1===r&&(r=n),o=o.substring(0,r)+o.substring(n+3)):o=o.substring(3);return e&&this.is("relative")&&(o=a+o.substring(1)),o=i.recodePath(o),this._parts.path=o,this.build(!t),this},g.normalizePathname=g.normalizePath,g.normalizeQuery=function(t){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(i.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!t)),this},g.normalizeFragment=function(t){return this._parts.fragment||(this._parts.fragment=null,this.build(!t)),this},g.normalizeSearch=g.normalizeQuery,g.normalizeHash=g.normalizeFragment,g.iso8859=function(){var t=i.encode,e=i.decode;return i.encode=escape,i.decode=decodeURIComponent,this.normalize(),i.encode=t,i.decode=e,this},g.unicode=function(){var t=i.encode,e=i.decode;return i.encode=h,i.decode=unescape,this.normalize(),i.encode=t,i.decode=e,this},g.readable=function(){var e=this.clone();e.username("").password("").normalize();var n="";if(e._parts.protocol&&(n+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&t?(n+=t.toUnicode(e._parts.hostname),e._parts.port&&(n+=":"+e._parts.port)):n+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(n+="/"),n+=e.path(!0),e._parts.query){for(var r="",o=0,a=e._parts.query.split("&"),s=a.length;s>o;o++){var u=(a[o]||"").split("="),r=r+("&"+i.decodeQuery(u[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"));void 0!==u[1]&&(r+="="+i.decodeQuery(u[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+r.substring(1)}return n+=i.decodeQuery(e.hash(),!0)},g.absoluteTo=function(t){var e,n,r=this.clone(),o=["protocol","username","password","hostname","port"];if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(t instanceof i||(t=new i(t)),r._parts.protocol||(r._parts.protocol=t._parts.protocol),this._parts.hostname)return r;for(e=0;n=o[e];e++)r._parts[n]=t._parts[n];return r._parts.path?".."===r._parts.path.substring(-2)&&(r._parts.path+="/"):(r._parts.path=t._parts.path,r._parts.query||(r._parts.query=t._parts.query)),"/"!==r.path().charAt(0)&&(t=t.directory(),r._parts.path=(t?t+"/":"")+r._parts.path,r.normalizePath()),r.build(),r},g.relativeTo=function(t){var e,n,r,o,a=this.clone().normalize();if(a._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");if(t=new i(t).normalize(),e=a._parts,n=t._parts,r=a.path(),o=t.path(),"/"!==r.charAt(0))throw Error("URI is already relative");if("/"!==o.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");return e.protocol===n.protocol&&(e.protocol=null),e.username!==n.username||e.password!==n.password||null!==e.protocol||null!==e.username||null!==e.password||e.hostname!==n.hostname||e.port!==n.port?a.build():(e.hostname=null,e.port=null,r===o?(e.path="",a.build()):(t=i.commonPath(a.path(),t.path()))?(n=n.path.substring(t.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../"),e.path=n+e.path.substring(t.length),a.build()):a.build())},g.equals=function(t){var e=this.clone();t=new i(t);var n,r={},o={},a={};if(e.normalize(),t.normalize(),e.toString()===t.toString())return!0;if(r=e.query(),o=t.query(),e.query(""),t.query(""),e.toString()!==t.toString()||r.length!==o.length)return!1;r=i.parseQuery(r,this._parts.escapeQuerySpace),o=i.parseQuery(o,this._parts.escapeQuerySpace);for(n in r)if(m.call(r,n)){if(s(r[n])){if(!l(r[n],o[n]))return!1}else if(r[n]!==o[n])return!1;a[n]=!0}for(n in o)if(m.call(o,n)&&!a[n])return!1;return!0},g.duplicateQueryParameters=function(t){return this._parts.duplicateQueryParameters=!!t,this},g.escapeQuerySpace=function(t){return this._parts.escapeQuerySpace=!!t,this},i}),function(t,e){"object"==typeof exports?module.exports=e(require("./URI")):"function"==typeof define&&define.amd?define(["./URI"],e):t.URITemplate=e(t.URI,t)}(this,function(t,e){function n(t){return n._cache[t]?n._cache[t]:this instanceof n?(this.expression=t,n._cache[t]=this,this):new n(t)}function r(t){this.data=t,this.cache={}}var i=e&&e.URITemplate,o=Object.prototype.hasOwnProperty,a=n.prototype,s={"":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encode"},"+":{prefix:"",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},"#":{prefix:"#",separator:",",named:!1,empty_name_separator:!1,encode:"encodeReserved"},".":{prefix:".",separator:".",named:!1,empty_name_separator:!1,encode:"encode"},"/":{prefix:"/",separator:"/",named:!1,empty_name_separator:!1,encode:"encode"},";":{prefix:";",separator:";",named:!0,empty_name_separator:!1,encode:"encode"},"?":{prefix:"?",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"},"&":{prefix:"&",separator:"&",named:!0,empty_name_separator:!0,encode:"encode"}};return n._cache={},n.EXPRESSION_PATTERN=/\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g,n.VARIABLE_PATTERN=/^([^*:]+)((\*)|:(\d+))?$/,n.VARIABLE_NAME_PATTERN=/[^a-zA-Z0-9%_]/,n.expand=function(t,e){var r,i,o,a=s[t.operator],u=a.named?"Named":"Unnamed",l=t.variables,c=[];for(o=0;i=l[o];o++)r=e.get(i.name),r.val.length?c.push(n["expand"+u](r,a,i.explode,i.explode&&a.separator||",",i.maxlength,i.name)):r.type&&c.push("");return c.length?a.prefix+c.join(a.separator):""},n.expandNamed=function(e,n,r,i,o,a){var s="",u=n.encode;n=n.empty_name_separator;var l,c,h,f=!e[u].length,d=2===e.type?"":t[u](a);for(c=0,h=e.val.length;h>c;c++)o?(l=t[u](e.val[c][1].substring(0,o)),2===e.type&&(d=t[u](e.val[c][0].substring(0,o)))):f?(l=t[u](e.val[c][1]),2===e.type?(d=t[u](e.val[c][0]),e[u].push([d,l])):e[u].push([void 0,l])):(l=e[u][c][1],2===e.type&&(d=e[u][c][0])),s&&(s+=i),r?s+=d+(n||l?"=":"")+l:(c||(s+=t[u](a)+(n||l?"=":"")),2===e.type&&(s+=d+","),s+=l);return s},n.expandUnnamed=function(e,n,r,i,o){var a="",s=n.encode;n=n.empty_name_separator;var u,l,c,h,f=!e[s].length;for(c=0,h=e.val.length;h>c;c++)o?l=t[s](e.val[c][1].substring(0,o)):f?(l=t[s](e.val[c][1]),e[s].push([2===e.type?t[s](e.val[c][0]):void 0,l])):l=e[s][c][1],a&&(a+=i),2===e.type&&(u=o?t[s](e.val[c][0].substring(0,o)):e[s][c][0],a+=u,a=r?a+(n||l?"=":""):a+","),a+=l;return a},n.noConflict=function(){return e.URITemplate===n&&(e.URITemplate=i),n},a.expand=function(t){var e="";this.parts&&this.parts.length||this.parse(),t instanceof r||(t=new r(t));for(var i=0,o=this.parts.length;o>i;i++)e+="string"==typeof this.parts[i]?this.parts[i]:n.expand(this.parts[i],t);return e},a.parse=function(){var t,e,r,i=this.expression,o=n.EXPRESSION_PATTERN,a=n.VARIABLE_PATTERN,u=n.VARIABLE_NAME_PATTERN,l=[],c=0;for(o.lastIndex=0;;){if(e=o.exec(i),null===e){l.push(i.substring(c));break}if(l.push(i.substring(c,e.index)),c=e.index+e[0].length,!s[e[1]])throw Error('Unknown Operator "'+e[1]+'" in "'+e[0]+'"');if(!e[3])throw Error('Unclosed Expression "'+e[0]+'"');t=e[2].split(",");for(var h=0,f=t.length;f>h;h++){if(r=t[h].match(a),null===r)throw Error('Invalid Variable "'+t[h]+'" in "'+e[0]+'"');if(r[1].match(u))throw Error('Invalid Variable Name "'+r[1]+'" in "'+e[0]+'"');t[h]={name:r[1],explode:!!r[3],maxlength:r[4]&&parseInt(r[4],10)}}if(!t.length)throw Error('Expression Missing Variable(s) "'+e[0]+'"');l.push({expression:e[0],operator:e[1],variables:t})}return l.length||l.push(i),this.parts=l,this},r.prototype.get=function(t){var e,n=this.data,r={type:0,val:[],encode:[],encodeReserved:[]};if(void 0!==this.cache[t])return this.cache[t];if(this.cache[t]=r,n="[object Function]"===String(Object.prototype.toString.call(n))?n(t):"[object Function]"===String(Object.prototype.toString.call(n[t]))?n[t](t):n[t],void 0!==n&&null!==n)if("[object Array]"===String(Object.prototype.toString.call(n))){for(e=0,t=n.length;t>e;e++)void 0!==n[e]&&null!==n[e]&&r.val.push([void 0,String(n[e])]);r.val.length&&(r.type=3)}else if("[object Object]"===String(Object.prototype.toString.call(n))){for(e in n)o.call(n,e)&&void 0!==n[e]&&null!==n[e]&&r.val.push([e,String(n[e])]);r.val.length&&(r.type=2)}else r.type=1,r.val.push([void 0,String(n)]);return r},t.expand=function(e,r){var i=new n(e).expand(r);return new t(i)},n}),function(t,e){"object"==typeof exports?module.exports=e(require("jquery","./URI")):"function"==typeof define&&define.amd?define(["jquery","./URI"],e):e(t.jQuery,t.URI)}(this,function(t,e){function n(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function r(t){var n=t.nodeName.toLowerCase();return"input"===n&&"image"!==t.type?void 0:e.domAttributes[n]}function i(e){return{get:function(n){return t(n).uri()[e]()},set:function(n,r){return t(n).uri()[e](r),r}}}function o(e,n){var i,o,u;return r(e)&&n?(i=n.match(c),i&&(i[5]||":"===i[2]||s[i[2]])?(u=t(e).uri(),i[5]?u.is(i[5]):":"===i[2]?(o=i[1].toLowerCase()+":",s[o]?s[o](u,i[4]):!1):(o=i[1].toLowerCase(),a[o]?s[i[2]](u[o](),i[4],o):!1)):!1):!1}var a={},s={"=":function(t,e){return t===e},"^=":function(t,e){return!!(t+"").match(new RegExp("^"+n(e),"i"))},"$=":function(t,e){return!!(t+"").match(new RegExp(n(e)+"$","i"))},"*=":function(t,e,r){return"directory"===r&&(t+="/"),!!(t+"").match(new RegExp(n(e),"i"))},"equals:":function(t,e){return t.equals(e)},"is:":function(t,e){return t.is(e)}};t.each("authority directory domain filename fragment hash host hostname href password path pathname port protocol query resource scheme search subdomain suffix tld username".split(" "),function(e,n){a[n]=!0,t.attrHooks["uri:"+n]=i(n)});var u=function(e,n){return t(e).uri().href(n).toString()};t.each(["src","href","action","uri","cite"],function(e,n){t.attrHooks[n]={set:u}}),t.attrHooks.uri.get=function(e){return t(e).uri()},t.fn.uri=function(t){var n=this.first(),i=n.get(0),o=r(i);if(!o)throw Error('Element "'+i.nodeName+'" does not have either property: href, src, action, cite');if(void 0!==t){var a=n.data("uri");if(a)return a.href(t);t instanceof e||(t=e(t||""))}else{if(t=n.data("uri"))return t;t=e(n.attr(o)||"")}return t._dom_element=i,t._dom_attribute=o,t.normalize(),n.data("uri",t),t},e.prototype.build=function(t){return this._dom_element?(this._string=e.build(this._parts),this._deferred_build=!1,this._dom_element.setAttribute(this._dom_attribute,this._string),this._dom_element[this._dom_attribute]=this._string):!0===t?this._deferred_build=!0:(void 0===t||this._deferred_build)&&(this._string=e.build(this._parts),this._deferred_build=!1),this};var l,c=/^([a-zA-Z]+)\s*([\^\$*]?=|:)\s*(['"]?)(.+)\3|^\s*([a-zA-Z0-9]+)\s*$/;return l=t.expr.createPseudo?t.expr.createPseudo(function(t){return function(e){return o(e,t)}}):function(t,e,n){return o(t,n[3])},t.expr[":"].uri=l,t}),function(t,e){"use strict";"object"==typeof exports?module.exports=e(require("./URI")):"function"==typeof define&&define.amd?define(["./URI"],e):e(t.URI)}(this,function(t){"use strict";var e=t.prototype,n=e.fragment;t.fragmentPrefix="?";var r=t._parts;return t._parts=function(){var e=r();return e.fragmentPrefix=t.fragmentPrefix,e},e.fragmentPrefix=function(t){return this._parts.fragmentPrefix=t,this},e.fragment=function(e,r){var i=this._parts.fragmentPrefix,o=this._parts.fragment||"";return e===!0?o.substring(0,i.length)!==i?{}:t.parseQuery(o.substring(i.length)):void 0!==e&&"string"!=typeof e?(this._parts.fragment=i+t.buildQuery(e),this.build(!r),this):n.call(this,e,r)},e.addFragment=function(e,n,r){var i=this._parts.fragmentPrefix,o=t.parseQuery((this._parts.fragment||"").substring(i.length));return t.addQuery(o,e,n),this._parts.fragment=i+t.buildQuery(o),"string"!=typeof e&&(r=n),this.build(!r),this},e.removeFragment=function(e,n,r){var i=this._parts.fragmentPrefix,o=t.parseQuery((this._parts.fragment||"").substring(i.length));return t.removeQuery(o,e,n),this._parts.fragment=i+t.buildQuery(o),"string"!=typeof e&&(r=n),this.build(!r),this},e.addHash=e.addFragment,e.removeHash=e.removeFragment,t}),function(t,e){"use strict";"object"==typeof exports?module.exports=e(require("./URI")):"function"==typeof define&&define.amd?define(["./URI"],e):e(t.URI)}(this,function(t){"use strict";var e=t.prototype,n=e.fragment,r=e.build;t.fragmentPrefix="!";var i=t._parts;return t._parts=function(){var e=i();return e.fragmentPrefix=t.fragmentPrefix,e},e.fragmentPrefix=function(t){return this._parts.fragmentPrefix=t,this},e.fragment=function(e,r){var i,o=this._parts.fragmentPrefix,a=this._parts.fragment||"";return e===!0?(i=a.substring(0,o.length)!==o?t(""):new t(a.substring(o.length)),this._fragmentURI=i,i._parentURI=this,i):void 0!==e&&"string"!=typeof e?(this._fragmentURI=e,e._parentURI=e,this._parts.fragment=o+e.toString(),this.build(!r),this):("string"==typeof e&&(this._fragmentURI=void 0),n.call(this,e,r))},e.build=function(t){var e=r.call(this,t);return t!==!1&&this._parentURI&&this._parentURI.fragment(this),e},t}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){function e(t,e,r,i){var o=t.getLineHandle(e.line),u=e.ch-1,l=u>=0&&s[o.text.charAt(u)]||s[o.text.charAt(++u)];if(!l)return null;var c=">"==l.charAt(1)?1:-1;if(r&&c>0!=(u==e.ch))return null;var h=t.getTokenTypeAt(a(e.line,u+1)),f=n(t,a(e.line,u+(c>0?1:0)),c,h||null,i);return null==f?null:{from:a(e.line,u),to:f&&f.pos,match:f&&f.ch==l.charAt(0),forward:c>0}}function n(t,e,n,r,i){for(var o=i&&i.maxScanLineLength||1e4,u=i&&i.maxScanLines||1e3,l=[],c=i&&i.bracketRegex?i.bracketRegex:/[(){}[\]]/,h=n>0?Math.min(e.line+u,t.lastLine()+1):Math.max(t.firstLine()-1,e.line-u),f=e.line;f!=h;f+=n){var d=t.getLine(f);if(d){var p=n>0?0:d.length-1,g=n>0?d.length:-1;if(!(d.length>o))for(f==e.line&&(p=e.ch-(0>n?1:0));p!=g;p+=n){var m=d.charAt(p);if(c.test(m)&&(void 0===r||t.getTokenTypeAt(a(f,p+1))==r)){var v=s[m];if(">"==v.charAt(1)==n>0)l.push(m);else{if(!l.length)return{pos:a(f,p),ch:m};l.pop()}}}}}return f-n==(n>0?t.lastLine():t.firstLine())?!1:null}function r(t,n,r){for(var i=t.state.matchBrackets.maxHighlightLineLength||1e3,s=[],u=t.listSelections(),l=0;l<u.length;l++){var c=u[l].empty()&&e(t,u[l].head,!1,r);if(c&&t.getLine(c.from.line).length<=i){var h=c.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(t.markText(c.from,a(c.from.line,c.from.ch+1),{className:h})),c.to&&t.getLine(c.to.line).length<=i&&s.push(t.markText(c.to,a(c.to.line,c.to.ch+1),{className:h}))}}if(s.length){o&&t.state.focused&&t.display.input.focus();var f=function(){t.operation(function(){for(var t=0;t<s.length;t++)s[t].clear()})};if(!n)return f;setTimeout(f,800)}}function i(t){t.operation(function(){u&&(u(),u=null),u=r(t,!1,t.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),a=t.Pos,s={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},u=null;t.defineOption("matchBrackets",!1,function(e,n,r){r&&r!=t.Init&&e.off("cursorActivity",i),n&&(e.state.matchBrackets="object"==typeof n?n:{},e.on("cursorActivity",i))}),t.defineExtension("matchBrackets",function(){r(this,!0)}),t.defineExtension("findMatchingBracket",function(t,n,r){return e(this,t,n,r)}),t.defineExtension("scanForBracket",function(t,e,r,i){return n(this,t,e,r,i)})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){function e(t,e){var n=t.getRange(u(e.line,e.ch-1),u(e.line,e.ch+1));return 2==n.length?n:null}function n(e,n,r){var i=e.getLine(n.line),o=e.getTokenAt(n);if(/\bstring2?\b/.test(o.type))return!1;var a=new t.StringStream(i.slice(0,n.ch)+r+i.slice(n.ch),4);for(a.pos=a.start=o.start;;){var s=e.getMode().token(a,o.state);if(a.pos>=n.ch+1)return/\bstring2?\b/.test(s);a.start=a.pos}}function r(r){for(var i={name:"autoCloseBrackets",Backspace:function(n){if(n.getOption("disableInput"))return t.Pass;for(var i=n.listSelections(),o=0;o<i.length;o++){if(!i[o].empty())return t.Pass;var a=e(n,i[o].head);if(!a||r.indexOf(a)%2!=0)return t.Pass}for(var o=i.length-1;o>=0;o--){var s=i[o].head;n.replaceRange("",u(s.line,s.ch-1),u(s.line,s.ch+1))}}},o="",a=0;a<r.length;a+=2)(function(e,r){o+=r,i["'"+e+"'"]=function(i){if(i.getOption("disableInput"))return t.Pass;for(var a,l,c=i.listSelections(),h=0;h<c.length;h++){var f,d=c[h],p=d.head,l=i.getRange(p,u(p.line,p.ch+1));if(d.empty())if(e==r&&l==r)f=i.getRange(p,u(p.line,p.ch+3))==e+e+e?"skipThree":"skip";else if(e==r&&p.ch>1&&i.getRange(u(p.line,p.ch-2),p)==e+e&&(p.ch<=2||i.getRange(u(p.line,p.ch-3),u(p.line,p.ch-2))!=e))f="addFour";else if('"'==e||"'"==e){if(t.isWordChar(l)||!n(i,p,e))return t.Pass;f="both"}else{if(!(i.getLine(p.line).length==p.ch||o.indexOf(l)>=0||s.test(l)))return t.Pass;f="both"}else f="surround";if(a){if(a!=f)return t.Pass}else a=f}i.operation(function(){if("skip"==a)i.execCommand("goCharRight");else if("skipThree"==a)for(var t=0;3>t;t++)i.execCommand("goCharRight");else if("surround"==a){for(var n=i.getSelections(),t=0;t<n.length;t++)n[t]=e+n[t]+r;i.replaceSelections(n,"around")}else"both"==a?(i.replaceSelection(e+r,null),i.execCommand("goCharLeft")):"addFour"==a&&(i.replaceSelection(e+e+e+e,"before"),i.execCommand("goCharRight"))})},e!=r&&(i["'"+r+"'"]=function(e){for(var n=e.listSelections(),i=0;i<n.length;i++){var o=n[i];if(!o.empty()||e.getRange(o.head,u(o.head.line,o.head.ch+1))!=r)return t.Pass}e.execCommand("goCharRight")})})(r.charAt(a),r.charAt(a+1));return i}function i(n){return function(r){if(r.getOption("disableInput"))return t.Pass;for(var i=r.listSelections(),o=0;o<i.length;o++){if(!i[o].empty())return t.Pass;var a=e(r,i[o].head);if(!a||n.indexOf(a)%2!=0)return t.Pass}r.operation(function(){r.replaceSelection("\n\n",null),r.execCommand("goCharLeft"),i=r.listSelections();for(var t=0;t<i.length;t++){var e=i[t].head.line;r.indentLine(e,null,!0),r.indentLine(e+1,null,!0)}})}}var o="()[]{}''\"\"",a="[]{}",s=/\s/,u=t.Pos;t.defineOption("autoCloseBrackets",!1,function(e,n,s){if(s!=t.Init&&s&&e.removeKeyMap("autoCloseBrackets"),n){var u=o,l=a;"string"==typeof n?u=n:"object"==typeof n&&(null!=n.pairs&&(u=n.pairs),null!=n.explode&&(l=n.explode));var c=r(u);l&&(c.Enter=i(l)),e.addKeyMap(c)}})}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("sparql",function(t){function e(t){return new RegExp("^(?:"+t.join("|")+")$","i")}function n(t,e){var n=t.next();if(a=null,"$"==n||"?"==n)return"?"==n&&t.match(/\s/,!1)?"operator":(t.match(/^[\w\d]*/),"variable-2");if("<"!=n||t.match(/^[\s\u00a0=]/,!1)){if('"'==n||"'"==n)return e.tokenize=r(n),e.tokenize(t,e);if(/[{}\(\),\.;\[\]]/.test(n))return a=n,"bracket";if("#"==n)return t.skipToEnd(),"comment";if(c.test(n))return t.eatWhile(c),"operator";if(":"==n)return t.eatWhile(/[\w\d\._\-]/),"atom";if("@"==n)return t.eatWhile(/[a-z\d\-]/i),"meta";if(t.eatWhile(/[_\w\d]/),t.eat(":"))return t.eatWhile(/[\w\d_\-]/),"atom";var i=t.current();return u.test(i)?"builtin":l.test(i)?"keyword":"variable"}return t.match(/^[^\s\u00a0>]*>?/),"atom"}function r(t){return function(e,r){for(var i,o=!1;null!=(i=e.next());){if(i==t&&!o){r.tokenize=n;break}o=!o&&"\\"==i}return"string"}}function i(t,e,n){t.context={prev:t.context,indent:t.indent,col:n,type:e}}function o(t){t.indent=t.context.indent,t.context=t.context.prev}var a,s=t.indentUnit,u=e(["str","lang","langmatches","datatype","bound","sameterm","isiri","isuri","iri","uri","bnode","count","sum","min","max","avg","sample","group_concat","rand","abs","ceil","floor","round","concat","substr","strlen","replace","ucase","lcase","encode_for_uri","contains","strstarts","strends","strbefore","strafter","year","month","day","hours","minutes","seconds","timezone","tz","now","uuid","struuid","md5","sha1","sha256","sha384","sha512","coalesce","if","strlang","strdt","isnumeric","regex","exists","isblank","isliteral","a"]),l=e(["base","prefix","select","distinct","reduced","construct","describe","ask","from","named","where","order","limit","offset","filter","optional","graph","by","asc","desc","as","having","undef","values","group","minus","in","not","service","silent","using","insert","delete","union","true","false","with","data","copy","to","move","add","create","drop","clear","load"]),c=/[*+\-<>=&|\^\/!\?]/;return{startState:function(){return{tokenize:n,context:null,indent:0,col:0}},token:function(t,e){if(t.sol()&&(e.context&&null==e.context.align&&(e.context.align=!1),e.indent=t.indentation()),t.eatSpace())return null;var n=e.tokenize(t,e);if("comment"!=n&&e.context&&null==e.context.align&&"pattern"!=e.context.type&&(e.context.align=!0),"("==a)i(e,")",t.column());else if("["==a)i(e,"]",t.column());else if("{"==a)i(e,"}",t.column());else if(/[\]\}\)]/.test(a)){for(;e.context&&"pattern"==e.context.type;)o(e);e.context&&a==e.context.type&&o(e)}else"."==a&&e.context&&"pattern"==e.context.type?o(e):/atom|string|variable/.test(n)&&e.context&&(/[\}\]]/.test(e.context.type)?i(e,"pattern",t.column()):"pattern"!=e.context.type||e.context.align||(e.context.align=!0,e.context.col=t.column()));
return n},indent:function(t,e){var n=e&&e.charAt(0),r=t.context;if(/[\]\}]/.test(n))for(;r&&"pattern"==r.type;)r=r.prev;var i=r&&n==r.type;return r?"pattern"==r.type?r.col:r.align?r.col+(i?0:1):r.indent+(i?0:s):0}}}),t.defineMIME("application/sparql-query","sparql")});